# SmartFinHub Requirements Document

## 1. Application Overview

### 1.1 Application Name
SmartFinHub\n
### 1.2 Application Description
A comprehensive financial management web application designed for tracking and managing multiple financial accounts including cash, bank accounts, credit cards, and loans. The platform provides real-time balance updates, transaction recording, budget analysis, detailed financial reporting, and AI-powered financial insights with enterprise-grade data protection.

### 1.3 Authentication System
\n#### 1.3.1 Mobile Number Registration and Login (Primary Method)
- **Mobile Number Registration**: Users register using their mobile phone number
- **OTP Verification via MojoAuth**: System integrates MojoAuth service (https://mojoauth.com) for OTP-based authentication
- During registration, user enters mobile number\n- System sends OTP (One-Time Password) to user's mobile number via MojoAuth service
- OTP is a 6-digit numeric code generated by MojoAuth
- User enters OTP on registration page to verify mobile number
- OTP valid for 10 minutes from generation time
- Verified mobile number serves as username for secure login
- **Login Process**: User enters mobile number and receives OTP via MojoAuth for authentication
- User enters OTP to complete login process
- No password required for mobile number-based authentication

#### 1.3.2 Email Registration and Login (Alternative Method)
- **Email Registration and Login**: Users can alternatively register and login using email address
- **Email Verification**: During registration, system sends verification code to user's email address
- Verification code is a 6-digit numeric code generated by the application's internal verification system
- User enters verification code on registration page to complete email verification
- Verification code valid for 15 minutes from generation time
- **No Third-Party Dependency**: Email verification system built into application without relying on external authentication services
- Application uses its own SMTP server configuration to send verification emails
- Verified email address serves as username for secure login
\n#### 1.3.3 Password Recovery\n- **Forgot Password Option**: Forgot password link displayed on login page (applicable only for email-based accounts)
- Password reset via email verification code
- User receives 6-digit verification code to registered email address
- After entering valid verification code, user can set new password
- Password reset verification code valid for 15 minutes
- **Mobile Number Account Recovery**: For mobile number-based accounts, user can login anytime using OTP sent via MojoAuth
\n#### 1.3.4 Account Settings
- **Change Password on Dashboard**: Password change option available in user account settings on dashboard (for email-based accounts)
- User must enter current password before setting new password
- Password change confirmation sent to registered email address
- **Update Mobile Number**: Users with mobile number accounts can update their registered mobile number
- New mobile number verification required via OTP through MojoAuth service
- **Link Email to Mobile Account**: Users registered via mobile number can optionally link an email address to their account for additional recovery options

## 2. Core Features
\n### 2.1 User Preferences
- Select default country from dropdown list
- Choose preferred currency for dashboard display
- Country and currency settings saved to user profile
- Settings apply across all dashboard views and reports

### 2.2 Account Management
\n#### 2.2.1 Account Types
- Cash accounts\n- Bank accounts
- Credit card accounts
- Loan accounts\n\n#### 2.2.2 Account Setup
- Country selection from dropdown menu
- Bank or financial institution selection based on chosen country
- **Complete bank name list available in dropdown for all supported countries**
- Dropdown includes all major banks and financial institutions for selected country
- **Automatic Bank App/Website Link Fetching**: When user selects a bank or financial institution during account creation or editing, system automatically fetches official mobile app links and website URLs for that institution from internet sources
- System retrieves both Android app (Google Play Store) link and iOS app (Apple App Store) link for the selected bank
- System also fetches official website URL for the bank or financial institution
- Fetched links stored in account profile and displayed on account pages and dashboard
- **Quick Link Display on Account Cards**: Each bank, credit card, and loan account card on dashboard displays quick access buttons:\n  - 'Open App' button: Opens bank's mobile application\n  - 'Visit Website' button: Opens bank's official website in new browser tab
- **Smart App Store Redirection**: When user clicks 'Open App' button:\n  - System automatically detects user's mobile device operating system
  - For Android devices: Redirects to Google Play Store app page
  - For iOS devices: Redirects to Apple App Store app page
  - For desktop browsers: Displays QR code for mobile app download or redirects to web version if available
  - Seamless redirection without manual app store selection
- **Website Quick Access**: When user clicks 'Visit Website' button, system opens bank's official website in new browser tab
- Quick links available for all bank accounts, credit card accounts, and loan accounts
- **Link Validation and Updates**: System periodically validates fetched links to ensure they remain active and accurate
- Automatic link refresh if broken or outdated links detected
- **For India**: Bank selection page includes 'BOB World: Banking & Experience' app link for Bank of Baroda customers
- Display bank/financial institution logo on account pages and dashboard
- Manual bank name entry option if institution not listed\n- **Automatic Logo Fetching**: When bank/loan/credit card account logo is not available in the system database during account creation or editing, automatically fetch the logo from internet sources
- Fetched logos displayed on both account pages and dashboard
- System caches fetched logos for future use
- Optional account number entry (only last 4 digits visible on dashboard)

#### 2.2.3 Credit Card Configuration
- **Statement Day of Month**: User inputs the day of month when credit card statement is generated (1-31)
- **Due Day of Month**: User inputs the day of month when credit card payment is due (1-31)
- **Credit Card Limit**: User inputs their own credit limit for the card
- User-defined limit stored in credit card account profile
- Statement day and due day saved to credit card account profile
- System displays statement date and due date reminders on dashboard
- Payment reminders shown on credit card account detail page
- Visual indicators for upcoming statement dates and due dates
- **Credit Limit Alert**: System triggers alert notification when user attempts transaction that would exceed their set credit limit
- Alert displayed before transaction confirmation to prevent overspending
- Current available credit displayed on credit card account page and dashboard

#### 2.2.4 Loan Account Configuration
- Select interest rate type: Fixed or Floating
- Input total principal loan amount
- **EMI Due Day of Month**: User inputs the day of month when EMI payment is due (1-31)
- EMI due day saved to loan account profile for automatic interest calculation
- Auto-calculate EMI based on principal, interest rate, and tenure
- **EMI Payment History Entry**: During loan account creation or editing, system prompts user to provide details of every EMI payment already made:\n  - EMI Payment Date: Date when each EMI was paid
  - EMI Amount Paid: Actual amount paid for each EMI installment
- User can add multiple historical EMI payment records during account setup or editing
- **EMI Breakdown Calculation**: System automatically calculates for each EMI payment:
  - Principal Component: Portion of EMI payment applied to principal reduction
  - Interest Component: Portion of EMI payment applied to interest charges
- Calculation based on loan amount, interest rate, tenure, and payment date
- **Manual Correction of Principal and Interest**: After system calculates principal and interest breakdown for each EMI, user can manually edit and correct the principal amount and interest amount if needed
- Manual corrections allow user to adjust for any discrepancies or special payment arrangements
- System saves user-corrected values and uses them for all subsequent calculations
- Corrected values reflected in loan account statement and accrued interest calculations
- **Loan Account Statement Generation**: System generates detailed loan account statement showing:
  - Each EMI payment with date and amount
  - Principal and interest breakdown for each payment (including user corrections)
  - Running balance of outstanding principal after each payment
  - Cumulative interest paid to date
  - Remaining loan balance
- **Accurate Accrued Interest Calculation**: System calculates precise accrued interest based on:
  - Historical EMI payment records
  - Interest component extracted from each EMI (including user corrections)
  - Current outstanding principal balance
  - Interest rate and payment schedule
- Accrued interest displayed on dashboard and loan account detail page
- **Edit EMI History**: User can add, edit, or delete historical EMI payment records at any time
- User can modify principal and interest breakdown for any EMI payment record
- System recalculates principal/interest breakdown and accrued interest automatically when EMI history is modified
- **Automatic Monthly Interest Calculation and Addition**: On the EMI due day of each month, system automatically:\n  - Calculates interest for the month based on outstanding principal balance and all transactions in loan account during the month
  - Considers all payments, additional payments, and principal adjustments made during the month
  - Adds calculated monthly interest amount to the loan account balance
  - Records interest addition as a system-generated transaction in loan account statement
  - Updates total accrued interest on dashboard and loan account detail page
- Sends notification to user about monthly interest addition
- Interest calculation uses daily balance method considering all intra-month transactions
- System maintains complete audit trail of all automatic interest additions

#### 2.2.5 Floating Interest Rate Management
- Record all interest rate changes from loan inception to current date
- User can update floating interest rate at any time
- System maintains complete historical record of rate changes
- Auto-calculate total accrued interest till date
- Display accrued interest on dashboard and account detail page
- Chart visualization showing floating interest rate history over time
- **EMI Recalculation on Rate Change**: When floating interest rate is updated, system recalculates principal and interest components for all subsequent EMI payments
- Updated interest breakdown reflected in loan account statement
- Automatic monthly interest calculation uses current applicable interest rate
\n#### 2.2.6 Account Modification\n- Edit any account information at any time
- Delete accounts with user confirmation
\n### 2.3 Transaction Management

#### 2.3.1 Transaction Types
- Income transactions\n- Expense transactions
- Cash withdrawals (from bank account or credit card)
- Bank-to-bank transfers
- Loan payment transactions (treated as expenses)
- **Credit card repayment transactions**
- System-generated interest additions (for loan accounts)
\n#### 2.3.2 Transaction Description Field
- **Mandatory Description Field**: Every transaction entry includes a description field where user can add notes, details, or context about the transaction
- Description field accepts free-form text input (up to 500 characters)
- Examples of transaction descriptions:
  - 'Grocery shopping at Walmart for weekly supplies'
  - 'Monthly electricity bill payment'
  - 'Dinner with family at Italian restaurant'
  - 'Online purchase of books from Amazon'
  - 'Fuel refill at Shell gas station'
- Transaction descriptions stored with each transaction record
- Descriptions displayed in transaction history and account statements
- **AI Analysis Integration**: Transaction descriptions used by AI engine during analysis to:\n  - Identify spending patterns based on merchant names and purchase types mentioned in descriptions
  - Categorize transactions more accurately by analyzing description context
  - Detect recurring expenses by recognizing similar description patterns
  - Provide more personalized and contextual financial recommendations
  - Generate deeper insights into user's spending behavior and preferences
  - Identify potential cost-saving opportunities based on described purchase details
- AI natural language processing analyzes description text to extract meaningful insights
- Description-based analysis enhances accuracy of budget recommendations and spending pattern recognition
\n#### 2.3.3 Transaction Processing Logic
- **Credit card accounts displayed as negative balances (liabilities)**
- **Expense transactions from credit card increase card balance (more negative, higher liability)**
- **Cash withdrawals from credit card increase card balance (more negative, higher liability)**
- Loan accounts displayed as negative balances\n- **Loan Payment Transactions**: Treated as expense transactions
- During loan payment transaction entry, system automatically selects 'Loan Repayments' expense budget category by default
- User can change budget category if needed, but default selection is 'Loan Repayments'\n- Loan payment transactions decrease loan balance (less negative)\n- All loan payment transactions automatically reflected in payment history on loan account page
- Loan account page displays complete payment history including date, amount, and transaction details for all loan payments
- **Credit Card Repayment Transaction**: New transaction type for paying credit card bills
  - User selects source bank account from which repayment is made
  - User selects target credit card account being paid
  - User enters repayment amount
  - System simultaneously:\n    - Reduces source bank account balance by repayment amount
    - Reduces credit card liability (makes balance less negative) by repayment amount
  - Transaction recorded in both bank account and credit card account statements
  - Repayment transaction clearly labeled in transaction history
- During expense transaction entry, display remaining budget balance for the selected budget category for current month
- Show budget balance information prominently before transaction confirmation to help user make informed spending decisions
- **Available Balance Display**: When user selects from account during expense transaction, withdrawal transaction, or transfer transaction entry, system displays current available balance of the selected account
- Available balance shown immediately after account selection and before transaction amount entry
- Balance display helps user verify sufficient funds before completing transaction
- Dashboard auto-updates after each transaction\n- Screen refreshes automatically after transaction entry\n- **Automatic Interest Transaction**: On EMI due day, system automatically creates interest transaction in loan account
- Interest transaction increases loan balance (more negative)
- Interest transaction marked as system-generated and non-editable by user
- All loan account transactions considered in monthly interest calculation
\n#### 2.3.4 Credit Card Transaction with EMI Option
- **EMI Payment Option**: During credit card transaction entry, system prompts user to select payment method\n- Payment options: Full Payment or EMI (Equated Monthly Installment)\n- **EMI Configuration**: If EMI option selected, user provides:
  - EMI Duration: Number of months for installment plan
  - Bank EMI Charges: Processing fee or interest charges applied by bank
- **EMI Calculation**: System automatically calculates monthly EMI amount based on transaction amount, duration, and bank charges
- **Statement Amount Calculation**: System calculates EMI amount to be included in monthly credit card statement
- **Dashboard Display**: EMI details displayed on dashboard including:
  - Total EMI amount
  - Monthly installment amount
  - Remaining EMI tenure
  - Total bank charges
- **Account Page Display**: Credit card account page shows:
  - Active EMI transactions list
  - EMI payment schedule
  - Next EMI due amount
  - Outstanding EMI balance
- EMI transactions tracked separately from regular credit card balance
- Monthly EMI amount automatically added to credit card statement on statement generation day
\n#### 2.3.5 Transaction Modification
- Edit any transaction record\n- Delete transactions with automatic balance recalculation
- System-generated interest transactions cannot be edited or deleted by user
- Credit card repayment transactions can be edited or deleted with automatic recalculation of both bank and credit card balances
- Loan payment transactions can be edited or deleted with automatic recalculation of loan balance and payment history update
\n### 2.4 Dashboard Display

#### 2.4.1 Tab-Based Dashboard Structure
- **Dashboard organized into multiple tabs for better content organization and navigation**
- **Tab 1 - Overview**: Financial summary and account cards
- **Tab 2 - Analytics**: Visual charts including pie charts for balance distribution and expense breakdown, line charts for interest rate history\n- **Tab 3 - Cash Flow**: Monthly cash flow projection with opening balance, income, expenses, and credit card dues breakdown
- **Tab 4 - Accounts**: Detailed view of all accounts with quick statement access
- **Tab 5 - AI Insights**: AI-powered transaction analysis, spending patterns, and personalized financial recommendations
- User can switch between tabs by clicking on tab headers
- Active tab highlighted with visual indicator
- Each tab loads relevant content dynamically\n- Tab selection persists during user session

#### 2.4.2 Financial Summary (Overview Tab)
- Current Assets: Sum of Cash and Bank Account balances
- Current Liabilities: Sum of Credit Card balances only
- Liquid Assets: Sum of Cash and Bank Account balances
- Loan accounts excluded from Current Liabilities calculation
- Loan accounts excluded from Liquid Assets calculation
- Total accrued interest displayed for each loan account
- Monthly interest additions reflected in real-time
\n#### 2.4.3 Monthly Cash Flow Projection (Cash Flow Tab)
- **Opening Balance Display**: Dashboard shows combined opening balance of Cash and Bank accounts for current month
- **Income Transactions Addition**: System adds all income transactions recorded from start of month till current date to opening balance
- **Month-to-Date Expenses Deduction**: System deducts all expenses incurred from start of month till current date (including loan payment transactions)
- **Remaining Budget Deduction**: System deducts remaining budgeted expenses for the month (total monthly expense budget minus expenses already incurred)
- **Expected Balance Calculation**: System calculates and displays expected balance after accounting for income received and remaining budgeted expenses
- **Credit Card Dues Breakdown**: System displays upcoming credit card payment due amounts separately for each credit card account:\n  - Identifies the next upcoming due date for each credit card
  - Shows credit card name/bank with logo
  - Displays due date for each card
  - Shows payment due amount for each card separately
  - Lists all credit cards with upcoming dues in chronological order by due date
  - Deducts each credit card due amount individually from expected balance
- **Final Projected Balance**: Dashboard prominently displays final projected balance showing expected cash and bank account balance after all income, planned expenses and all credit card payments\n- Calculation formula: Opening Balance + Income Till Date - Expenses Till Date (including loan payments) - Remaining Budget - (Sum of All Individual Credit Card Due Amounts) = Final Projected Balance
- Visual indicator showing positive (green) or negative (red) projected balance
- Breakdown view available showing each component of the calculation including individual credit card dues

#### 2.4.4 Visual Analytics (Analytics Tab)
- 3D pie chart showing Cash and Bank Account balance distribution
- 3D pie chart showing Expenses breakdown by category (including Loan Repayments category and custom expense categories)
- Line chart displaying Floating Interest Rate history for loan accounts
\n#### 2.4.5 Account Display Cards (Overview Tab & Accounts Tab)
- Bank or financial institution logo\n- Account type indicator\n- Last 4 digits of account number only\n- Real-time current balance\n- **Quick Access Buttons**: Each account card displays:
  - 'Open App' button with bank's mobile app icon
  - 'Visit Website' button with globe icon
  - Buttons prominently positioned on account card for easy access
- For loan accounts: Total accrued interest till date including automatic monthly interest additions
- **For credit card accounts**:
  - Display next statement date and payment due date as reminders
  - Show user-defined credit limit
  - Display available credit remaining
  - Show active EMI transactions count
  - Display total outstanding EMI balance
  - Show next EMI installment amount and due date
- Visual indicators highlighting upcoming statement dates and due dates within 7 days
- **For loan accounts**: Visual indicator showing next EMI due date and automatic interest calculation date
\n#### 2.4.6 Account Quick View (Accounts Tab)
- **Click-to-View Statement**: When user clicks on any account card on dashboard, system displays popup window showing last 90 days statement for that account
- Popup includes transaction history, balance changes, and account activity for the 90-day period
- **For loan accounts**: Popup displays detailed payment history including all loan payment transactions with date, amount, and transaction details for the 90-day period, plus EMI payment history with principal and interest breakdown, and automatic monthly interest additions
- **For credit card accounts**: Popup displays all transactions including expenses, withdrawals, and repayment transactions for the 90-day period\n- Statement popup available for all account types: Cash, Bank, Credit Card, and Loan accounts
- Close button to dismiss popup and return to dashboard

### 2.5 Budget Management

#### 2.5.1 Income Budget Categories
- **Predefined Income Categories**: Input monthly budgeted income amounts by category:\n  - Salaries\n  - Allowances
  - Family Income
  - Others\n- **Custom Income Category Creation**: User can create custom income budget categories
- Click 'Add Custom Income Category' button in Budget Management section
- Enter custom category name (e.g., 'Freelance Income', 'Investment Returns', 'Rental Income')
- System validates category name to prevent duplicates
- Custom income category added to income budget category list
- User can input monthly budgeted amount for custom income category
- Custom income categories displayed alongside predefined categories in budget management interface
- **Edit and Delete Custom Income Categories**: User can edit custom income category names or delete custom categories at any time
- Deleting custom category prompts confirmation and reassigns existing transactions to 'Others' category

#### 2.5.2 Expense Budget Categories
- **Predefined Expense Categories**: Input monthly budgeted expense amounts by category including:
  - Standard expense categories (Food, Transportation, Entertainment, Shopping, etc.)
  - Loan Repayments (default category for loan payment transactions)
  - Credit Card Repayment\n- **Custom Expense Category Creation**: User can create custom expense budget categories
- Click 'Add Custom Expense Category' button in Budget Management section\n- Enter custom category name (e.g., 'Pet Care', 'Home Maintenance', 'Subscriptions', 'Charity')
- System validates category name to prevent duplicates
- Custom expense category added to expense budget category list
- User can input monthly budgeted amount for custom expense category\n- Custom expense categories displayed alongside predefined categories in budget management interface
- **Edit and Delete Custom Expense Categories**: User can edit custom expense category names or delete custom categories at any time
- Deleting custom category prompts confirmation and reassigns existing transactions to 'Others' category

#### 2.5.3 Budget Analysis and Tracking
- Compare actual expenses against budgeted amounts (including custom categories)
- Display budget variance (over/under budget) on dashboard for all categories
- Monthly budget tracking and analysis
- Editing or saving budget automatically triggers immediate update of Budget vs. Actual analysis
- Real-time recalculation of budget variance when budget values are modified
- Updated Budget vs. Actual analysis immediately reflected on dashboard and reports
- System recalculates remaining budget for each category (including custom categories) after budget modification
\n### 2.6 AI-Powered Financial Intelligence

#### 2.6.1 AI Transaction Analysis
- **Automated Transaction Pattern Recognition**: AI engine continuously analyzes all user transactions across all accounts to identify spending patterns, recurring expenses, and financial behavior trends
- **Transaction Description Analysis**: AI analyzes transaction description field content to:\n  - Extract merchant names, purchase types, and spending context from user-provided descriptions
  - Identify recurring merchants and vendors mentioned in transaction descriptions
  - Recognize spending patterns based on description keywords and phrases
  - Categorize transactions more accurately by understanding description context
  - Detect subscription services and recurring payments from description patterns
  - Identify discretionary vs. essential spending based on description details
  - Generate contextual insights about user's shopping preferences and habits
- **Category-Wise Spending Analysis**: AI breaks down expenses by budget categories (including Loan Repayments and custom categories) and identifies which categories consistently exceed or stay within budget limits
- **Temporal Spending Patterns**: AI detects spending patterns based on time periods (weekly, monthly, seasonal) to identify high-spending periods and low-spending periods
- **Merchant and Vendor Analysis**: AI identifies frequently used merchants and vendors from transaction descriptions, analyzing spending concentration and suggesting alternatives if cost-saving opportunities exist
- **Anomaly Detection**: AI flags unusual or unexpected transactions that deviate significantly from user's normal spending patterns for review

#### 2.6.2 Budget Optimization Recommendations
- **Expense Reduction Suggestions**: AI analyzes current expense budget allocations and actual spending to provide specific, actionable recommendations for reducing expenses in each budget category (including custom categories)
- **Description-Based Recommendations**: AI uses transaction description analysis to provide targeted suggestions such as:
  - Identifying frequently mentioned merchants where user overspends
  - Suggesting alternative vendors or shopping options based on description patterns
  - Recommending consolidation of similar purchases mentioned in multiple transaction descriptions
  - Highlighting subscription services that may be underutilized based on description frequency
- **Category-Specific Optimization**: For each expense category (including custom categories) where user consistently overspends, AI suggests realistic budget adjustments or spending reduction strategies
- **Prioritized Recommendations**: AI ranks budget optimization suggestions by potential savings impact, presenting highest-impact recommendations first
- **Contextual Suggestions**: AI considers user's income level, financial goals, and spending history when generating budget reduction recommendations to ensure suggestions are practical and achievable
- **Alternative Spending Strategies**: AI suggests alternative approaches to common expenses (e.g., subscription consolidation, bulk purchasing opportunities, timing-based savings)

#### 2.6.3 Monthly Budget Adherence Insights
- **Budget vs. Actual Comparison**: AI provides detailed analysis comparing budgeted amounts against actual spending for each category (including custom categories), highlighting areas of concern\n- **Overspending Alerts**: AI generates proactive alerts when spending in any category (including custom categories) approaches or exceeds budget limits, with suggestions to course-correct
- **Underspending Opportunities**: AI identifies categories where user consistently underspends, suggesting potential reallocation of budget to other areas or savings opportunities
- **Monthly Budget Health Score**: AI calculates overall budget adherence score based on how well user stays within budget across all categories (including custom categories), with trend analysis over time
\n#### 2.6.4 Personalized Financial Recommendations
- **Savings Goal Suggestions**: Based on income and expense patterns, AI recommends realistic monthly savings targets and strategies to achieve them
- **Debt Reduction Strategies**: For users with loan accounts and credit card debt, AI analyzes interest rates and balances to suggest optimal repayment strategies (e.g., debt avalanche or snowball methods)
- **Cash Flow Optimization**: AI analyzes monthly cash flow patterns and suggests timing adjustments for bill payments and expenses to maintain healthier cash reserves
- **Emergency Fund Recommendations**: AI assesses user's financial stability and recommends appropriate emergency fund targets based on monthly expenses and income volatility
- **Investment Readiness Assessment**: When user demonstrates consistent budget adherence and positive cash flow, AI suggests readiness for investment opportunities

#### 2.6.5 Predictive Financial Insights
- **Future Expense Forecasting**: AI predicts upcoming expenses based on historical patterns and transaction description analysis, helping user prepare for anticipated costs
- **Income Stability Analysis**: AI analyzes income transaction patterns to assess income stability and flag potential income volatility concerns
- **Budget Sustainability Projection**: AI projects whether current budget allocations are sustainable long-term based on spending trends and income patterns
- **Financial Goal Timeline Estimation**: AI estimates realistic timelines for achieving financial goals (e.g., debt payoff, savings targets) based on current financial behavior
\n#### 2.6.6 Comprehensive Historical Data Analysis and Future Budget Recommendations
- **Complete User Data Analysis**: AI engine analyzes entire financial dataset belonging to user including:
  - All historical transactions across all accounts (Cash, Bank, Credit Card, Loan) from account inception to current date
  - Complete transaction description history for contextual spending analysis
  - Complete income history with category-wise breakdown (including custom income categories)
  - Complete expense history with category-wise breakdown (including custom expense categories)
  - Historical budget allocations and actual spending patterns
  - Loan payment history and interest accrual patterns
  - Credit card usage patterns and repayment behavior
  - Account balance trends over time
  - Seasonal spending variations and recurring expense patterns
- **Current Month Transaction Advisory**: AI provides real-time advisory for current month based on:\n  - Month-to-date income and expense analysis
  - Analysis of transaction descriptions to identify current month spending trends
  - Comparison of current month spending against historical averages
  - Budget adherence status for each category (including custom categories) in current month
  - Identification of categories where user is overspending or underspending in current month
  - Remaining days in month and projected spending trajectory
  - Specific recommendations to stay within budget for remainder of current month
  - Alerts for upcoming bill payments and financial obligations in current month
  - Cash flow status and liquidity assessment for current month
- **Future Month Budget Suggestions**: AI analyzes complete historical data to suggest optimized budget allocations for upcoming month:\n  - **Income Budget Recommendations**: AI suggests realistic income budget for next month based on:\n    - Historical income patterns and trends
    - Seasonal income variations
    - Income stability assessment
    - Projected income for next month
  - **Expense Budget Recommendations**: AI suggests category-wise expense budget for next month (including custom categories) based on:
    - Historical spending patterns in each category
    - Transaction description analysis revealing spending preferences and habits
    - Seasonal expense variations
    - Recurring expenses and fixed obligations
    - Discretionary spending trends
    - Identified cost-saving opportunities
    - User's financial goals and priorities
  - **Budget Optimization**: AI recommends adjustments to budget allocations to:\n    - Reduce overspending in problematic categories
    - Reallocate budget from consistently underspent categories\n    - Increase savings allocation based on income surplus patterns
    - Prioritize debt repayment if applicable
    - Build emergency fund reserves
  - **Comparative Analysis**: AI shows comparison between:\n    - Current month budget vs. suggested next month budget
    - Historical average spending vs. suggested budget
    - Expected savings increase with suggested budget
- **Long-Term Trend Analysis**: AI identifies long-term financial trends including:
  - Multi-month spending trends in each category (including custom categories)
  - Income growth or decline patterns
  - Debt reduction progress over time
  - Savings accumulation trends
  - Financial health improvement or deterioration indicators
- **Actionable Insights Presentation**: AI presents analysis and recommendations in clear, actionable format:\n  - Visual charts showing historical trends and projections
  - Category-wise budget comparison tables
  - Prioritized action items for current month
  - Suggested budget template for next month with rationale for each allocation
  - Expected financial outcomes if suggestions are implemented

#### 2.6.7 AI Insights Dashboard (AI Insights Tab)
- **Comprehensive AI Analysis Display**: Dedicated dashboard tab presenting all AI-generated insights, recommendations, and analysis in organized, easy-to-understand format
- **Visual Insight Cards**: Key AI recommendations displayed as interactive cards with clear action items and expected impact
- **Spending Heatmap**: Visual representation showing spending intensity across categories (including custom categories) and time periods
- **Recommendation Action Tracking**: User can mark AI recommendations as 'Implemented', 'In Progress', or 'Dismissed', with system tracking impact of implemented recommendations
- **AI Insight History**: Historical record of all AI recommendations and their outcomes, allowing user to review past suggestions and their effectiveness
- **Customizable Insight Preferences**: User can configure which types of AI insights and recommendations they want to receive (e.g., focus on expense reduction, debt management, or savings optimization)
- **Current Month Advisory Section**: Dedicated section displaying real-time advisory for current month transactions with actionable recommendations
- **Future Budget Suggestions Section**: Dedicated section displaying AI-suggested budget allocations for next month with detailed rationale and expected outcomes
- **Historical Analysis Dashboard**: Interactive visualizations showing complete historical data analysis with trend charts and pattern recognition insights

#### 2.6.8 AI Learning and Adaptation
- **Continuous Learning**: AI engine continuously learns from user's financial behavior, transaction patterns, transaction descriptions, and responses to recommendations to improve suggestion accuracy over time
- **Personalization Enhancement**: AI adapts recommendations based on user's acceptance or rejection of previous suggestions, becoming more aligned with user's financial priorities and preferences
- **Seasonal Adjustment**: AI recognizes seasonal spending patterns (e.g., holiday expenses, annual subscriptions) and adjusts recommendations accordingly
- **Life Event Recognition**: AI detects significant financial life events (e.g., job change, major purchases, income changes) and adapts recommendations to new financial circumstances
\n#### 2.6.9 AI-Powered Notifications
- **Smart Budget Alerts**: AI sends timely notifications when spending patterns suggest user may exceed budget in specific categories (including custom categories) before month end
- **Savings Opportunity Alerts**: AI notifies user when it identifies immediate opportunities to save money or optimize spending\n- **Bill Payment Reminders**: AI learns user's bill payment patterns and sends proactive reminders for upcoming due dates\n- **Financial Milestone Notifications**: AI celebrates user's financial achievements (e.g., staying within budget for consecutive months, reaching savings goals) to encourage positive financial behavior
- **Monthly Advisory Notifications**: At start of each month, AI sends comprehensive advisory summarizing previous month performance and presenting suggested budget for current month

### 2.7 Reporting\n
#### 2.7.1 Transaction History Reports
- Transaction history reports with date range filters
- **Income/Expense Category Filters**: Additional filter options in Transaction History Reports section allowing user to filter transactions by:
  - Income categories (including predefined and custom income categories)
  - Expense categories (including predefined and custom expense categories)
- **Multi-Category Selection**: User can select multiple income or expense categories simultaneously to view combined transaction history
- **Category Filter Dropdown**: Dropdown menu displaying all available income and expense categories (predefined and custom) with checkboxes for multi-selection
- **Filter Combination**: User can combine date range filters with category filters for precise transaction history queries
- **Clear Filters Option**: One-click button to clear all applied filters and view complete transaction history
- Filtered transaction results displayed in table format with columns: Date, Description, Category, Account, Amount, Balance
- Export filtered transaction history to CSV or PDF format

#### 2.7.2 Income and Expense Summary Reports
- Income and expense summary reports with category-wise breakdown (including custom categories)
- Visual charts showing income vs. expense trends over selected time period
- Category-wise spending analysis with percentage distribution
\n#### 2.7.3 Account Balance Reports
- Account balance reports across all accounts
- Historical balance trends with line charts
- Account-wise balance comparison
\n#### 2.7.4 Budget vs. Actual Analysis Reports
- Budget vs. actual analysis reports comparing budgeted amounts against actual spending for all categories (including custom categories)
- Variance analysis highlighting over/under budget categories
- Monthly and yearly budget performance reports

#### 2.7.5 Credit Card Monthly Statement Report
- Reports section includes credit card statement view with month selector
- User selects specific month from dropdown to view credit card statement for that period
- Statement displays all transactions, payments, repayments, EMI installments, interest charges, and balance for selected month
- Statement shows opening balance, closing balance, total spending, repayments made, and payment due information
\n#### 2.7.6 EMI Transaction Reports
- Detailed reports showing all EMI transactions, payment schedules, and outstanding balances
\n#### 2.7.7 Credit Card Repayment Reports
- Detailed reports showing all credit card repayment transactions with source bank account, target credit card, repayment amount, and date

#### 2.7.8 Loan Account Statement Report
- Comprehensive loan statement report included in Reports section showing:\n  - **Historical Loan Payments**: Complete record of all loan payment transactions with:\n    - Payment date for each transaction
    - Payment amount
    - Transaction details and reference\n  - **Historical EMI Payments**: Complete record of all EMI payments already made with:
    - Payment date for each EMI
    - Total EMI amount paid
    - Principal payment component (including user corrections)
    - Interest payment component (including user corrections)
    - Outstanding principal balance after each payment
  - **Automatic Monthly Interest Additions**: Complete record of all system-generated monthly interest transactions with:
    - Interest calculation date
    - Interest amount added
    - Outstanding balance after interest addition
    - Interest rate applied for calculation
  - **Future EMI Payments**: Scheduled upcoming EMI payments with:
    - Projected payment dates
    - Estimated EMI amounts
    - Projected principal payment bifurcation
    - Projected interest payment bifurcation\n    - Expected outstanding balance after each future payment
  - **Additional EMI Payments**: Any extra or additional EMI payments made beyond regular schedule with complete principal and interest bifurcation
  - Cumulative interest paid to date
  - Total accrued interest
  - Remaining loan tenure
  - Complete amortization schedule showing full loan lifecycle

#### 2.7.9 Loan Payment Transaction Reports
- Detailed reports showing all loan payment transactions categorized under 'Loan Repayments' expense budget category, with date, amount, and payment history

#### 2.7.10 AI Insights Report
- Comprehensive report summarizing all AI-generated recommendations, implemented actions, and their financial impact over selected time period
\n#### 2.7.11 Historical Data Analysis Report
- Detailed report showing complete historical financial data analysis with trends, patterns, and AI-generated insights

#### 2.7.12 Budget Recommendation Report
- Report displaying AI-suggested budget allocations for future months with comparative analysis and expected outcomes

#### 2.7.13 Report Export and Customization
- Date range filter for all reports
- Export reports functionality to CSV, PDF, and Excel formats
- Customizable report templates
- Scheduled report generation and email delivery option

### 2.8 Data Backup and Restore
- **Backup Functionality**: User can create complete backup of all application data at any time
- Backup includes:
  - All account information (Cash, Bank, Credit Card, Loan accounts)
  - Complete transaction history for all accounts (including loan payment transactions and transaction descriptions)
  - Budget settings and historical budget data (including custom income and expense categories)
  - User preferences and settings
  - EMI payment history and configurations
  - Interest rate history for loan accounts
  - Credit card statement history and EMI details
  - AI insights history and recommendation tracking data
- **Backup File Format**: System generates backup file in secure, encrypted format\n- Backup file includes timestamp and user identification
- User can download backup file to local device storage
- **Automatic Backup Option**: User can enable automatic scheduled backups (daily, weekly, or monthly)
- System sends notification when automatic backup is completed
- **Restore Functionality**: User can restore data from previously created backup file
- Restore process accessible from Settings section
- User uploads backup file from local device\n- System validates backup file integrity and compatibility before restoration
- **Restore Options**:
  - Complete Restore: Replaces all current data with backup data
  - Selective Restore: User can choose specific accounts or data categories to restore
- System displays preview of backup contents before confirming restoration
- Confirmation prompt shown before executing restore operation to prevent accidental data loss
- **Backup Management**: User can view list of all backup files with creation dates and sizes
- Option to delete old backup files to manage storage\n- System maintains backup history log showing all backup and restore operations

### 2.9 Data Security and Privacy Protection

#### 2.9.1 Zero-Knowledge Architecture with Client-Side Encryption
- **Complete Client-Side Encryption**: All user financial data encrypted exclusively on user's device (browser) before any transmission to server
- **User-Controlled Encryption Key**: Unique encryption key generated on user's device during registration, derived from user's password using PBKDF2-SHA256 key derivation function
- Encryption key exists only in user's browser session memory and is never transmitted to or stored on server
- **AES-256-GCM Encryption**: All sensitive data encrypted using AES-256-GCM (Galois/Counter Mode) encryption standard on client side
- Encryption performed using Web Crypto API in user's browser
- **Server Stores Only Encrypted Data**: Server database contains only encrypted ciphertext and cannot decrypt any user information
- Application creator, system administrators, and database administrators have zero access to user's decrypted financial data
- **Client-Side Decryption for Display**: When user logs in and views dashboard or reports:\n  - Encrypted data retrieved from server\n  - Decryption performed entirely in user's browser using user's encryption key
  - Decrypted data rendered on user interface without server involvement
  - Decrypted data never leaves user's device
- **Seamless User Experience**: Encryption and decryption processes transparent to user, with no impact on interface responsiveness or data display
- Real-time balance updates, transaction displays, and reports rendered smoothly after client-side decryption
- **AI Analysis on Encrypted Data**: AI processing performed on client-side decrypted data within user's browser session, ensuring AI insights generated without exposing raw financial data to server

#### 2.9.2 Encryption Key Management
- **Key Derivation on Login**: Each time user logs in, encryption key re-derived from user's password on client side
- Key derivation uses same PBKDF2-SHA256 algorithm with user-specific salt stored (encrypted) on server
- Derived key loaded into browser session memory for duration of user session
- **Automatic Key Destruction**: Encryption key automatically cleared from browser memory on logout or session timeout
- No persistent storage of encryption key on user's device or server
- **Password Change Protocol**: When user changes password:\n  - All encrypted data retrieved from server
  - Data decrypted using old encryption key on client side
  - New encryption key derived from new password
  - All data re-encrypted with new key on client side
  - Re-encrypted data uploaded to server, replacing old encrypted data
\n#### 2.9.3 Secure Data Transmission
- **HTTPS Protocol**: All data transmission between client and server uses HTTPS with TLS 1.3 encryption
- SSL/TLS certificates ensure secure communication channel
- Man-in-the-middle attacks prevented through certificate validation
- Encrypted data transmitted over secure channel, providing double-layer protection
\n#### 2.9.4 Session Security
- **Secure Session Management**: User sessions protected with secure, httpOnly, SameSite cookies
- Session tokens encrypted and time-limited
- Automatic session timeout after 30 minutes of inactivity
- User must re-authenticate after session expiration
- Encryption key cleared from memory on session timeout
- Single active session per user account (optional multi-device support with separate session management)

#### 2.9.5 Password Security
- **Strong Password Requirements**: Minimum 8 characters with combination of uppercase, lowercase, numbers, and special characters (applicable for email-based accounts)
- Password hashed using bcrypt algorithm with salt before storage on server
- Original password never stored in database
- Password used only for encryption key derivation on client side
- Password reset requires email verification code authentication
\n#### 2.9.6 Data Access Logging
- **Audit Trail**: System maintains encrypted audit log of all data access attempts
- Log records user authentication events, data access timestamps, and IP addresses
- Audit logs accessible only to authenticated user for their own account
- Failed login attempts logged and trigger account lockout after 5 consecutive failures
- Audit logs encrypted and cannot reveal user's financial data

#### 2.9.7 Backup File Encryption
- **Client-Side Backup Encryption**: Backup files generated and encrypted entirely on user's device before download
- Backup files encrypted using user's encryption key plus additional user-defined backup password
- Encrypted backups cannot be accessed without both user's account credentials and backup password
- Server never has access to unencrypted backup contents
\n#### 2.9.8 Data Isolation\n- **Multi-Tenant Data Isolation**: Each user's encrypted data stored in isolated database partitions
- Database-level access controls prevent cross-user data access
- Application logic enforces strict user data boundary checks
- Even if database is compromised, encrypted data remains unreadable without user's encryption key

#### 2.9.9 Compliance and Standards
- Data protection implementation follows industry best practices and zero-knowledge security principles
- Encryption standards compliant with financial data security requirements
- Regular security audits and vulnerability assessments
- Data retention policies configurable by user
\n#### 2.9.10 User Control and Transparency
- **Data Privacy Dashboard**: User can view all data security settings and encryption status
- Clear indicators showing that data is encrypted and inaccessible to application creator
- Option to export all personal data in encrypted format
- Option to permanently delete account and all associated encrypted data from server
- Clear privacy policy explaining zero-knowledge architecture and client-side encryption
- No third-party data sharing without explicit user consent
- User retains complete control over encryption keys and data access\n
#### 2.9.11 Technical Implementation Notes
- **Web Crypto API**: Utilize browser's native Web Crypto API for all cryptographic operations
- **IndexedDB for Session Storage**: Temporarily store encrypted data in browser's IndexedDB during active session for performance optimization
- IndexedDB cleared automatically on logout or session timeout
- **Progressive Decryption**: Implement progressive decryption for large datasets to maintain interface responsiveness
- Decrypt and render data in chunks as user navigates through dashboard and reports
- **Encryption Metadata**: Store minimal non-sensitive metadata (account types, transaction dates without amounts) in plaintext for indexing and query optimization
- All sensitive financial values (balances, amounts, account numbers, transaction descriptions) fully encrypted

## 3. Design Style\n
### 3.1 Color Scheme
- Primary color: Deep blue (#1E3A8A) conveying trust and financial stability
- Secondary color: Emerald green (#10B981) for positive balances and income indicators
- Accent color: Amber (#F59E0B) for alerts and important notifications
- Negative indicator: Coral red (#EF4444) for liabilities and overspending
- AI Insights color: Purple (#8B5CF6) for AI-generated recommendations and insights

### 3.2 Visual Details
- Card-based layout with subtle drop shadows for depth
- Rounded corners (8px radius) for modern, approachable aesthetic
- Smooth hover transitions on interactive elements
- Clear iconography for transaction types and account categories
- Consistent spacing and padding throughout interface
- Tab headers with clear labels and active state indicators
- Smooth tab switching animations for better user experience
- Security indicators (lock icons and 'Zero-Knowledge Encrypted' badges) displayed prominently to reinforce data protection
- Visual encryption status indicators on dashboard showing data is protected
- Quick access buttons ('Open App' and 'Visit Website') styled with clear icons and hover effects for easy identification
- AI insight cards with distinctive purple accent and lightbulb icons to differentiate AI-generated content
- Interactive recommendation cards with action buttons for implementing AI suggestions
- Historical trend charts with smooth animations and interactive tooltips
- Future budget suggestion cards with comparison visualizations
- Custom category badges with distinct visual styling to differentiate from predefined categories

### 3.3 Layout Structure
- Grid-based dashboard for account cards with responsive columns
- Side navigation panel for main sections: Accounts, Transactions, Reports, Budget, Settings, Security
- **Horizontal tab navigation within dashboard for switching between Overview, Analytics, Cash Flow, Accounts, and AI Insights tabs**
- Responsive design adapting seamlessly to desktop, tablet, and mobile screens
- Clear visual hierarchy with prominent balance displays and chart visualizations
- Sticky header for easy navigation access
- AI Insights tab features scrollable card layout with categorized recommendations
- Dedicated sections within AI Insights tab for current month advisory and future budget suggestions
- Interactive historical analysis dashboard with expandable trend charts
\n## 4. Reference Links
- MojoAuth OTP Authentication Service: https://mojoauth.com
\n## 5. Reference Images
- IMG_7805.png: SmartFinHub dashboard overview showing financial summary and account cards with quick access buttons
- IMG_7806.jpeg: Bank app quick access section displaying ICICI Bank and Bank of Baroda app links with 'Open banking app' buttons
- IMG_7807.jpeg: Quick Payment Apps section showing Google Pay, PhonePe, Paytm, and BHIM payment app integration with descriptions and quick launch buttons