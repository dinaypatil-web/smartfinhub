const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-CniQlW_6.js","assets/badge-i6nMjZC_.js","assets/progress-B0zBlC70.js","assets/format-RllGV7dv.js","assets/countries-BGn44Cmt.js","assets/loanCalculations-CzUqBpRv.js","assets/statementCalculations-BIN_tZQj.js","assets/billingCycleCalculations-BxPZ0iWz.js","assets/trending-up-BBYh76Q9.js","assets/format-B3XKS-z2.js","assets/table-BT0d-UrM.js","assets/BankLogo-j26DLqyT.js","assets/credit-card-CLQXqH6e.js","assets/trending-down-7vN5W4-d.js","assets/smartphone-Bw5bK6tw.js","assets/plus-nRr9gPfm.js","assets/marked.esm-BChSSRKN.js","assets/textarea-DkNO1uRR.js","assets/cache-SNmVlzwA.js","assets/Accounts-CQnqwxZO.js","assets/alert-dialog-D5-RVg6R.js","assets/square-pen-YCFt9pMo.js","assets/trash-2-Co2tl0ej.js","assets/chevron-up-DrbdFayN.js","assets/AccountForm-CZ9LOVc_.js","assets/select-BtuBbjBO.js","assets/arrow-left-DK6e-IDk.js","assets/Transactions-Cb6YDsmX.js","assets/TransactionForm-BrtgMeND.js","assets/incomeCategories-h_Agwvah.js","assets/Budgets-0ur8TcCX.js","assets/Reports-DYEw2tYe.js","assets/download-CITfR4fP.js","assets/Settings-cXlBaIWv.js","assets/BackupRestore-DaA2vqgK.js","assets/AIAnalysisPage-D0wZ3Alk.js"])))=>i.map(i=>d[i]);
var H0=Object.defineProperty;var q0=(t,e,r)=>e in t?H0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Dr=(t,e,r)=>q0(t,typeof e!="symbol"?e+"":e,r);function G0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(n,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var GO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function em(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var tm={exports:{}},Ra={},rm={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),J0=Symbol.for("react.portal"),Y0=Symbol.for("react.fragment"),X0=Symbol.for("react.strict_mode"),Z0=Symbol.for("react.profiler"),Q0=Symbol.for("react.provider"),eb=Symbol.for("react.context"),tb=Symbol.for("react.forward_ref"),rb=Symbol.for("react.suspense"),nb=Symbol.for("react.memo"),ob=Symbol.for("react.lazy"),bf=Symbol.iterator;function sb(t){return t===null||typeof t!="object"?null:(t=bf&&t[bf]||t["@@iterator"],typeof t=="function"?t:null)}var nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},om=Object.assign,sm={};function mo(t,e,r){this.props=t,this.context=e,this.refs=sm,this.updater=r||nm}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function im(){}im.prototype=mo.prototype;function Iu(t,e,r){this.props=t,this.context=e,this.refs=sm,this.updater=r||nm}var Nu=Iu.prototype=new im;Nu.constructor=Iu;om(Nu,mo.prototype);Nu.isPureReactComponent=!0;var _f=Array.isArray,am=Object.prototype.hasOwnProperty,Lu={current:null},lm={key:!0,ref:!0,__self:!0,__source:!0};function cm(t,e,r){var n,o={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)am.call(e,n)&&!lm.hasOwnProperty(n)&&(o[n]=e[n]);var a=arguments.length-2;if(a===1)o.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)o[n]===void 0&&(o[n]=a[n]);return{$$typeof:js,type:t,key:s,ref:i,props:o,_owner:Lu.current}}function ib(t,e){return{$$typeof:js,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Du(t){return typeof t=="object"&&t!==null&&t.$$typeof===js}function ab(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var xf=/\/+/g;function al(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ab(""+t.key):e.toString(36)}function Ci(t,e,r,n,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case js:case J0:i=!0}}if(i)return i=t,o=o(i),t=n===""?"."+al(i,0):n,_f(o)?(r="",t!=null&&(r=t.replace(xf,"$&/")+"/"),Ci(o,e,r,"",function(c){return c})):o!=null&&(Du(o)&&(o=ib(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(xf,"$&/")+"/")+t)),e.push(o)),1;if(i=0,n=n===""?".":n+":",_f(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+al(s,a);i+=Ci(s,e,r,l,o)}else if(l=sb(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+al(s,a++),i+=Ci(s,e,r,l,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Ws(t,e,r){if(t==null)return t;var n=[],o=0;return Ci(t,n,"","",function(s){return e.call(r,s,o++)}),n}function lb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fe={current:null},Pi={transition:null},cb={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Pi,ReactCurrentOwner:Lu};function um(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Ws,forEach:function(t,e,r){Ws(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ws(t,function(){e++}),e},toArray:function(t){return Ws(t,function(e){return e})||[]},only:function(t){if(!Du(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=mo;G.Fragment=Y0;G.Profiler=Z0;G.PureComponent=Iu;G.StrictMode=X0;G.Suspense=rb;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cb;G.act=um;G.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=om({},t.props),o=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=Lu.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)am.call(e,l)&&!lm.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:js,type:t.type,key:o,ref:s,props:n,_owner:i}};G.createContext=function(t){return t={$$typeof:eb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q0,_context:t},t.Consumer=t};G.createElement=cm;G.createFactory=function(t){var e=cm.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:tb,render:t}};G.isValidElement=Du;G.lazy=function(t){return{$$typeof:ob,_payload:{_status:-1,_result:t},_init:lb}};G.memo=function(t,e){return{$$typeof:nb,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Pi.transition;Pi.transition={};try{t()}finally{Pi.transition=e}};G.unstable_act=um;G.useCallback=function(t,e){return Fe.current.useCallback(t,e)};G.useContext=function(t){return Fe.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Fe.current.useDeferredValue(t)};G.useEffect=function(t,e){return Fe.current.useEffect(t,e)};G.useId=function(){return Fe.current.useId()};G.useImperativeHandle=function(t,e,r){return Fe.current.useImperativeHandle(t,e,r)};G.useInsertionEffect=function(t,e){return Fe.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Fe.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Fe.current.useMemo(t,e)};G.useReducer=function(t,e,r){return Fe.current.useReducer(t,e,r)};G.useRef=function(t){return Fe.current.useRef(t)};G.useState=function(t){return Fe.current.useState(t)};G.useSyncExternalStore=function(t,e,r){return Fe.current.useSyncExternalStore(t,e,r)};G.useTransition=function(){return Fe.current.useTransition()};G.version="18.3.1";rm.exports=G;var g=rm.exports;const Ce=Qp(g),dm=G0({__proto__:null,default:Ce},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub=g,db=Symbol.for("react.element"),fb=Symbol.for("react.fragment"),hb=Object.prototype.hasOwnProperty,pb=ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mb={key:!0,ref:!0,__self:!0,__source:!0};function fm(t,e,r){var n,o={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)hb.call(e,n)&&!mb.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)o[n]===void 0&&(o[n]=e[n]);return{$$typeof:db,type:t,key:s,ref:i,props:o,_owner:pb.current}}Ra.Fragment=fb;Ra.jsx=fm;Ra.jsxs=fm;tm.exports=Ra;var m=tm.exports,hm={exports:{}},tt={},pm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,z){var K=C.length;C.push(z);e:for(;0<K;){var Q=K-1>>>1,ee=C[Q];if(0<o(ee,z))C[Q]=z,C[K]=ee,K=Q;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var z=C[0],K=C.pop();if(K!==z){C[0]=K;e:for(var Q=0,ee=C.length,ne=ee>>>1;Q<ne;){var ie=2*(Q+1)-1,ir=C[ie],At=ie+1,ce=C[At];if(0>o(ir,K))At<ee&&0>o(ce,ir)?(C[Q]=ce,C[At]=K,Q=At):(C[Q]=ir,C[ie]=K,Q=ie);else if(At<ee&&0>o(ce,K))C[Q]=ce,C[At]=K,Q=At;else break e}}return z}function o(C,z){var K=C.sortIndex-z.sortIndex;return K!==0?K:C.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,b=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=C)n(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(c)}}function x(C){if(v=!1,y(C),!b)if(r(l)!==null)b=!0,D(k);else{var z=r(c);z!==null&&q(x,z.startTime-C)}}function k(C,z){b=!1,v&&(v=!1,w(T),T=-1),h=!0;var K=f;try{for(y(z),d=r(l);d!==null&&(!(d.expirationTime>z)||C&&!F());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var ee=Q(d.expirationTime<=z);z=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===r(l)&&n(l),y(z)}else n(l);d=r(l)}if(d!==null)var ne=!0;else{var ie=r(c);ie!==null&&q(x,ie.startTime-z),ne=!1}return ne}finally{d=null,f=K,h=!1}}var S=!1,E=null,T=-1,R=5,N=-1;function F(){return!(t.unstable_now()-N<R)}function I(){if(E!==null){var C=t.unstable_now();N=C;var z=!0;try{z=E(!0,C)}finally{z?O():(S=!1,E=null)}}else S=!1}var O;if(typeof p=="function")O=function(){p(I)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,B=A.port2;A.port1.onmessage=I,O=function(){B.postMessage(null)}}else O=function(){_(I,0)};function D(C){E=C,S||(S=!0,O())}function q(C,z){T=_(function(){C(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){b||h||(b=!0,D(k))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var K=f;f=z;try{return C()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,z){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var K=f;f=C;try{return z()}finally{f=K}},t.unstable_scheduleCallback=function(C,z,K){var Q=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Q+K:Q):K=Q,C){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=K+ee,C={id:u++,callback:z,priorityLevel:C,startTime:K,expirationTime:ee,sortIndex:-1},K>Q?(C.sortIndex=K,e(c,C),r(l)===null&&C===r(c)&&(v?(w(T),T=-1):v=!0,q(x,K-Q))):(C.sortIndex=ee,e(l,C),b||h||(b=!0,D(k))),C},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(C){var z=f;return function(){var K=f;f=z;try{return C.apply(this,arguments)}finally{f=K}}}})(mm);pm.exports=mm;var gb=pm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb=g,et=gb;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gm=new Set,ss={};function pn(t,e){oo(t,e),oo(t+"Capture",e)}function oo(t,e){for(ss[t]=e,t=0;t<e.length;t++)gm.add(e[t])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=Object.prototype.hasOwnProperty,vb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kf={},Sf={};function wb(t){return cc.call(Sf,t)?!0:cc.call(kf,t)?!1:vb.test(t)?Sf[t]=!0:(kf[t]=!0,!1)}function bb(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _b(t,e,r,n){if(e===null||typeof e>"u"||bb(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ze(t,e,r,n,o,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Re[t]=new ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Re[e]=new ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Re[t]=new ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Re[t]=new ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Re[t]=new ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Re[t]=new ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Re[t]=new ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Re[t]=new ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Re[t]=new ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var $u=/[\-:]([a-z])/g;function Mu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($u,Mu);Re[e]=new ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($u,Mu);Re[e]=new ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($u,Mu);Re[e]=new ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Re[t]=new ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Re.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Re[t]=new ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function Uu(t,e,r,n){var o=Re.hasOwnProperty(e)?Re[e]:null;(o!==null?o.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_b(e,r,o,n)&&(r=null),n||o===null?wb(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):o.mustUseProperty?t[o.propertyName]=r===null?o.type===3?!1:"":r:(e=o.attributeName,n=o.attributeNamespace,r===null?t.removeAttribute(e):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var or=yb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vs=Symbol.for("react.element"),In=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),Fu=Symbol.for("react.strict_mode"),uc=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),vm=Symbol.for("react.context"),zu=Symbol.for("react.forward_ref"),dc=Symbol.for("react.suspense"),fc=Symbol.for("react.suspense_list"),Bu=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),wm=Symbol.for("react.offscreen"),Ef=Symbol.iterator;function To(t){return t===null||typeof t!="object"?null:(t=Ef&&t[Ef]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,ll;function Mo(t){if(ll===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ll=e&&e[1]||""}return`
`+ll+t}var cl=!1;function ul(t,e){if(!t||cl)return"";cl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=n.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{cl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Mo(t):""}function xb(t){switch(t.tag){case 5:return Mo(t.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return t=ul(t.type,!1),t;case 11:return t=ul(t.type.render,!1),t;case 1:return t=ul(t.type,!0),t;default:return""}}function hc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nn:return"Fragment";case In:return"Portal";case uc:return"Profiler";case Fu:return"StrictMode";case dc:return"Suspense";case fc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vm:return(t.displayName||"Context")+".Consumer";case ym:return(t._context.displayName||"Context")+".Provider";case zu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bu:return e=t.displayName||null,e!==null?e:hc(t.type)||"Memo";case fr:e=t._payload,t=t._init;try{return hc(t(e))}catch{}}return null}function kb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hc(e);case 8:return e===Fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sb(t){var e=bm(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ks(t){t._valueTracker||(t._valueTracker=Sb(t))}function _m(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=bm(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pc(t,e){var r=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Tf(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=jr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xm(t,e){e=e.checked,e!=null&&Uu(t,"checked",e,!1)}function mc(t,e){xm(t,e);var r=jr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gc(t,e.type,r):e.hasOwnProperty("defaultValue")&&gc(t,e.type,jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cf(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function gc(t,e,r){(e!=="number"||Gi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Uo=Array.isArray;function Hn(t,e,r,n){if(t=t.options,e){e={};for(var o=0;o<r.length;o++)e["$"+r[o]]=!0;for(r=0;r<t.length;r++)o=e.hasOwnProperty("$"+t[r].value),t[r].selected!==o&&(t[r].selected=o),o&&n&&(t[r].defaultSelected=!0)}else{for(r=""+jr(r),e=null,o=0;o<t.length;o++){if(t[o].value===r){t[o].selected=!0,n&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function yc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pf(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(Uo(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:jr(r)}}function km(t,e){var r=jr(e.value),n=jr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function jf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hs,Em=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,o){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function is(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eb=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(t){Eb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wo[e]=Wo[t]})});function Tm(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Wo.hasOwnProperty(t)&&Wo[t]?(""+e).trim():e+"px"}function Cm(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=Tm(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,o):t[r]=o}}var Tb=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wc(t,e){if(e){if(Tb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function bc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=null;function Wu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xc=null,qn=null,Gn=null;function Of(t){if(t=As(t)){if(typeof xc!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Da(e),xc(t.stateNode,t.type,e))}}function Pm(t){qn?Gn?Gn.push(t):Gn=[t]:qn=t}function jm(){if(qn){var t=qn,e=Gn;if(Gn=qn=null,Of(t),e)for(t=0;t<e.length;t++)Of(e[t])}}function Om(t,e){return t(e)}function Rm(){}var dl=!1;function Am(t,e,r){if(dl)return t(e,r);dl=!0;try{return Om(t,e,r)}finally{dl=!1,(qn!==null||Gn!==null)&&(Rm(),jm())}}function as(t,e){var r=t.stateNode;if(r===null)return null;var n=Da(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var kc=!1;if(Qt)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){kc=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{kc=!1}function Cb(t,e,r,n,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Vo=!1,Ji=null,Yi=!1,Sc=null,Pb={onError:function(t){Vo=!0,Ji=t}};function jb(t,e,r,n,o,s,i,a,l){Vo=!1,Ji=null,Cb.apply(Pb,arguments)}function Ob(t,e,r,n,o,s,i,a,l){if(jb.apply(this,arguments),Vo){if(Vo){var c=Ji;Vo=!1,Ji=null}else throw Error(j(198));Yi||(Yi=!0,Sc=c)}}function mn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Im(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rf(t){if(mn(t)!==t)throw Error(j(188))}function Rb(t){var e=t.alternate;if(!e){if(e=mn(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var o=r.return;if(o===null)break;var s=o.alternate;if(s===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===r)return Rf(o),t;if(s===n)return Rf(o),e;s=s.sibling}throw Error(j(188))}if(r.return!==n.return)r=o,n=s;else{for(var i=!1,a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function Nm(t){return t=Rb(t),t!==null?Lm(t):null}function Lm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lm(t);if(e!==null)return e;t=t.sibling}return null}var Dm=et.unstable_scheduleCallback,Af=et.unstable_cancelCallback,Ab=et.unstable_shouldYield,Ib=et.unstable_requestPaint,ye=et.unstable_now,Nb=et.unstable_getCurrentPriorityLevel,Vu=et.unstable_ImmediatePriority,$m=et.unstable_UserBlockingPriority,Xi=et.unstable_NormalPriority,Lb=et.unstable_LowPriority,Mm=et.unstable_IdlePriority,Aa=null,Mt=null;function Db(t){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Aa,t,void 0,(t.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Ub,$b=Math.log,Mb=Math.LN2;function Ub(t){return t>>>=0,t===0?32:31-($b(t)/Mb|0)|0}var qs=64,Gs=4194304;function Fo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zi(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,o=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var a=i&~o;a!==0?n=Fo(a):(s&=i,s!==0&&(n=Fo(s)))}else i=r&~o,i!==0?n=Fo(i):s!==0&&(n=Fo(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&o)&&(o=n&-n,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-St(e),o=1<<r,n|=t[r],e&=~o;return n}function Fb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zb(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-St(s),a=1<<i,l=o[i];l===-1?(!(a&r)||a&n)&&(o[i]=Fb(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ec(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Um(){var t=qs;return qs<<=1,!(qs&4194240)&&(qs=64),t}function fl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Os(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-St(e),t[e]=r}function Bb(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var o=31-St(r),s=1<<o;e[o]=0,n[o]=-1,t[o]=-1,r&=~s}}function Ku(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-St(r),o=1<<n;o&e|t[n]&e&&(t[n]|=e),r&=~o}}var X=0;function Fm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zm,Hu,Bm,Wm,Vm,Tc=!1,Js=[],br=null,_r=null,xr=null,ls=new Map,cs=new Map,pr=[],Wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function If(t,e){switch(t){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":ls.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(e.pointerId)}}function Po(t,e,r,n,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[o]},e!==null&&(e=As(e),e!==null&&Hu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Vb(t,e,r,n,o){switch(e){case"focusin":return br=Po(br,t,e,r,n,o),!0;case"dragenter":return _r=Po(_r,t,e,r,n,o),!0;case"mouseover":return xr=Po(xr,t,e,r,n,o),!0;case"pointerover":var s=o.pointerId;return ls.set(s,Po(ls.get(s)||null,t,e,r,n,o)),!0;case"gotpointercapture":return s=o.pointerId,cs.set(s,Po(cs.get(s)||null,t,e,r,n,o)),!0}return!1}function Km(t){var e=Yr(t.target);if(e!==null){var r=mn(e);if(r!==null){if(e=r.tag,e===13){if(e=Im(r),e!==null){t.blockedOn=e,Vm(t.priority,function(){Bm(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ji(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Cc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);_c=n,r.target.dispatchEvent(n),_c=null}else return e=As(r),e!==null&&Hu(e),t.blockedOn=r,!1;e.shift()}return!0}function Nf(t,e,r){ji(t)&&r.delete(e)}function Kb(){Tc=!1,br!==null&&ji(br)&&(br=null),_r!==null&&ji(_r)&&(_r=null),xr!==null&&ji(xr)&&(xr=null),ls.forEach(Nf),cs.forEach(Nf)}function jo(t,e){t.blockedOn===e&&(t.blockedOn=null,Tc||(Tc=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,Kb)))}function us(t){function e(o){return jo(o,t)}if(0<Js.length){jo(Js[0],t);for(var r=1;r<Js.length;r++){var n=Js[r];n.blockedOn===t&&(n.blockedOn=null)}}for(br!==null&&jo(br,t),_r!==null&&jo(_r,t),xr!==null&&jo(xr,t),ls.forEach(e),cs.forEach(e),r=0;r<pr.length;r++)n=pr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)Km(r),r.blockedOn===null&&pr.shift()}var Jn=or.ReactCurrentBatchConfig,Qi=!0;function Hb(t,e,r,n){var o=X,s=Jn.transition;Jn.transition=null;try{X=1,qu(t,e,r,n)}finally{X=o,Jn.transition=s}}function qb(t,e,r,n){var o=X,s=Jn.transition;Jn.transition=null;try{X=4,qu(t,e,r,n)}finally{X=o,Jn.transition=s}}function qu(t,e,r,n){if(Qi){var o=Cc(t,e,r,n);if(o===null)xl(t,e,n,ea,r),If(t,n);else if(Vb(o,t,e,r,n))n.stopPropagation();else if(If(t,n),e&4&&-1<Wb.indexOf(t)){for(;o!==null;){var s=As(o);if(s!==null&&zm(s),s=Cc(t,e,r,n),s===null&&xl(t,e,n,ea,r),s===o)break;o=s}o!==null&&n.stopPropagation()}else xl(t,e,n,null,r)}}var ea=null;function Cc(t,e,r,n){if(ea=null,t=Wu(n),t=Yr(t),t!==null)if(e=mn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Im(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ea=t,null}function Hm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nb()){case Vu:return 1;case $m:return 4;case Xi:case Lb:return 16;case Mm:return 536870912;default:return 16}default:return 16}}var vr=null,Gu=null,Oi=null;function qm(){if(Oi)return Oi;var t,e=Gu,r=e.length,n,o="value"in vr?vr.value:vr.textContent,s=o.length;for(t=0;t<r&&e[t]===o[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===o[s-n];n++);return Oi=o.slice(t,1<n?1-n:void 0)}function Ri(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ys(){return!0}function Lf(){return!1}function rt(t){function e(r,n,o,s,i){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ys:Lf,this.isPropagationStopped=Lf,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ju=rt(go),Rs=he({},go,{view:0,detail:0}),Gb=rt(Rs),hl,pl,Oo,Ia=he({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oo&&(Oo&&t.type==="mousemove"?(hl=t.screenX-Oo.screenX,pl=t.screenY-Oo.screenY):pl=hl=0,Oo=t),hl)},movementY:function(t){return"movementY"in t?t.movementY:pl}}),Df=rt(Ia),Jb=he({},Ia,{dataTransfer:0}),Yb=rt(Jb),Xb=he({},Rs,{relatedTarget:0}),ml=rt(Xb),Zb=he({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),Qb=rt(Zb),e_=he({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),t_=rt(e_),r_=he({},go,{data:0}),$f=rt(r_),n_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s_[t])?!!e[t]:!1}function Yu(){return i_}var a_=he({},Rs,{key:function(t){if(t.key){var e=n_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(t){return t.type==="keypress"?Ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),l_=rt(a_),c_=he({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mf=rt(c_),u_=he({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),d_=rt(u_),f_=he({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),h_=rt(f_),p_=he({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m_=rt(p_),g_=[9,13,27,32],Xu=Qt&&"CompositionEvent"in window,Ko=null;Qt&&"documentMode"in document&&(Ko=document.documentMode);var y_=Qt&&"TextEvent"in window&&!Ko,Gm=Qt&&(!Xu||Ko&&8<Ko&&11>=Ko),Uf=" ",Ff=!1;function Jm(t,e){switch(t){case"keyup":return g_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ln=!1;function v_(t,e){switch(t){case"compositionend":return Ym(e);case"keypress":return e.which!==32?null:(Ff=!0,Uf);case"textInput":return t=e.data,t===Uf&&Ff?null:t;default:return null}}function w_(t,e){if(Ln)return t==="compositionend"||!Xu&&Jm(t,e)?(t=qm(),Oi=Gu=vr=null,Ln=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gm&&e.locale!=="ko"?null:e.data;default:return null}}var b_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b_[t.type]:e==="textarea"}function Xm(t,e,r,n){Pm(n),e=ta(e,"onChange"),0<e.length&&(r=new Ju("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ho=null,ds=null;function __(t){lg(t,0)}function Na(t){var e=Mn(t);if(_m(e))return t}function x_(t,e){if(t==="change")return e}var Zm=!1;if(Qt){var gl;if(Qt){var yl="oninput"in document;if(!yl){var Bf=document.createElement("div");Bf.setAttribute("oninput","return;"),yl=typeof Bf.oninput=="function"}gl=yl}else gl=!1;Zm=gl&&(!document.documentMode||9<document.documentMode)}function Wf(){Ho&&(Ho.detachEvent("onpropertychange",Qm),ds=Ho=null)}function Qm(t){if(t.propertyName==="value"&&Na(ds)){var e=[];Xm(e,ds,t,Wu(t)),Am(__,e)}}function k_(t,e,r){t==="focusin"?(Wf(),Ho=e,ds=r,Ho.attachEvent("onpropertychange",Qm)):t==="focusout"&&Wf()}function S_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Na(ds)}function E_(t,e){if(t==="click")return Na(e)}function T_(t,e){if(t==="input"||t==="change")return Na(e)}function C_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ct=typeof Object.is=="function"?Object.is:C_;function fs(t,e){if(Ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!cc.call(e,o)||!Ct(t[o],e[o]))return!1}return!0}function Vf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kf(t,e){var r=Vf(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vf(r)}}function eg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tg(){for(var t=window,e=Gi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Gi(t.document)}return e}function Zu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function P_(t){var e=tg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&eg(r.ownerDocument.documentElement,r)){if(n!==null&&Zu(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=r.textContent.length,s=Math.min(n.start,o);n=n.end===void 0?s:Math.min(n.end,o),!t.extend&&s>n&&(o=n,n=s,s=o),o=Kf(r,s);var i=Kf(r,n);o&&i&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var j_=Qt&&"documentMode"in document&&11>=document.documentMode,Dn=null,Pc=null,qo=null,jc=!1;function Hf(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jc||Dn==null||Dn!==Gi(n)||(n=Dn,"selectionStart"in n&&Zu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qo&&fs(qo,n)||(qo=n,n=ta(Pc,"onSelect"),0<n.length&&(e=new Ju("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Dn)))}function Xs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var $n={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionend:Xs("Transition","TransitionEnd")},vl={},rg={};Qt&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function La(t){if(vl[t])return vl[t];if(!$n[t])return t;var e=$n[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in rg)return vl[t]=e[r];return t}var ng=La("animationend"),og=La("animationiteration"),sg=La("animationstart"),ig=La("transitionend"),ag=new Map,qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,e){ag.set(t,e),pn(e,[t])}for(var wl=0;wl<qf.length;wl++){var bl=qf[wl],O_=bl.toLowerCase(),R_=bl[0].toUpperCase()+bl.slice(1);Rr(O_,"on"+R_)}Rr(ng,"onAnimationEnd");Rr(og,"onAnimationIteration");Rr(sg,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(ig,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A_=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function Gf(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Ob(n,e,void 0,t),t.currentTarget=null}function lg(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],o=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Gf(o,a,c),s=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Gf(o,a,c),s=l}}}if(Yi)throw t=Sc,Yi=!1,Sc=null,t}function oe(t,e){var r=e[Nc];r===void 0&&(r=e[Nc]=new Set);var n=t+"__bubble";r.has(n)||(cg(e,t,2,!1),r.add(n))}function _l(t,e,r){var n=0;e&&(n|=4),cg(r,t,n,e)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function hs(t){if(!t[Zs]){t[Zs]=!0,gm.forEach(function(r){r!=="selectionchange"&&(A_.has(r)||_l(r,!1,t),_l(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zs]||(e[Zs]=!0,_l("selectionchange",!1,e))}}function cg(t,e,r,n){switch(Hm(e)){case 1:var o=Hb;break;case 4:o=qb;break;default:o=qu}r=o.bind(null,e,r,t),o=void 0,!kc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),n?o!==void 0?t.addEventListener(e,r,{capture:!0,passive:o}):t.addEventListener(e,r,!0):o!==void 0?t.addEventListener(e,r,{passive:o}):t.addEventListener(e,r,!1)}function xl(t,e,r,n,o){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Yr(a),i===null)return;if(l=i.tag,l===5||l===6){n=s=i;continue e}a=a.parentNode}}n=n.return}Am(function(){var c=s,u=Wu(r),d=[];e:{var f=ag.get(t);if(f!==void 0){var h=Ju,b=t;switch(t){case"keypress":if(Ri(r)===0)break e;case"keydown":case"keyup":h=l_;break;case"focusin":b="focus",h=ml;break;case"focusout":b="blur",h=ml;break;case"beforeblur":case"afterblur":h=ml;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Yb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=d_;break;case ng:case og:case sg:h=Qb;break;case ig:h=h_;break;case"scroll":h=Gb;break;case"wheel":h=m_;break;case"copy":case"cut":case"paste":h=t_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Mf}var v=(e&4)!==0,_=!v&&t==="scroll",w=v?f!==null?f+"Capture":null:f;v=[];for(var p=c,y;p!==null;){y=p;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,w!==null&&(x=as(p,w),x!=null&&v.push(ps(p,x,y)))),_)break;p=p.return}0<v.length&&(f=new h(f,b,null,r,u),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&r!==_c&&(b=r.relatedTarget||r.fromElement)&&(Yr(b)||b[er]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(b=r.relatedTarget||r.toElement,h=c,b=b?Yr(b):null,b!==null&&(_=mn(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=c),h!==b)){if(v=Df,x="onMouseLeave",w="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Mf,x="onPointerLeave",w="onPointerEnter",p="pointer"),_=h==null?f:Mn(h),y=b==null?f:Mn(b),f=new v(x,p+"leave",h,r,u),f.target=_,f.relatedTarget=y,x=null,Yr(u)===c&&(v=new v(w,p+"enter",b,r,u),v.target=y,v.relatedTarget=_,x=v),_=x,h&&b)t:{for(v=h,w=b,p=0,y=v;y;y=vn(y))p++;for(y=0,x=w;x;x=vn(x))y++;for(;0<p-y;)v=vn(v),p--;for(;0<y-p;)w=vn(w),y--;for(;p--;){if(v===w||w!==null&&v===w.alternate)break t;v=vn(v),w=vn(w)}v=null}else v=null;h!==null&&Jf(d,f,h,v,!1),b!==null&&_!==null&&Jf(d,_,b,v,!0)}}e:{if(f=c?Mn(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var k=x_;else if(zf(f))if(Zm)k=T_;else{k=S_;var S=k_}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=E_);if(k&&(k=k(t,c))){Xm(d,k,r,u);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&gc(f,"number",f.value)}switch(S=c?Mn(c):window,t){case"focusin":(zf(S)||S.contentEditable==="true")&&(Dn=S,Pc=c,qo=null);break;case"focusout":qo=Pc=Dn=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,Hf(d,r,u);break;case"selectionchange":if(j_)break;case"keydown":case"keyup":Hf(d,r,u)}var E;if(Xu)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ln?Jm(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Gm&&r.locale!=="ko"&&(Ln||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ln&&(E=qm()):(vr=u,Gu="value"in vr?vr.value:vr.textContent,Ln=!0)),S=ta(c,T),0<S.length&&(T=new $f(T,t,null,r,u),d.push({event:T,listeners:S}),E?T.data=E:(E=Ym(r),E!==null&&(T.data=E)))),(E=y_?v_(t,r):w_(t,r))&&(c=ta(c,"onBeforeInput"),0<c.length&&(u=new $f("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=E))}lg(d,e)})}function ps(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ta(t,e){for(var r=e+"Capture",n=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=as(t,r),s!=null&&n.unshift(ps(t,s,o)),s=as(t,e),s!=null&&n.push(ps(t,s,o))),t=t.return}return n}function vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jf(t,e,r,n,o){for(var s=e._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,o?(l=as(r,s),l!=null&&i.unshift(ps(r,l,a))):o||(l=as(r,s),l!=null&&i.push(ps(r,l,a)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var I_=/\r\n?/g,N_=/\u0000|\uFFFD/g;function Yf(t){return(typeof t=="string"?t:""+t).replace(I_,`
`).replace(N_,"")}function Qs(t,e,r){if(e=Yf(e),Yf(t)!==e&&r)throw Error(j(425))}function ra(){}var Oc=null,Rc=null;function Ac(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ic=typeof setTimeout=="function"?setTimeout:void 0,L_=typeof clearTimeout=="function"?clearTimeout:void 0,Xf=typeof Promise=="function"?Promise:void 0,D_=typeof queueMicrotask=="function"?queueMicrotask:typeof Xf<"u"?function(t){return Xf.resolve(null).then(t).catch($_)}:Ic;function $_(t){setTimeout(function(){throw t})}function kl(t,e){var r=e,n=0;do{var o=r.nextSibling;if(t.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){t.removeChild(o),us(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);us(e)}function kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var yo=Math.random().toString(36).slice(2),$t="__reactFiber$"+yo,ms="__reactProps$"+yo,er="__reactContainer$"+yo,Nc="__reactEvents$"+yo,M_="__reactListeners$"+yo,U_="__reactHandles$"+yo;function Yr(t){var e=t[$t];if(e)return e;for(var r=t.parentNode;r;){if(e=r[er]||r[$t]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Zf(t);t!==null;){if(r=t[$t])return r;t=Zf(t)}return e}t=r,r=t.parentNode}return null}function As(t){return t=t[$t]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Da(t){return t[ms]||null}var Lc=[],Un=-1;function Ar(t){return{current:t}}function se(t){0>Un||(t.current=Lc[Un],Lc[Un]=null,Un--)}function re(t,e){Un++,Lc[Un]=t.current,t.current=e}var Or={},Le=Ar(Or),Ke=Ar(!1),ln=Or;function so(t,e){var r=t.type.contextTypes;if(!r)return Or;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in r)o[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function He(t){return t=t.childContextTypes,t!=null}function na(){se(Ke),se(Le)}function Qf(t,e,r){if(Le.current!==Or)throw Error(j(168));re(Le,e),re(Ke,r)}function ug(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in e))throw Error(j(108,kb(t)||"Unknown",o));return he({},r,n)}function oa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,ln=Le.current,re(Le,t),re(Ke,Ke.current),!0}function eh(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=ug(t,e,ln),n.__reactInternalMemoizedMergedChildContext=t,se(Ke),se(Le),re(Le,t)):se(Ke),re(Ke,r)}var qt=null,$a=!1,Sl=!1;function dg(t){qt===null?qt=[t]:qt.push(t)}function F_(t){$a=!0,dg(t)}function Ir(){if(!Sl&&qt!==null){Sl=!0;var t=0,e=X;try{var r=qt;for(X=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qt=null,$a=!1}catch(o){throw qt!==null&&(qt=qt.slice(t+1)),Dm(Vu,Ir),o}finally{X=e,Sl=!1}}return null}var Fn=[],zn=0,sa=null,ia=0,it=[],at=0,cn=null,Jt=1,Yt="";function Wr(t,e){Fn[zn++]=ia,Fn[zn++]=sa,sa=t,ia=e}function fg(t,e,r){it[at++]=Jt,it[at++]=Yt,it[at++]=cn,cn=t;var n=Jt;t=Yt;var o=32-St(n)-1;n&=~(1<<o),r+=1;var s=32-St(e)+o;if(30<s){var i=o-o%5;s=(n&(1<<i)-1).toString(32),n>>=i,o-=i,Jt=1<<32-St(e)+o|r<<o|n,Yt=s+t}else Jt=1<<s|r<<o|n,Yt=t}function Qu(t){t.return!==null&&(Wr(t,1),fg(t,1,0))}function ed(t){for(;t===sa;)sa=Fn[--zn],Fn[zn]=null,ia=Fn[--zn],Fn[zn]=null;for(;t===cn;)cn=it[--at],it[at]=null,Yt=it[--at],it[at]=null,Jt=it[--at],it[at]=null}var Qe=null,Ze=null,ae=!1,xt=null;function hg(t,e){var r=ut(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function th(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qe=t,Ze=kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qe=t,Ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cn!==null?{id:Jt,overflow:Yt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ut(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Qe=t,Ze=null,!0):!1;default:return!1}}function Dc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $c(t){if(ae){var e=Ze;if(e){var r=e;if(!th(t,e)){if(Dc(t))throw Error(j(418));e=kr(r.nextSibling);var n=Qe;e&&th(t,e)?hg(n,r):(t.flags=t.flags&-4097|2,ae=!1,Qe=t)}}else{if(Dc(t))throw Error(j(418));t.flags=t.flags&-4097|2,ae=!1,Qe=t}}}function rh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qe=t}function ei(t){if(t!==Qe)return!1;if(!ae)return rh(t),ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ac(t.type,t.memoizedProps)),e&&(e=Ze)){if(Dc(t))throw pg(),Error(j(418));for(;e;)hg(t,e),e=kr(e.nextSibling)}if(rh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ze=kr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ze=null}}else Ze=Qe?kr(t.stateNode.nextSibling):null;return!0}function pg(){for(var t=Ze;t;)t=kr(t.nextSibling)}function io(){Ze=Qe=null,ae=!1}function td(t){xt===null?xt=[t]:xt.push(t)}var z_=or.ReactCurrentBatchConfig;function Ro(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var o=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function ti(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nh(t){var e=t._init;return e(t._payload)}function mg(t){function e(w,p){if(t){var y=w.deletions;y===null?(w.deletions=[p],w.flags|=16):y.push(p)}}function r(w,p){if(!t)return null;for(;p!==null;)e(w,p),p=p.sibling;return null}function n(w,p){for(w=new Map;p!==null;)p.key!==null?w.set(p.key,p):w.set(p.index,p),p=p.sibling;return w}function o(w,p){return w=Cr(w,p),w.index=0,w.sibling=null,w}function s(w,p,y){return w.index=y,t?(y=w.alternate,y!==null?(y=y.index,y<p?(w.flags|=2,p):y):(w.flags|=2,p)):(w.flags|=1048576,p)}function i(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,p,y,x){return p===null||p.tag!==6?(p=Rl(y,w.mode,x),p.return=w,p):(p=o(p,y),p.return=w,p)}function l(w,p,y,x){var k=y.type;return k===Nn?u(w,p,y.props.children,x,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fr&&nh(k)===p.type)?(x=o(p,y.props),x.ref=Ro(w,p,y),x.return=w,x):(x=Mi(y.type,y.key,y.props,null,w.mode,x),x.ref=Ro(w,p,y),x.return=w,x)}function c(w,p,y,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Al(y,w.mode,x),p.return=w,p):(p=o(p,y.children||[]),p.return=w,p)}function u(w,p,y,x,k){return p===null||p.tag!==7?(p=on(y,w.mode,x,k),p.return=w,p):(p=o(p,y),p.return=w,p)}function d(w,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Rl(""+p,w.mode,y),p.return=w,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Vs:return y=Mi(p.type,p.key,p.props,null,w.mode,y),y.ref=Ro(w,null,p),y.return=w,y;case In:return p=Al(p,w.mode,y),p.return=w,p;case fr:var x=p._init;return d(w,x(p._payload),y)}if(Uo(p)||To(p))return p=on(p,w.mode,y,null),p.return=w,p;ti(w,p)}return null}function f(w,p,y,x){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(w,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vs:return y.key===k?l(w,p,y,x):null;case In:return y.key===k?c(w,p,y,x):null;case fr:return k=y._init,f(w,p,k(y._payload),x)}if(Uo(y)||To(y))return k!==null?null:u(w,p,y,x,null);ti(w,y)}return null}function h(w,p,y,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(y)||null,a(p,w,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vs:return w=w.get(x.key===null?y:x.key)||null,l(p,w,x,k);case In:return w=w.get(x.key===null?y:x.key)||null,c(p,w,x,k);case fr:var S=x._init;return h(w,p,y,S(x._payload),k)}if(Uo(x)||To(x))return w=w.get(y)||null,u(p,w,x,k,null);ti(p,x)}return null}function b(w,p,y,x){for(var k=null,S=null,E=p,T=p=0,R=null;E!==null&&T<y.length;T++){E.index>T?(R=E,E=null):R=E.sibling;var N=f(w,E,y[T],x);if(N===null){E===null&&(E=R);break}t&&E&&N.alternate===null&&e(w,E),p=s(N,p,T),S===null?k=N:S.sibling=N,S=N,E=R}if(T===y.length)return r(w,E),ae&&Wr(w,T),k;if(E===null){for(;T<y.length;T++)E=d(w,y[T],x),E!==null&&(p=s(E,p,T),S===null?k=E:S.sibling=E,S=E);return ae&&Wr(w,T),k}for(E=n(w,E);T<y.length;T++)R=h(E,w,T,y[T],x),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?T:R.key),p=s(R,p,T),S===null?k=R:S.sibling=R,S=R);return t&&E.forEach(function(F){return e(w,F)}),ae&&Wr(w,T),k}function v(w,p,y,x){var k=To(y);if(typeof k!="function")throw Error(j(150));if(y=k.call(y),y==null)throw Error(j(151));for(var S=k=null,E=p,T=p=0,R=null,N=y.next();E!==null&&!N.done;T++,N=y.next()){E.index>T?(R=E,E=null):R=E.sibling;var F=f(w,E,N.value,x);if(F===null){E===null&&(E=R);break}t&&E&&F.alternate===null&&e(w,E),p=s(F,p,T),S===null?k=F:S.sibling=F,S=F,E=R}if(N.done)return r(w,E),ae&&Wr(w,T),k;if(E===null){for(;!N.done;T++,N=y.next())N=d(w,N.value,x),N!==null&&(p=s(N,p,T),S===null?k=N:S.sibling=N,S=N);return ae&&Wr(w,T),k}for(E=n(w,E);!N.done;T++,N=y.next())N=h(E,w,T,N.value,x),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?T:N.key),p=s(N,p,T),S===null?k=N:S.sibling=N,S=N);return t&&E.forEach(function(I){return e(w,I)}),ae&&Wr(w,T),k}function _(w,p,y,x){if(typeof y=="object"&&y!==null&&y.type===Nn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Vs:e:{for(var k=y.key,S=p;S!==null;){if(S.key===k){if(k=y.type,k===Nn){if(S.tag===7){r(w,S.sibling),p=o(S,y.props.children),p.return=w,w=p;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fr&&nh(k)===S.type){r(w,S.sibling),p=o(S,y.props),p.ref=Ro(w,S,y),p.return=w,w=p;break e}r(w,S);break}else e(w,S);S=S.sibling}y.type===Nn?(p=on(y.props.children,w.mode,x,y.key),p.return=w,w=p):(x=Mi(y.type,y.key,y.props,null,w.mode,x),x.ref=Ro(w,p,y),x.return=w,w=x)}return i(w);case In:e:{for(S=y.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(w,p.sibling),p=o(p,y.children||[]),p.return=w,w=p;break e}else{r(w,p);break}else e(w,p);p=p.sibling}p=Al(y,w.mode,x),p.return=w,w=p}return i(w);case fr:return S=y._init,_(w,p,S(y._payload),x)}if(Uo(y))return b(w,p,y,x);if(To(y))return v(w,p,y,x);ti(w,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(w,p.sibling),p=o(p,y),p.return=w,w=p):(r(w,p),p=Rl(y,w.mode,x),p.return=w,w=p),i(w)):r(w,p)}return _}var ao=mg(!0),gg=mg(!1),aa=Ar(null),la=null,Bn=null,rd=null;function nd(){rd=Bn=la=null}function od(t){var e=aa.current;se(aa),t._currentValue=e}function Mc(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Yn(t,e){la=t,rd=Bn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ve=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if(rd!==t)if(t={context:t,memoizedValue:e,next:null},Bn===null){if(la===null)throw Error(j(308));Bn=t,la.dependencies={lanes:0,firstContext:t}}else Bn=Bn.next=t;return e}var Xr=null;function sd(t){Xr===null?Xr=[t]:Xr.push(t)}function yg(t,e,r,n){var o=e.interleaved;return o===null?(r.next=r,sd(e)):(r.next=o.next,o.next=r),e.interleaved=r,tr(t,n)}function tr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var hr=!1;function id(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,J&2){var o=n.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),n.pending=e,tr(t,r)}return o=n.interleaved,o===null?(e.next=e,sd(n)):(e.next=o.next,o.next=e),n.interleaved=e,tr(t,r)}function Ai(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ku(t,r)}}function oh(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?o=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?o=s=e:s=s.next=e}else o=s=e;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ca(t,e,r,n){var o=t.updateQueue;hr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=o.baseState;i=0,u=c=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,v=a;switch(f=e,h=r,v.tag){case 1:if(b=v.payload,typeof b=="function"){d=b.call(h,d,f);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,f=typeof b=="function"?b.call(h,d,f):b,f==null)break e;d=he({},d,f);break e;case 2:hr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,i|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do i|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);dn|=i,t.lanes=i,t.memoizedState=d}}function sh(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(j(191,o));o.call(n)}}}var Is={},Ut=Ar(Is),gs=Ar(Is),ys=Ar(Is);function Zr(t){if(t===Is)throw Error(j(174));return t}function ad(t,e){switch(re(ys,e),re(gs,t),re(Ut,Is),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vc(e,t)}se(Ut),re(Ut,e)}function lo(){se(Ut),se(gs),se(ys)}function wg(t){Zr(ys.current);var e=Zr(Ut.current),r=vc(e,t.type);e!==r&&(re(gs,t),re(Ut,r))}function ld(t){gs.current===t&&(se(Ut),se(gs))}var de=Ar(0);function ua(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var El=[];function cd(){for(var t=0;t<El.length;t++)El[t]._workInProgressVersionPrimary=null;El.length=0}var Ii=or.ReactCurrentDispatcher,Tl=or.ReactCurrentBatchConfig,un=0,fe=null,xe=null,Te=null,da=!1,Go=!1,vs=0,B_=0;function Ae(){throw Error(j(321))}function ud(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ct(t[r],e[r]))return!1;return!0}function dd(t,e,r,n,o,s){if(un=s,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ii.current=t===null||t.memoizedState===null?H_:q_,t=r(n,o),Go){s=0;do{if(Go=!1,vs=0,25<=s)throw Error(j(301));s+=1,Te=xe=null,e.updateQueue=null,Ii.current=G_,t=r(n,o)}while(Go)}if(Ii.current=fa,e=xe!==null&&xe.next!==null,un=0,Te=xe=fe=null,da=!1,e)throw Error(j(300));return t}function fd(){var t=vs!==0;return vs=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?fe.memoizedState=Te=t:Te=Te.next=t,Te}function ht(){if(xe===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var e=Te===null?fe.memoizedState:Te.next;if(e!==null)Te=e,xe=t;else{if(t===null)throw Error(j(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Te===null?fe.memoizedState=Te=t:Te=Te.next=t}return Te}function ws(t,e){return typeof e=="function"?e(t):e}function Cl(t){var e=ht(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=xe,o=n.baseQueue,s=r.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}n.baseQueue=o=s,r.pending=null}if(o!==null){s=o.next,n=n.baseState;var a=i=null,l=null,c=s;do{var u=c.lane;if((un&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,i=n):l=l.next=d,fe.lanes|=u,dn|=u}c=c.next}while(c!==null&&c!==s);l===null?i=n:l.next=a,Ct(n,e.memoizedState)||(Ve=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){o=t;do s=o.lane,fe.lanes|=s,dn|=s,o=o.next;while(o!==t)}else o===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Pl(t){var e=ht(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,o=r.pending,s=e.memoizedState;if(o!==null){r.pending=null;var i=o=o.next;do s=t(s,i.action),i=i.next;while(i!==o);Ct(s,e.memoizedState)||(Ve=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function bg(){}function _g(t,e){var r=fe,n=ht(),o=e(),s=!Ct(n.memoizedState,o);if(s&&(n.memoizedState=o,Ve=!0),n=n.queue,hd(Sg.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Te!==null&&Te.memoizedState.tag&1){if(r.flags|=2048,bs(9,kg.bind(null,r,n,o,e),void 0,null),Pe===null)throw Error(j(349));un&30||xg(r,e,o)}return o}function xg(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function kg(t,e,r,n){e.value=r,e.getSnapshot=n,Eg(e)&&Tg(t)}function Sg(t,e,r){return r(function(){Eg(e)&&Tg(t)})}function Eg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ct(t,r)}catch{return!0}}function Tg(t){var e=tr(t,1);e!==null&&Et(e,t,1,-1)}function ih(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},e.queue=t,t=t.dispatch=K_.bind(null,fe,t),[e.memoizedState,t]}function bs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Cg(){return ht().memoizedState}function Ni(t,e,r,n){var o=Lt();fe.flags|=t,o.memoizedState=bs(1|e,r,void 0,n===void 0?null:n)}function Ma(t,e,r,n){var o=ht();n=n===void 0?null:n;var s=void 0;if(xe!==null){var i=xe.memoizedState;if(s=i.destroy,n!==null&&ud(n,i.deps)){o.memoizedState=bs(e,r,s,n);return}}fe.flags|=t,o.memoizedState=bs(1|e,r,s,n)}function ah(t,e){return Ni(8390656,8,t,e)}function hd(t,e){return Ma(2048,8,t,e)}function Pg(t,e){return Ma(4,2,t,e)}function jg(t,e){return Ma(4,4,t,e)}function Og(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Rg(t,e,r){return r=r!=null?r.concat([t]):null,Ma(4,4,Og.bind(null,e,t),r)}function pd(){}function Ag(t,e){var r=ht();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ud(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ig(t,e){var r=ht();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ud(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Ng(t,e,r){return un&21?(Ct(r,e)||(r=Um(),fe.lanes|=r,dn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ve=!0),t.memoizedState=r)}function W_(t,e){var r=X;X=r!==0&&4>r?r:4,t(!0);var n=Tl.transition;Tl.transition={};try{t(!1),e()}finally{X=r,Tl.transition=n}}function Lg(){return ht().memoizedState}function V_(t,e,r){var n=Tr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Dg(t))$g(e,r);else if(r=yg(t,e,r,n),r!==null){var o=Ue();Et(r,t,n,o),Mg(r,e,n)}}function K_(t,e,r){var n=Tr(t),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dg(t))$g(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,a=s(i,r);if(o.hasEagerState=!0,o.eagerState=a,Ct(a,i)){var l=e.interleaved;l===null?(o.next=o,sd(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}r=yg(t,e,o,n),r!==null&&(o=Ue(),Et(r,t,n,o),Mg(r,e,n))}}function Dg(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function $g(t,e){Go=da=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Mg(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ku(t,r)}}var fa={readContext:ft,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},H_={readContext:ft,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:ah,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ni(4194308,4,Og.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ni(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ni(4,2,t,e)},useMemo:function(t,e){var r=Lt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Lt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=V_.bind(null,fe,t),[n.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:ih,useDebugValue:pd,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=ih(!1),e=t[0];return t=W_.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=fe,o=Lt();if(ae){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),Pe===null)throw Error(j(349));un&30||xg(n,e,r)}o.memoizedState=r;var s={value:r,getSnapshot:e};return o.queue=s,ah(Sg.bind(null,n,s,t),[t]),n.flags|=2048,bs(9,kg.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Lt(),e=Pe.identifierPrefix;if(ae){var r=Yt,n=Jt;r=(n&~(1<<32-St(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=vs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=B_++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q_={readContext:ft,useCallback:Ag,useContext:ft,useEffect:hd,useImperativeHandle:Rg,useInsertionEffect:Pg,useLayoutEffect:jg,useMemo:Ig,useReducer:Cl,useRef:Cg,useState:function(){return Cl(ws)},useDebugValue:pd,useDeferredValue:function(t){var e=ht();return Ng(e,xe.memoizedState,t)},useTransition:function(){var t=Cl(ws)[0],e=ht().memoizedState;return[t,e]},useMutableSource:bg,useSyncExternalStore:_g,useId:Lg,unstable_isNewReconciler:!1},G_={readContext:ft,useCallback:Ag,useContext:ft,useEffect:hd,useImperativeHandle:Rg,useInsertionEffect:Pg,useLayoutEffect:jg,useMemo:Ig,useReducer:Pl,useRef:Cg,useState:function(){return Pl(ws)},useDebugValue:pd,useDeferredValue:function(t){var e=ht();return xe===null?e.memoizedState=t:Ng(e,xe.memoizedState,t)},useTransition:function(){var t=Pl(ws)[0],e=ht().memoizedState;return[t,e]},useMutableSource:bg,useSyncExternalStore:_g,useId:Lg,unstable_isNewReconciler:!1};function vt(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Uc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:he({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ua={isMounted:function(t){return(t=t._reactInternals)?mn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ue(),o=Tr(t),s=Xt(n,o);s.payload=e,r!=null&&(s.callback=r),e=Sr(t,s,o),e!==null&&(Et(e,t,o,n),Ai(e,t,o))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ue(),o=Tr(t),s=Xt(n,o);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Sr(t,s,o),e!==null&&(Et(e,t,o,n),Ai(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ue(),n=Tr(t),o=Xt(r,n);o.tag=2,e!=null&&(o.callback=e),e=Sr(t,o,n),e!==null&&(Et(e,t,n,r),Ai(e,t,n))}};function lh(t,e,r,n,o,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!fs(r,n)||!fs(o,s):!0}function Ug(t,e,r){var n=!1,o=Or,s=e.contextType;return typeof s=="object"&&s!==null?s=ft(s):(o=He(e)?ln:Le.current,n=e.contextTypes,s=(n=n!=null)?so(t,o):Or),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ua,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function ch(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ua.enqueueReplaceState(e,e.state,null)}function Fc(t,e,r,n){var o=t.stateNode;o.props=r,o.state=t.memoizedState,o.refs={},id(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=ft(s):(s=He(e)?ln:Le.current,o.context=so(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Uc(t,e,s,r),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Ua.enqueueReplaceState(o,o.state,null),ca(t,r,o,n),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function co(t,e){try{var r="",n=e;do r+=xb(n),n=n.return;while(n);var o=r}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function jl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function zc(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var J_=typeof WeakMap=="function"?WeakMap:Map;function Fg(t,e,r){r=Xt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){pa||(pa=!0,Xc=n),zc(t,e)},r}function zg(t,e,r){r=Xt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var o=e.value;r.payload=function(){return n(o)},r.callback=function(){zc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){zc(t,e),typeof n!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function uh(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new J_;var o=new Set;n.set(e,o)}else o=n.get(e),o===void 0&&(o=new Set,n.set(e,o));o.has(r)||(o.add(r),t=cx.bind(null,t,e,r),e.then(t,t))}function dh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fh(t,e,r,n,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Xt(-1,1),e.tag=2,Sr(r,e,1))),r.lanes|=1),t)}var Y_=or.ReactCurrentOwner,Ve=!1;function Me(t,e,r,n){e.child=t===null?gg(e,null,r,n):ao(e,t.child,r,n)}function hh(t,e,r,n,o){r=r.render;var s=e.ref;return Yn(e,o),n=dd(t,e,r,n,s,o),r=fd(),t!==null&&!Ve?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,rr(t,e,o)):(ae&&r&&Qu(e),e.flags|=1,Me(t,e,n,o),e.child)}function ph(t,e,r,n,o){if(t===null){var s=r.type;return typeof s=="function"&&!xd(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Bg(t,e,s,n,o)):(t=Mi(r.type,null,n,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:fs,r(i,n)&&t.ref===e.ref)return rr(t,e,o)}return e.flags|=1,t=Cr(s,n),t.ref=e.ref,t.return=e,e.child=t}function Bg(t,e,r,n,o){if(t!==null){var s=t.memoizedProps;if(fs(s,n)&&t.ref===e.ref)if(Ve=!1,e.pendingProps=n=s,(t.lanes&o)!==0)t.flags&131072&&(Ve=!0);else return e.lanes=t.lanes,rr(t,e,o)}return Bc(t,e,r,n,o)}function Wg(t,e,r){var n=e.pendingProps,o=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Vn,Je),Je|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,re(Vn,Je),Je|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,re(Vn,Je),Je|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,re(Vn,Je),Je|=n;return Me(t,e,o,r),e.child}function Vg(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Bc(t,e,r,n,o){var s=He(r)?ln:Le.current;return s=so(e,s),Yn(e,o),r=dd(t,e,r,n,s,o),n=fd(),t!==null&&!Ve?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,rr(t,e,o)):(ae&&n&&Qu(e),e.flags|=1,Me(t,e,r,o),e.child)}function mh(t,e,r,n,o){if(He(r)){var s=!0;oa(e)}else s=!1;if(Yn(e,o),e.stateNode===null)Li(t,e),Ug(e,r,n),Fc(e,r,n,o),n=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=ft(c):(c=He(r)?ln:Le.current,c=so(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==c)&&ch(e,i,n,c),hr=!1;var f=e.memoizedState;i.state=f,ca(e,n,i,o),l=e.memoizedState,a!==n||f!==l||Ke.current||hr?(typeof u=="function"&&(Uc(e,r,u,n),l=e.memoizedState),(a=hr||lh(e,r,a,n,f,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),i.props=n,i.state=l,i.context=c,n=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,vg(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:vt(e.type,a),i.props=c,d=e.pendingProps,f=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=ft(l):(l=He(r)?ln:Le.current,l=so(e,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||f!==l)&&ch(e,i,n,l),hr=!1,f=e.memoizedState,i.state=f,ca(e,n,i,o);var b=e.memoizedState;a!==d||f!==b||Ke.current||hr?(typeof h=="function"&&(Uc(e,r,h,n),b=e.memoizedState),(c=hr||lh(e,r,c,n,f,b,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),i.props=n,i.state=b,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Wc(t,e,r,n,s,o)}function Wc(t,e,r,n,o,s){Vg(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return o&&eh(e,r,!1),rr(t,e,s);n=e.stateNode,Y_.current=e;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=ao(e,t.child,null,s),e.child=ao(e,null,a,s)):Me(t,e,a,s),e.memoizedState=n.state,o&&eh(e,r,!0),e.child}function Kg(t){var e=t.stateNode;e.pendingContext?Qf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qf(t,e.context,!1),ad(t,e.containerInfo)}function gh(t,e,r,n,o){return io(),td(o),e.flags|=256,Me(t,e,r,n),e.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Kc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hg(t,e,r){var n=e.pendingProps,o=de.current,s=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),re(de,o&1),t===null)return $c(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Ba(i,n,0,null),t=on(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kc(r),e.memoizedState=Vc,t):md(e,i));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return X_(t,e,i,n,a,o,r);if(s){s=n.fallback,i=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Cr(o,l),n.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=Cr(a,s):(s=on(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?Kc(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=Vc,n}return s=t.child,t=s.sibling,n=Cr(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function md(t,e){return e=Ba({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ri(t,e,r,n){return n!==null&&td(n),ao(e,t.child,null,r),t=md(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X_(t,e,r,n,o,s,i){if(r)return e.flags&256?(e.flags&=-257,n=jl(Error(j(422))),ri(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,o=e.mode,n=Ba({mode:"visible",children:n.children},o,0,null),s=on(s,o,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ao(e,t.child,null,i),e.child.memoizedState=Kc(i),e.memoizedState=Vc,s);if(!(e.mode&1))return ri(t,e,i,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(j(419)),n=jl(s,n,void 0),ri(t,e,i,n)}if(a=(i&t.childLanes)!==0,Ve||a){if(n=Pe,n!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,tr(t,o),Et(n,t,o,-1))}return _d(),n=jl(Error(j(421))),ri(t,e,i,n)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=ux.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,Ze=kr(o.nextSibling),Qe=e,ae=!0,xt=null,t!==null&&(it[at++]=Jt,it[at++]=Yt,it[at++]=cn,Jt=t.id,Yt=t.overflow,cn=e),e=md(e,n.children),e.flags|=4096,e)}function yh(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Mc(t.return,e,r)}function Ol(t,e,r,n,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=o)}function qg(t,e,r){var n=e.pendingProps,o=n.revealOrder,s=n.tail;if(Me(t,e,n.children,r),n=de.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yh(t,r,e);else if(t.tag===19)yh(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(re(de,n),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(r=e.child,o=null;r!==null;)t=r.alternate,t!==null&&ua(t)===null&&(o=r),r=r.sibling;r=o,r===null?(o=e.child,e.child=null):(o=r.sibling,r.sibling=null),Ol(e,!1,o,r,s);break;case"backwards":for(r=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&ua(t)===null){e.child=o;break}t=o.sibling,o.sibling=r,r=o,o=t}Ol(e,!0,r,null,s);break;case"together":Ol(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Li(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),dn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=Cr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Cr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Z_(t,e,r){switch(e.tag){case 3:Kg(e),io();break;case 5:wg(e);break;case 1:He(e.type)&&oa(e);break;case 4:ad(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,o=e.memoizedProps.value;re(aa,n._currentValue),n._currentValue=o;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(re(de,de.current&1),e.flags|=128,null):r&e.child.childLanes?Hg(t,e,r):(re(de,de.current&1),t=rr(t,e,r),t!==null?t.sibling:null);re(de,de.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return qg(t,e,r);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),re(de,de.current),n)break;return null;case 22:case 23:return e.lanes=0,Wg(t,e,r)}return rr(t,e,r)}var Gg,Hc,Jg,Yg;Gg=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hc=function(){};Jg=function(t,e,r,n){var o=t.memoizedProps;if(o!==n){t=e.stateNode,Zr(Ut.current);var s=null;switch(r){case"input":o=pc(t,o),n=pc(t,n),s=[];break;case"select":o=he({},o,{value:void 0}),n=he({},n,{value:void 0}),s=[];break;case"textarea":o=yc(t,o),n=yc(t,n),s=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ra)}wc(r,n);var i;r=null;for(c in o)if(!n.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ss.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=o!=null?o[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ss.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&oe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Yg=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ao(t,e){if(!ae)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ie(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var o=t.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Q_(t,e,r){var n=e.pendingProps;switch(ed(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(e),null;case 1:return He(e.type)&&na(),Ie(e),null;case 3:return n=e.stateNode,lo(),se(Ke),se(Le),cd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ei(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xt!==null&&(eu(xt),xt=null))),Hc(t,e),Ie(e),null;case 5:ld(e);var o=Zr(ys.current);if(r=e.type,t!==null&&e.stateNode!=null)Jg(t,e,r,n,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return Ie(e),null}if(t=Zr(Ut.current),ei(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[$t]=e,n[ms]=s,t=(e.mode&1)!==0,r){case"dialog":oe("cancel",n),oe("close",n);break;case"iframe":case"object":case"embed":oe("load",n);break;case"video":case"audio":for(o=0;o<zo.length;o++)oe(zo[o],n);break;case"source":oe("error",n);break;case"img":case"image":case"link":oe("error",n),oe("load",n);break;case"details":oe("toggle",n);break;case"input":Tf(n,s),oe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},oe("invalid",n);break;case"textarea":Pf(n,s),oe("invalid",n)}wc(r,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Qs(n.textContent,a,t),o=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Qs(n.textContent,a,t),o=["children",""+a]):ss.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&oe("scroll",n)}switch(r){case"input":Ks(n),Cf(n,s,!0);break;case"textarea":Ks(n),jf(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ra)}n=o,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sm(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[$t]=e,t[ms]=n,Gg(t,e,!1,!1),e.stateNode=t;e:{switch(i=bc(r,n),r){case"dialog":oe("cancel",t),oe("close",t),o=n;break;case"iframe":case"object":case"embed":oe("load",t),o=n;break;case"video":case"audio":for(o=0;o<zo.length;o++)oe(zo[o],t);o=n;break;case"source":oe("error",t),o=n;break;case"img":case"image":case"link":oe("error",t),oe("load",t),o=n;break;case"details":oe("toggle",t),o=n;break;case"input":Tf(t,n),o=pc(t,n),oe("invalid",t);break;case"option":o=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},o=he({},n,{value:void 0}),oe("invalid",t);break;case"textarea":Pf(t,n),o=yc(t,n),oe("invalid",t);break;default:o=n}wc(r,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Cm(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Em(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&is(t,l):typeof l=="number"&&is(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ss.hasOwnProperty(s)?l!=null&&s==="onScroll"&&oe("scroll",t):l!=null&&Uu(t,s,l,i))}switch(r){case"input":Ks(t),Cf(t,n,!1);break;case"textarea":Ks(t),jf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+jr(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Hn(t,!!n.multiple,s,!1):n.defaultValue!=null&&Hn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=ra)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ie(e),null;case 6:if(t&&e.stateNode!=null)Yg(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=Zr(ys.current),Zr(Ut.current),ei(e)){if(n=e.stateNode,r=e.memoizedProps,n[$t]=e,(s=n.nodeValue!==r)&&(t=Qe,t!==null))switch(t.tag){case 3:Qs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qs(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$t]=e,e.stateNode=n}return Ie(e),null;case 13:if(se(de),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ae&&Ze!==null&&e.mode&1&&!(e.flags&128))pg(),io(),e.flags|=98560,s=!1;else if(s=ei(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[$t]=e}else io(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),s=!1}else xt!==null&&(eu(xt),xt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?Se===0&&(Se=3):_d())),e.updateQueue!==null&&(e.flags|=4),Ie(e),null);case 4:return lo(),Hc(t,e),t===null&&hs(e.stateNode.containerInfo),Ie(e),null;case 10:return od(e.type._context),Ie(e),null;case 17:return He(e.type)&&na(),Ie(e),null;case 19:if(se(de),s=e.memoizedState,s===null)return Ie(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)Ao(s,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ua(t),i!==null){for(e.flags|=128,Ao(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return re(de,de.current&1|2),e.child}t=t.sibling}s.tail!==null&&ye()>uo&&(e.flags|=128,n=!0,Ao(s,!1),e.lanes=4194304)}else{if(!n)if(t=ua(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ao(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ae)return Ie(e),null}else 2*ye()-s.renderingStartTime>uo&&r!==1073741824&&(e.flags|=128,n=!0,Ao(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ye(),e.sibling=null,r=de.current,re(de,n?r&1|2:r&1),e):(Ie(e),null);case 22:case 23:return bd(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Je&1073741824&&(Ie(e),e.subtreeFlags&6&&(e.flags|=8192)):Ie(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function ex(t,e){switch(ed(e),e.tag){case 1:return He(e.type)&&na(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lo(),se(Ke),se(Le),cd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ld(e),null;case 13:if(se(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));io()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(de),null;case 4:return lo(),null;case 10:return od(e.type._context),null;case 22:case 23:return bd(),null;case 24:return null;default:return null}}var ni=!1,Ne=!1,tx=typeof WeakSet=="function"?WeakSet:Set,L=null;function Wn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){me(t,e,n)}else r.current=null}function qc(t,e,r){try{r()}catch(n){me(t,e,n)}}var vh=!1;function rx(t,e){if(Oc=Qi,t=tg(),Zu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==r||o!==0&&d.nodeType!==3||(a=i+o),d!==s||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===r&&++c===o&&(a=i),f===s&&++u===n&&(l=i),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rc={focusedElem:t,selectionRange:r},Qi=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,_=b.memoizedState,w=e.stateNode,p=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:vt(e.type,v),_);w.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){me(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return b=vh,vh=!1,b}function Jo(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&qc(e,r,s)}o=o.next}while(o!==n)}}function Fa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Gc(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Xg(t){var e=t.alternate;e!==null&&(t.alternate=null,Xg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$t],delete e[ms],delete e[Nc],delete e[M_],delete e[U_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zg(t){return t.tag===5||t.tag===3||t.tag===4}function wh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ra));else if(n!==4&&(t=t.child,t!==null))for(Jc(t,e,r),t=t.sibling;t!==null;)Jc(t,e,r),t=t.sibling}function Yc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Yc(t,e,r),t=t.sibling;t!==null;)Yc(t,e,r),t=t.sibling}var je=null,bt=!1;function ar(t,e,r){for(r=r.child;r!==null;)Qg(t,e,r),r=r.sibling}function Qg(t,e,r){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Aa,r)}catch{}switch(r.tag){case 5:Ne||Wn(r,e);case 6:var n=je,o=bt;je=null,ar(t,e,r),je=n,bt=o,je!==null&&(bt?(t=je,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):je.removeChild(r.stateNode));break;case 18:je!==null&&(bt?(t=je,r=r.stateNode,t.nodeType===8?kl(t.parentNode,r):t.nodeType===1&&kl(t,r),us(t)):kl(je,r.stateNode));break;case 4:n=je,o=bt,je=r.stateNode.containerInfo,bt=!0,ar(t,e,r),je=n,bt=o;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&qc(r,e,i),o=o.next}while(o!==n)}ar(t,e,r);break;case 1:if(!Ne&&(Wn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){me(r,e,a)}ar(t,e,r);break;case 21:ar(t,e,r);break;case 22:r.mode&1?(Ne=(n=Ne)||r.memoizedState!==null,ar(t,e,r),Ne=n):ar(t,e,r);break;default:ar(t,e,r)}}function bh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new tx),e.forEach(function(n){var o=dx.bind(null,t,n);r.has(n)||(r.add(n),n.then(o,o))})}}function gt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var s=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,bt=!1;break e;case 3:je=a.stateNode.containerInfo,bt=!0;break e;case 4:je=a.stateNode.containerInfo,bt=!0;break e}a=a.return}if(je===null)throw Error(j(160));Qg(s,i,o),je=null,bt=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){me(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ey(e,t),e=e.sibling}function ey(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gt(e,t),It(t),n&4){try{Jo(3,t,t.return),Fa(3,t)}catch(v){me(t,t.return,v)}try{Jo(5,t,t.return)}catch(v){me(t,t.return,v)}}break;case 1:gt(e,t),It(t),n&512&&r!==null&&Wn(r,r.return);break;case 5:if(gt(e,t),It(t),n&512&&r!==null&&Wn(r,r.return),t.flags&32){var o=t.stateNode;try{is(o,"")}catch(v){me(t,t.return,v)}}if(n&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xm(o,s),bc(a,i);var c=bc(a,s);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];u==="style"?Cm(o,d):u==="dangerouslySetInnerHTML"?Em(o,d):u==="children"?is(o,d):Uu(o,u,d,c)}switch(a){case"input":mc(o,s);break;case"textarea":km(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Hn(o,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Hn(o,!!s.multiple,s.defaultValue,!0):Hn(o,!!s.multiple,s.multiple?[]:"",!1))}o[ms]=s}catch(v){me(t,t.return,v)}}break;case 6:if(gt(e,t),It(t),n&4){if(t.stateNode===null)throw Error(j(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(v){me(t,t.return,v)}}break;case 3:if(gt(e,t),It(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{us(e.containerInfo)}catch(v){me(t,t.return,v)}break;case 4:gt(e,t),It(t);break;case 13:gt(e,t),It(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(vd=ye())),n&4&&bh(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ne=(c=Ne)||u,gt(e,t),Ne=c):gt(e,t),It(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(L=t,u=t.child;u!==null;){for(d=L=u;L!==null;){switch(f=L,h=f.child,f.tag){case 0:case 11:case 14:case 15:Jo(4,f,f.return);break;case 1:Wn(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){me(n,r,v)}}break;case 5:Wn(f,f.return);break;case 22:if(f.memoizedState!==null){xh(d);continue}}h!==null?(h.return=f,L=h):xh(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Tm("display",i))}catch(v){me(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){me(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gt(e,t),It(t),n&4&&bh(t);break;case 21:break;default:gt(e,t),It(t)}}function It(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Zg(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(is(o,""),n.flags&=-33);var s=wh(t);Yc(t,s,o);break;case 3:case 4:var i=n.stateNode.containerInfo,a=wh(t);Jc(t,a,i);break;default:throw Error(j(161))}}catch(l){me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nx(t,e,r){L=t,ty(t)}function ty(t,e,r){for(var n=(t.mode&1)!==0;L!==null;){var o=L,s=o.child;if(o.tag===22&&n){var i=o.memoizedState!==null||ni;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Ne;a=ni;var c=Ne;if(ni=i,(Ne=l)&&!c)for(L=o;L!==null;)i=L,l=i.child,i.tag===22&&i.memoizedState!==null?kh(o):l!==null?(l.return=i,L=l):kh(o);for(;s!==null;)L=s,ty(s),s=s.sibling;L=o,ni=a,Ne=c}_h(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,L=s):_h(t)}}function _h(t){for(;L!==null;){var e=L;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ne||Fa(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ne)if(r===null)n.componentDidMount();else{var o=e.elementType===e.type?r.memoizedProps:vt(e.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&sh(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}sh(e,i,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&us(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Ne||e.flags&512&&Gc(e)}catch(f){me(e,e.return,f)}}if(e===t){L=null;break}if(r=e.sibling,r!==null){r.return=e.return,L=r;break}L=e.return}}function xh(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var r=e.sibling;if(r!==null){r.return=e.return,L=r;break}L=e.return}}function kh(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fa(4,e)}catch(l){me(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var o=e.return;try{n.componentDidMount()}catch(l){me(e,o,l)}}var s=e.return;try{Gc(e)}catch(l){me(e,s,l)}break;case 5:var i=e.return;try{Gc(e)}catch(l){me(e,i,l)}}}catch(l){me(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var ox=Math.ceil,ha=or.ReactCurrentDispatcher,gd=or.ReactCurrentOwner,dt=or.ReactCurrentBatchConfig,J=0,Pe=null,we=null,Oe=0,Je=0,Vn=Ar(0),Se=0,_s=null,dn=0,za=0,yd=0,Yo=null,Be=null,vd=0,uo=1/0,Kt=null,pa=!1,Xc=null,Er=null,oi=!1,wr=null,ma=0,Xo=0,Zc=null,Di=-1,$i=0;function Ue(){return J&6?ye():Di!==-1?Di:Di=ye()}function Tr(t){return t.mode&1?J&2&&Oe!==0?Oe&-Oe:z_.transition!==null?($i===0&&($i=Um()),$i):(t=X,t!==0||(t=window.event,t=t===void 0?16:Hm(t.type)),t):1}function Et(t,e,r,n){if(50<Xo)throw Xo=0,Zc=null,Error(j(185));Os(t,r,n),(!(J&2)||t!==Pe)&&(t===Pe&&(!(J&2)&&(za|=r),Se===4&&mr(t,Oe)),qe(t,n),r===1&&J===0&&!(e.mode&1)&&(uo=ye()+500,$a&&Ir()))}function qe(t,e){var r=t.callbackNode;zb(t,e);var n=Zi(t,t===Pe?Oe:0);if(n===0)r!==null&&Af(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Af(r),e===1)t.tag===0?F_(Sh.bind(null,t)):dg(Sh.bind(null,t)),D_(function(){!(J&6)&&Ir()}),r=null;else{switch(Fm(n)){case 1:r=Vu;break;case 4:r=$m;break;case 16:r=Xi;break;case 536870912:r=Mm;break;default:r=Xi}r=cy(r,ry.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ry(t,e){if(Di=-1,$i=0,J&6)throw Error(j(327));var r=t.callbackNode;if(Xn()&&t.callbackNode!==r)return null;var n=Zi(t,t===Pe?Oe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ga(t,n);else{e=n;var o=J;J|=2;var s=oy();(Pe!==t||Oe!==e)&&(Kt=null,uo=ye()+500,nn(t,e));do try{ax();break}catch(a){ny(t,a)}while(!0);nd(),ha.current=s,J=o,we!==null?e=0:(Pe=null,Oe=0,e=Se)}if(e!==0){if(e===2&&(o=Ec(t),o!==0&&(n=o,e=Qc(t,o))),e===1)throw r=_s,nn(t,0),mr(t,n),qe(t,ye()),r;if(e===6)mr(t,n);else{if(o=t.current.alternate,!(n&30)&&!sx(o)&&(e=ga(t,n),e===2&&(s=Ec(t),s!==0&&(n=s,e=Qc(t,s))),e===1))throw r=_s,nn(t,0),mr(t,n),qe(t,ye()),r;switch(t.finishedWork=o,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:Vr(t,Be,Kt);break;case 3:if(mr(t,n),(n&130023424)===n&&(e=vd+500-ye(),10<e)){if(Zi(t,0)!==0)break;if(o=t.suspendedLanes,(o&n)!==n){Ue(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Ic(Vr.bind(null,t,Be,Kt),e);break}Vr(t,Be,Kt);break;case 4:if(mr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,o=-1;0<n;){var i=31-St(n);s=1<<i,i=e[i],i>o&&(o=i),n&=~s}if(n=o,n=ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ox(n/1960))-n,10<n){t.timeoutHandle=Ic(Vr.bind(null,t,Be,Kt),n);break}Vr(t,Be,Kt);break;case 5:Vr(t,Be,Kt);break;default:throw Error(j(329))}}}return qe(t,ye()),t.callbackNode===r?ry.bind(null,t):null}function Qc(t,e){var r=Yo;return t.current.memoizedState.isDehydrated&&(nn(t,e).flags|=256),t=ga(t,e),t!==2&&(e=Be,Be=r,e!==null&&eu(e)),t}function eu(t){Be===null?Be=t:Be.push.apply(Be,t)}function sx(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],s=o.getSnapshot;o=o.value;try{if(!Ct(s(),o))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mr(t,e){for(e&=~yd,e&=~za,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-St(e),n=1<<r;t[r]=-1,e&=~n}}function Sh(t){if(J&6)throw Error(j(327));Xn();var e=Zi(t,0);if(!(e&1))return qe(t,ye()),null;var r=ga(t,e);if(t.tag!==0&&r===2){var n=Ec(t);n!==0&&(e=n,r=Qc(t,n))}if(r===1)throw r=_s,nn(t,0),mr(t,e),qe(t,ye()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vr(t,Be,Kt),qe(t,ye()),null}function wd(t,e){var r=J;J|=1;try{return t(e)}finally{J=r,J===0&&(uo=ye()+500,$a&&Ir())}}function fn(t){wr!==null&&wr.tag===0&&!(J&6)&&Xn();var e=J;J|=1;var r=dt.transition,n=X;try{if(dt.transition=null,X=1,t)return t()}finally{X=n,dt.transition=r,J=e,!(J&6)&&Ir()}}function bd(){Je=Vn.current,se(Vn)}function nn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,L_(r)),we!==null)for(r=we.return;r!==null;){var n=r;switch(ed(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&na();break;case 3:lo(),se(Ke),se(Le),cd();break;case 5:ld(n);break;case 4:lo();break;case 13:se(de);break;case 19:se(de);break;case 10:od(n.type._context);break;case 22:case 23:bd()}r=r.return}if(Pe=t,we=t=Cr(t.current,null),Oe=Je=e,Se=0,_s=null,yd=za=dn=0,Be=Yo=null,Xr!==null){for(e=0;e<Xr.length;e++)if(r=Xr[e],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=o,n.next=i}r.pending=n}Xr=null}return t}function ny(t,e){do{var r=we;try{if(nd(),Ii.current=fa,da){for(var n=fe.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}da=!1}if(un=0,Te=xe=fe=null,Go=!1,vs=0,gd.current=null,r===null||r.return===null){Se=1,_s=e,we=null;break}e:{var s=t,i=r.return,a=r,l=e;if(e=Oe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=dh(i);if(h!==null){h.flags&=-257,fh(h,i,a,s,e),h.mode&1&&uh(s,c,e),e=h,l=c;var b=e.updateQueue;if(b===null){var v=new Set;v.add(l),e.updateQueue=v}else b.add(l);break e}else{if(!(e&1)){uh(s,c,e),_d();break e}l=Error(j(426))}}else if(ae&&a.mode&1){var _=dh(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),fh(_,i,a,s,e),td(co(l,a));break e}}s=l=co(l,a),Se!==4&&(Se=2),Yo===null?Yo=[s]:Yo.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Fg(s,l,e);oh(s,w);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Er===null||!Er.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=zg(s,a,e);oh(s,x);break e}}s=s.return}while(s!==null)}iy(r)}catch(k){e=k,we===r&&r!==null&&(we=r=r.return);continue}break}while(!0)}function oy(){var t=ha.current;return ha.current=fa,t===null?fa:t}function _d(){(Se===0||Se===3||Se===2)&&(Se=4),Pe===null||!(dn&268435455)&&!(za&268435455)||mr(Pe,Oe)}function ga(t,e){var r=J;J|=2;var n=oy();(Pe!==t||Oe!==e)&&(Kt=null,nn(t,e));do try{ix();break}catch(o){ny(t,o)}while(!0);if(nd(),J=r,ha.current=n,we!==null)throw Error(j(261));return Pe=null,Oe=0,Se}function ix(){for(;we!==null;)sy(we)}function ax(){for(;we!==null&&!Ab();)sy(we)}function sy(t){var e=ly(t.alternate,t,Je);t.memoizedProps=t.pendingProps,e===null?iy(t):we=e,gd.current=null}function iy(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ex(r,e),r!==null){r.flags&=32767,we=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,we=null;return}}else if(r=Q_(r,e,Je),r!==null){we=r;return}if(e=e.sibling,e!==null){we=e;return}we=e=t}while(e!==null);Se===0&&(Se=5)}function Vr(t,e,r){var n=X,o=dt.transition;try{dt.transition=null,X=1,lx(t,e,r,n)}finally{dt.transition=o,X=n}return null}function lx(t,e,r,n){do Xn();while(wr!==null);if(J&6)throw Error(j(327));r=t.finishedWork;var o=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Bb(t,s),t===Pe&&(we=Pe=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||oi||(oi=!0,cy(Xi,function(){return Xn(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=dt.transition,dt.transition=null;var i=X;X=1;var a=J;J|=4,gd.current=null,rx(t,r),ey(r,t),P_(Rc),Qi=!!Oc,Rc=Oc=null,t.current=r,nx(r),Ib(),J=a,X=i,dt.transition=s}else t.current=r;if(oi&&(oi=!1,wr=t,ma=o),s=t.pendingLanes,s===0&&(Er=null),Db(r.stateNode),qe(t,ye()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)o=e[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(pa)throw pa=!1,t=Xc,Xc=null,t;return ma&1&&t.tag!==0&&Xn(),s=t.pendingLanes,s&1?t===Zc?Xo++:(Xo=0,Zc=t):Xo=0,Ir(),null}function Xn(){if(wr!==null){var t=Fm(ma),e=dt.transition,r=X;try{if(dt.transition=null,X=16>t?16:t,wr===null)var n=!1;else{if(t=wr,wr=null,ma=0,J&6)throw Error(j(331));var o=J;for(J|=4,L=t.current;L!==null;){var s=L,i=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(L=c;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:Jo(8,u,s)}var d=u.child;if(d!==null)d.return=u,L=d;else for(;L!==null;){u=L;var f=u.sibling,h=u.return;if(Xg(u),u===c){L=null;break}if(f!==null){f.return=h,L=f;break}L=h}}}var b=s.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}L=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,L=i;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Jo(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,L=w;break e}L=s.return}}var p=t.current;for(L=p;L!==null;){i=L;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,L=y;else e:for(i=p;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fa(9,a)}}catch(k){me(a,a.return,k)}if(a===i){L=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,L=x;break e}L=a.return}}if(J=o,Ir(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Aa,t)}catch{}n=!0}return n}finally{X=r,dt.transition=e}}return!1}function Eh(t,e,r){e=co(r,e),e=Fg(t,e,1),t=Sr(t,e,1),e=Ue(),t!==null&&(Os(t,1,e),qe(t,e))}function me(t,e,r){if(t.tag===3)Eh(t,t,r);else for(;e!==null;){if(e.tag===3){Eh(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Er===null||!Er.has(n))){t=co(r,t),t=zg(e,t,1),e=Sr(e,t,1),t=Ue(),e!==null&&(Os(e,1,t),qe(e,t));break}}e=e.return}}function cx(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ue(),t.pingedLanes|=t.suspendedLanes&r,Pe===t&&(Oe&r)===r&&(Se===4||Se===3&&(Oe&130023424)===Oe&&500>ye()-vd?nn(t,0):yd|=r),qe(t,e)}function ay(t,e){e===0&&(t.mode&1?(e=Gs,Gs<<=1,!(Gs&130023424)&&(Gs=4194304)):e=1);var r=Ue();t=tr(t,e),t!==null&&(Os(t,e,r),qe(t,r))}function ux(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ay(t,r)}function dx(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,o=t.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),ay(t,r)}var ly;ly=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ke.current)Ve=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ve=!1,Z_(t,e,r);Ve=!!(t.flags&131072)}else Ve=!1,ae&&e.flags&1048576&&fg(e,ia,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Li(t,e),t=e.pendingProps;var o=so(e,Le.current);Yn(e,r),o=dd(null,e,n,t,o,r);var s=fd();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,He(n)?(s=!0,oa(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,id(e),o.updater=Ua,e.stateNode=o,o._reactInternals=e,Fc(e,n,t,r),e=Wc(null,e,n,!0,s,r)):(e.tag=0,ae&&s&&Qu(e),Me(null,e,o,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Li(t,e),t=e.pendingProps,o=n._init,n=o(n._payload),e.type=n,o=e.tag=hx(n),t=vt(n,t),o){case 0:e=Bc(null,e,n,t,r);break e;case 1:e=mh(null,e,n,t,r);break e;case 11:e=hh(null,e,n,t,r);break e;case 14:e=ph(null,e,n,vt(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:vt(n,o),Bc(t,e,n,o,r);case 1:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:vt(n,o),mh(t,e,n,o,r);case 3:e:{if(Kg(e),t===null)throw Error(j(387));n=e.pendingProps,s=e.memoizedState,o=s.element,vg(t,e),ca(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=co(Error(j(423)),e),e=gh(t,e,n,r,o);break e}else if(n!==o){o=co(Error(j(424)),e),e=gh(t,e,n,r,o);break e}else for(Ze=kr(e.stateNode.containerInfo.firstChild),Qe=e,ae=!0,xt=null,r=gg(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(io(),n===o){e=rr(t,e,r);break e}Me(t,e,n,r)}e=e.child}return e;case 5:return wg(e),t===null&&$c(e),n=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,i=o.children,Ac(n,o)?i=null:s!==null&&Ac(n,s)&&(e.flags|=32),Vg(t,e),Me(t,e,i,r),e.child;case 6:return t===null&&$c(e),null;case 13:return Hg(t,e,r);case 4:return ad(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ao(e,null,n,r):Me(t,e,n,r),e.child;case 11:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:vt(n,o),hh(t,e,n,o,r);case 7:return Me(t,e,e.pendingProps,r),e.child;case 8:return Me(t,e,e.pendingProps.children,r),e.child;case 12:return Me(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,o=e.pendingProps,s=e.memoizedProps,i=o.value,re(aa,n._currentValue),n._currentValue=i,s!==null)if(Ct(s.value,i)){if(s.children===o.children&&!Ke.current){e=rr(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Xt(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Mc(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(j(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Mc(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Me(t,e,o.children,r),e=e.child}return e;case 9:return o=e.type,n=e.pendingProps.children,Yn(e,r),o=ft(o),n=n(o),e.flags|=1,Me(t,e,n,r),e.child;case 14:return n=e.type,o=vt(n,e.pendingProps),o=vt(n.type,o),ph(t,e,n,o,r);case 15:return Bg(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:vt(n,o),Li(t,e),e.tag=1,He(n)?(t=!0,oa(e)):t=!1,Yn(e,r),Ug(e,n,o),Fc(e,n,o,r),Wc(null,e,n,!0,t,r);case 19:return qg(t,e,r);case 22:return Wg(t,e,r)}throw Error(j(156,e.tag))};function cy(t,e){return Dm(t,e)}function fx(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(t,e,r,n){return new fx(t,e,r,n)}function xd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hx(t){if(typeof t=="function")return xd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zu)return 11;if(t===Bu)return 14}return 2}function Cr(t,e){var r=t.alternate;return r===null?(r=ut(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Mi(t,e,r,n,o,s){var i=2;if(n=t,typeof t=="function")xd(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Nn:return on(r.children,o,s,e);case Fu:i=8,o|=8;break;case uc:return t=ut(12,r,e,o|2),t.elementType=uc,t.lanes=s,t;case dc:return t=ut(13,r,e,o),t.elementType=dc,t.lanes=s,t;case fc:return t=ut(19,r,e,o),t.elementType=fc,t.lanes=s,t;case wm:return Ba(r,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ym:i=10;break e;case vm:i=9;break e;case zu:i=11;break e;case Bu:i=14;break e;case fr:i=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=ut(i,r,e,o),e.elementType=t,e.type=n,e.lanes=s,e}function on(t,e,r,n){return t=ut(7,t,n,e),t.lanes=r,t}function Ba(t,e,r,n){return t=ut(22,t,n,e),t.elementType=wm,t.lanes=r,t.stateNode={isHidden:!1},t}function Rl(t,e,r){return t=ut(6,t,null,e),t.lanes=r,t}function Al(t,e,r){return e=ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function px(t,e,r,n,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function kd(t,e,r,n,o,s,i,a,l){return t=new px(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ut(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},id(s),t}function mx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function uy(t){if(!t)return Or;t=t._reactInternals;e:{if(mn(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(He(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(He(r))return ug(t,r,e)}return e}function dy(t,e,r,n,o,s,i,a,l){return t=kd(r,n,!0,t,o,s,i,a,l),t.context=uy(null),r=t.current,n=Ue(),o=Tr(r),s=Xt(n,o),s.callback=e??null,Sr(r,s,o),t.current.lanes=o,Os(t,o,n),qe(t,n),t}function Wa(t,e,r,n){var o=e.current,s=Ue(),i=Tr(o);return r=uy(r),e.context===null?e.context=r:e.pendingContext=r,e=Xt(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Sr(o,e,i),t!==null&&(Et(t,o,i,s),Ai(t,o,i)),i}function ya(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Th(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Sd(t,e){Th(t,e),(t=t.alternate)&&Th(t,e)}function gx(){return null}var fy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ed(t){this._internalRoot=t}Va.prototype.render=Ed.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Wa(t,e,null,null)};Va.prototype.unmount=Ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fn(function(){Wa(null,t,null,null)}),e[er]=null}};function Va(t){this._internalRoot=t}Va.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wm();t={blockedOn:null,target:t,priority:e};for(var r=0;r<pr.length&&e!==0&&e<pr[r].priority;r++);pr.splice(r,0,t),r===0&&Km(t)}};function Td(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ka(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ch(){}function yx(t,e,r,n,o){if(o){if(typeof n=="function"){var s=n;n=function(){var c=ya(i);s.call(c)}}var i=dy(e,n,t,0,null,!1,!1,"",Ch);return t._reactRootContainer=i,t[er]=i.current,hs(t.nodeType===8?t.parentNode:t),fn(),i}for(;o=t.lastChild;)t.removeChild(o);if(typeof n=="function"){var a=n;n=function(){var c=ya(l);a.call(c)}}var l=kd(t,0,!1,null,null,!1,!1,"",Ch);return t._reactRootContainer=l,t[er]=l.current,hs(t.nodeType===8?t.parentNode:t),fn(function(){Wa(e,l,r,n)}),l}function Ha(t,e,r,n,o){var s=r._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=ya(i);a.call(l)}}Wa(e,i,t,o)}else i=yx(r,e,t,o,n);return ya(i)}zm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Fo(e.pendingLanes);r!==0&&(Ku(e,r|1),qe(e,ye()),!(J&6)&&(uo=ye()+500,Ir()))}break;case 13:fn(function(){var n=tr(t,1);if(n!==null){var o=Ue();Et(n,t,1,o)}}),Sd(t,1)}};Hu=function(t){if(t.tag===13){var e=tr(t,134217728);if(e!==null){var r=Ue();Et(e,t,134217728,r)}Sd(t,134217728)}};Bm=function(t){if(t.tag===13){var e=Tr(t),r=tr(t,e);if(r!==null){var n=Ue();Et(r,t,e,n)}Sd(t,e)}};Wm=function(){return X};Vm=function(t,e){var r=X;try{return X=t,e()}finally{X=r}};xc=function(t,e,r){switch(e){case"input":if(mc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var o=Da(n);if(!o)throw Error(j(90));_m(n),mc(n,o)}}}break;case"textarea":km(t,r);break;case"select":e=r.value,e!=null&&Hn(t,!!r.multiple,e,!1)}};Om=wd;Rm=fn;var vx={usingClientEntryPoint:!1,Events:[As,Mn,Da,Pm,jm,wd]},Io={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wx={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nm(t),t===null?null:t.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||gx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!si.isDisabled&&si.supportsFiber)try{Aa=si.inject(wx),Mt=si}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vx;tt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Td(e))throw Error(j(200));return mx(t,e,null,r)};tt.createRoot=function(t,e){if(!Td(t))throw Error(j(299));var r=!1,n="",o=fy;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=kd(t,1,!1,null,null,r,!1,n,o),t[er]=e.current,hs(t.nodeType===8?t.parentNode:t),new Ed(e)};tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Nm(e),t=t===null?null:t.stateNode,t};tt.flushSync=function(t){return fn(t)};tt.hydrate=function(t,e,r){if(!Ka(e))throw Error(j(200));return Ha(null,t,e,!0,r)};tt.hydrateRoot=function(t,e,r){if(!Td(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,o=!1,s="",i=fy;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=dy(e,null,t,1,r??null,o,!1,s,i),t[er]=e.current,hs(t),n)for(t=0;t<n.length;t++)r=n[t],o=r._getVersion,o=o(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,o]:e.mutableSourceEagerHydrationData.push(r,o);return new Va(e)};tt.render=function(t,e,r){if(!Ka(e))throw Error(j(200));return Ha(null,t,e,!1,r)};tt.unmountComponentAtNode=function(t){if(!Ka(t))throw Error(j(40));return t._reactRootContainer?(fn(function(){Ha(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1};tt.unstable_batchedUpdates=wd;tt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ka(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Ha(t,e,r,!1,n)};tt.version="18.3.1-next-f1338f8080-20240426";function hy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hy)}catch(t){console.error(t)}}hy(),hm.exports=tt;var qa=hm.exports;const bx=Qp(qa);var py,Ph=qa;py=Ph.createRoot,Ph.hydrateRoot;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jh="popstate";function _x(t={}){function e(n,o){let{pathname:s,search:i,hash:a}=n.location;return tu("",{pathname:s,search:i,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:xs(o)}return kx(e,r,null,t)}function le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xx(){return Math.random().toString(36).substring(2,10)}function Oh(t,e){return{usr:t.state,key:t.key,idx:e}}function tu(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vo(e):e,state:r,key:e&&e.key||n||xx()}}function xs({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function vo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function kx(t,e,r,n={}){let{window:o=document.defaultView,v5Compat:s=!1}=n,i=o.history,a="POP",l=null,c=u();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function u(){return(i.state||{idx:null}).idx}function d(){a="POP";let _=u(),w=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:w})}function f(_,w){a="PUSH";let p=tu(v.location,_,w);c=u()+1;let y=Oh(p,c),x=v.createHref(p);try{i.pushState(y,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(x)}s&&l&&l({action:a,location:v.location,delta:1})}function h(_,w){a="REPLACE";let p=tu(v.location,_,w);c=u();let y=Oh(p,c),x=v.createHref(p);i.replaceState(y,"",x),s&&l&&l({action:a,location:v.location,delta:0})}function b(_){return Sx(_)}let v={get action(){return a},get location(){return t(o,i)},listen(_){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(jh,d),l=_,()=>{o.removeEventListener(jh,d),l=null}},createHref(_){return e(o,_)},createURL:b,encodeLocation(_){let w=b(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:h,go(_){return i.go(_)}};return v}function Sx(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),le(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:xs(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function my(t,e,r="/"){return Ex(t,e,r,!1)}function Ex(t,e,r,n){let o=typeof e=="string"?vo(e):e,s=nr(o.pathname||"/",r);if(s==null)return null;let i=gy(t);Tx(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=$x(s);a=Lx(i[l],c,n)}return a}function gy(t,e=[],r=[],n="",o=!1){let s=(i,a,l=o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;le(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let d=Zt([n,u.relativePath]),f=r.concat(u);i.children&&i.children.length>0&&(le(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),gy(i.children,e,f,d,l)),!(i.path==null&&!i.index)&&e.push({path:d,score:Ix(d,i.index),routesMeta:f})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of yy(i.path))s(i,a,!0,c)}),e}function yy(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,o=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return o?[s,""]:[s];let i=yy(n.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),o&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Tx(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Nx(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Cx=/^:[\w-]+$/,Px=3,jx=2,Ox=1,Rx=10,Ax=-2,Rh=t=>t==="*";function Ix(t,e){let r=t.split("/"),n=r.length;return r.some(Rh)&&(n+=Ax),e&&(n+=jx),r.filter(o=>!Rh(o)).reduce((o,s)=>o+(Cx.test(s)?Px:s===""?Ox:Rx),n)}function Nx(t,e){return t.length===e.length&&t.slice(0,-1).every((n,o)=>n===e[o])?t[t.length-1]-e[e.length-1]:0}function Lx(t,e,r=!1){let{routesMeta:n}=t,o={},s="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=va({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=va({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(o,d.params),i.push({params:o,pathname:Zt([s,d.pathname]),pathnameBase:zx(Zt([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Zt([s,d.pathnameBase]))}return i}function va(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Dx(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let s=o[0],i=s.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:d},f)=>{if(u==="*"){let b=a[f]||"";i=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?c[u]=void 0:c[u]=(h||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:i,pattern:t}}function Dx(t,e=!1,r=!0){pt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),n]}function $x(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function nr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Mx(t,e="/"){let{pathname:r,search:n="",hash:o=""}=typeof t=="string"?vo(t):t;return{pathname:r?r.startsWith("/")?r:Ux(r,e):e,search:Bx(n),hash:Wx(o)}}function Ux(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Il(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fx(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Cd(t){let e=Fx(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Pd(t,e,r,n=!1){let o;typeof t=="string"?o=vo(t):(o={...t},le(!o.pathname||!o.pathname.includes("?"),Il("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),Il("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),Il("#","search","hash",o)));let s=t===""||o.pathname==="",i=s?"/":o.pathname,a;if(i==null)a=r;else{let d=e.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),d-=1;o.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Mx(o,a),c=i&&i!=="/"&&i.endsWith("/"),u=(s||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Zt=t=>t.join("/").replace(/\/\/+/g,"/"),zx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Vx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vy=["POST","PUT","PATCH","DELETE"];new Set(vy);var Kx=["GET",...vy];new Set(Kx);var wo=g.createContext(null);wo.displayName="DataRouter";var Ga=g.createContext(null);Ga.displayName="DataRouterState";g.createContext(!1);var wy=g.createContext({isTransitioning:!1});wy.displayName="ViewTransition";var Hx=g.createContext(new Map);Hx.displayName="Fetchers";var qx=g.createContext(null);qx.displayName="Await";var Pt=g.createContext(null);Pt.displayName="Navigation";var Ns=g.createContext(null);Ns.displayName="Location";var jt=g.createContext({outlet:null,matches:[],isDataRoute:!1});jt.displayName="Route";var jd=g.createContext(null);jd.displayName="RouteError";function Gx(t,{relative:e}={}){le(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=g.useContext(Pt),{hash:o,pathname:s,search:i}=Ls(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:Zt([r,s])),n.createHref({pathname:a,search:i,hash:o})}function bo(){return g.useContext(Ns)!=null}function Wt(){return le(bo(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Ns).location}var by="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _y(t){g.useContext(Pt).static||g.useLayoutEffect(t)}function sr(){let{isDataRoute:t}=g.useContext(jt);return t?ak():Jx()}function Jx(){le(bo(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(wo),{basename:e,navigator:r}=g.useContext(Pt),{matches:n}=g.useContext(jt),{pathname:o}=Wt(),s=JSON.stringify(Cd(n)),i=g.useRef(!1);return _y(()=>{i.current=!0}),g.useCallback((l,c={})=>{if(pt(i.current,by),!i.current)return;if(typeof l=="number"){r.go(l);return}let u=Pd(l,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Zt([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,s,o,t])}g.createContext(null);function JO(){let{matches:t}=g.useContext(jt),e=t[t.length-1];return e?e.params:{}}function Ls(t,{relative:e}={}){let{matches:r}=g.useContext(jt),{pathname:n}=Wt(),o=JSON.stringify(Cd(r));return g.useMemo(()=>Pd(t,JSON.parse(o),n,e==="path"),[t,o,n,e])}function Yx(t,e){return xy(t,e)}function xy(t,e,r,n,o){var p;le(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=g.useContext(Pt),{matches:i}=g.useContext(jt),a=i[i.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let y=d&&d.path||"";ky(c,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=Wt(),h;if(e){let y=typeof e=="string"?vo(e):e;le(u==="/"||((p=y.pathname)==null?void 0:p.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),h=y}else h=f;let b=h.pathname||"/",v=b;if(u!=="/"){let y=u.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(y.length).join("/")}let _=my(t,{pathname:v});pt(d||_!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),pt(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=tk(_&&_.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Zt([u,s.encodeLocation?s.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Zt([u,s.encodeLocation?s.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),i,r,n,o);return e&&w?g.createElement(Ns.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},w):w}function Xx(){let t=ik(),e=Vx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",t),i=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:s},"ErrorBoundary")," or"," ",g.createElement("code",{style:s},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),r?g.createElement("pre",{style:o},r):null,i)}var Zx=g.createElement(Xx,null),Qx=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?g.createElement(jt.Provider,{value:this.props.routeContext},g.createElement(jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ek({routeContext:t,match:e,children:r}){let n=g.useContext(wo);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(jt.Provider,{value:t},r)}function tk(t,e=[],r=null,n=null,o=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,i=r==null?void 0:r.errors;if(i!=null){let c=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);le(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(r)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=r,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,d)=>{let f,h=!1,b=null,v=null;r&&(f=i&&u.route.id?i[u.route.id]:void 0,b=u.route.errorElement||Zx,a&&(l<0&&d===0?(ky("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,v=null):l===d&&(h=!0,v=u.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,d+1)),w=()=>{let p;return f?p=b:h?p=v:u.route.Component?p=g.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=c,g.createElement(ek,{match:u,routeContext:{outlet:c,matches:_,isDataRoute:r!=null},children:p})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?g.createElement(Qx,{location:r.location,revalidation:r.revalidation,component:b,error:f,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):w()},null)}function Od(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rk(t){let e=g.useContext(wo);return le(e,Od(t)),e}function nk(t){let e=g.useContext(Ga);return le(e,Od(t)),e}function ok(t){let e=g.useContext(jt);return le(e,Od(t)),e}function Rd(t){let e=ok(t),r=e.matches[e.matches.length-1];return le(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function sk(){return Rd("useRouteId")}function ik(){var n;let t=g.useContext(jd),e=nk("useRouteError"),r=Rd("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function ak(){let{router:t}=rk("useNavigate"),e=Rd("useNavigate"),r=g.useRef(!1);return _y(()=>{r.current=!0}),g.useCallback(async(o,s={})=>{pt(r.current,by),r.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...s}))},[t,e])}var Ah={};function ky(t,e,r){!e&&!Ah[t]&&(Ah[t]=!0,pt(!1,r))}g.memo(lk);function lk({routes:t,future:e,state:r,unstable_onError:n}){return xy(t,void 0,r,n,e)}function ru({to:t,replace:e,state:r,relative:n}){le(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=g.useContext(Pt);pt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=g.useContext(jt),{pathname:i}=Wt(),a=sr(),l=Pd(t,Cd(s),i,n==="path"),c=JSON.stringify(l);return g.useEffect(()=>{a(JSON.parse(c),{replace:e,state:r,relative:n})},[a,c,n,e,r]),null}function nu(t){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ck({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:o,static:s=!1}){le(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),a=g.useMemo(()=>({basename:i,navigator:o,static:s,future:{}}),[i,o,s]);typeof r=="string"&&(r=vo(r));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=r,h=g.useMemo(()=>{let b=nr(l,i);return b==null?null:{location:{pathname:b,search:c,hash:u,state:d,key:f},navigationType:n}},[i,l,c,u,d,f,n]);return pt(h!=null,`<Router basename="${i}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:g.createElement(Pt.Provider,{value:a},g.createElement(Ns.Provider,{children:e,value:h}))}function uk({children:t,location:e}){return Yx(ou(t),e)}function ou(t,e=[]){let r=[];return g.Children.forEach(t,(n,o)=>{if(!g.isValidElement(n))return;let s=[...e,o];if(n.type===g.Fragment){r.push.apply(r,ou(n.props.children,s));return}le(n.type===nu,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ou(n.props.children,s)),r.push(i)}),r}var Ui="get",Fi="application/x-www-form-urlencoded";function Ja(t){return t!=null&&typeof t.tagName=="string"}function dk(t){return Ja(t)&&t.tagName.toLowerCase()==="button"}function fk(t){return Ja(t)&&t.tagName.toLowerCase()==="form"}function hk(t){return Ja(t)&&t.tagName.toLowerCase()==="input"}function pk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mk(t,e){return t.button===0&&(!e||e==="_self")&&!pk(t)}function su(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function gk(t,e){let r=su(t);return e&&e.forEach((n,o)=>{r.has(o)||e.getAll(o).forEach(s=>{r.append(o,s)})}),r}var ii=null;function yk(){if(ii===null)try{new FormData(document.createElement("form"),0),ii=!1}catch{ii=!0}return ii}var vk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nl(t){return t!=null&&!vk.has(t)?(pt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fi}"`),null):t}function wk(t,e){let r,n,o,s,i;if(fk(t)){let a=t.getAttribute("action");n=a?nr(a,e):null,r=t.getAttribute("method")||Ui,o=Nl(t.getAttribute("enctype"))||Fi,s=new FormData(t)}else if(dk(t)||hk(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(n=l?nr(l,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||Ui,o=Nl(t.getAttribute("formenctype"))||Nl(a.getAttribute("enctype"))||Fi,s=new FormData(a,t),!yk()){let{name:c,type:u,value:d}=t;if(u==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,d)}}else{if(Ja(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ui,n=null,o=Fi,i=t}return s&&o==="text/plain"&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:o,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ad(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bk(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&nr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function _k(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kk(t,e,r){let n=await Promise.all(t.map(async o=>{let s=e.routes[o.route.id];if(s){let i=await _k(s,r);return i.links?i.links():[]}return[]}));return Ck(n.flat(1).filter(xk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ih(t,e,r,n,o,s){let i=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,a=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>i(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var d;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(i(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Sk(t,e,{includeHydrateFallback:r}={}){return Ek(t.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let s=[o.module];return o.clientActionModule&&(s=s.concat(o.clientActionModule)),o.clientLoaderModule&&(s=s.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(s=s.concat(o.hydrateFallbackModule)),o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function Ek(t){return[...new Set(t)]}function Tk(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Ck(t,e){let r=new Set;return new Set(e),t.reduce((n,o)=>{let s=JSON.stringify(Tk(o));return r.has(s)||(r.add(s),n.push({key:s,link:o})),n},[])}function Sy(){let t=g.useContext(wo);return Ad(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Pk(){let t=g.useContext(Ga);return Ad(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Id=g.createContext(void 0);Id.displayName="FrameworkContext";function Ey(){let t=g.useContext(Id);return Ad(t,"You must render this element inside a <HydratedRouter> element"),t}function jk(t,e){let r=g.useContext(Id),[n,o]=g.useState(!1),[s,i]=g.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,f=g.useRef(null);g.useEffect(()=>{if(t==="render"&&i(!0),t==="viewport"){let v=w=>{w.forEach(p=>{i(p.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return f.current&&_.observe(f.current),()=>{_.disconnect()}}},[t]),g.useEffect(()=>{if(n){let v=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(v)}}},[n]);let h=()=>{o(!0)},b=()=>{o(!1),i(!1)};return r?t!=="intent"?[s,f,{}]:[s,f,{onFocus:No(a,h),onBlur:No(l,b),onMouseEnter:No(c,h),onMouseLeave:No(u,b),onTouchStart:No(d,h)}]:[!1,f,{}]}function No(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Ok({page:t,...e}){let{router:r}=Sy(),n=g.useMemo(()=>my(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?g.createElement(Ak,{page:t,matches:n,...e}):null}function Rk(t){let{manifest:e,routeModules:r}=Ey(),[n,o]=g.useState([]);return g.useEffect(()=>{let s=!1;return kk(t,e,r).then(i=>{s||o(i)}),()=>{s=!0}},[t,e,r]),n}function Ak({page:t,matches:e,...r}){let n=Wt(),{manifest:o,routeModules:s}=Ey(),{basename:i}=Sy(),{loaderData:a,matches:l}=Pk(),c=g.useMemo(()=>Ih(t,e,l,o,n,"data"),[t,e,l,o,n]),u=g.useMemo(()=>Ih(t,e,l,o,n,"assets"),[t,e,l,o,n]),d=g.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let b=new Set,v=!1;if(e.forEach(w=>{var y;let p=o.routes[w.route.id];!p||!p.hasLoader||(!c.some(x=>x.route.id===w.route.id)&&w.route.id in a&&((y=s[w.route.id])!=null&&y.shouldRevalidate)||p.hasClientLoader?v=!0:b.add(w.route.id))}),b.size===0)return[];let _=bk(t,i,"data");return v&&b.size>0&&_.searchParams.set("_routes",e.filter(w=>b.has(w.route.id)).map(w=>w.route.id).join(",")),[_.pathname+_.search]},[i,a,n,o,c,e,t,s]),f=g.useMemo(()=>Sk(u,o),[u,o]),h=Rk(u);return g.createElement(g.Fragment,null,d.map(b=>g.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),f.map(b=>g.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),h.map(({key:b,link:v})=>g.createElement("link",{key:b,nonce:r.nonce,...v})))}function Ik(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Ty=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ty&&(window.__reactRouterVersion="7.9.5")}catch{}function Nh({basename:t,children:e,window:r}){let n=g.useRef();n.current==null&&(n.current=_x({window:r,v5Compat:!0}));let o=n.current,[s,i]=g.useState({action:o.action,location:o.location}),a=g.useCallback(l=>{g.startTransition(()=>i(l))},[i]);return g.useLayoutEffect(()=>o.listen(a),[o,a]),g.createElement(ck,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:o})}var Cy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pr=g.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:o,reloadDocument:s,replace:i,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...f},h){let{basename:b}=g.useContext(Pt),v=typeof c=="string"&&Cy.test(c),_,w=!1;if(typeof c=="string"&&v&&(_=c,Ty))try{let R=new URL(window.location.href),N=c.startsWith("//")?new URL(R.protocol+c):new URL(c),F=nr(N.pathname,b);N.origin===R.origin&&F!=null?c=F+N.search+N.hash:w=!0}catch{pt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=Gx(c,{relative:o}),[y,x,k]=jk(n,f),S=$k(c,{replace:i,state:a,target:l,preventScrollReset:u,relative:o,viewTransition:d});function E(R){e&&e(R),R.defaultPrevented||S(R)}let T=g.createElement("a",{...f,...k,href:_||p,onClick:w||s?e:E,ref:Ik(h,x),target:l,"data-discover":!v&&r==="render"?"true":void 0});return y&&!v?g.createElement(g.Fragment,null,T,g.createElement(Ok,{page:p})):T});Pr.displayName="Link";var Nk=g.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:o=!1,style:s,to:i,viewTransition:a,children:l,...c},u){let d=Ls(i,{relative:c.relative}),f=Wt(),h=g.useContext(Ga),{navigator:b,basename:v}=g.useContext(Pt),_=h!=null&&Wk(d)&&a===!0,w=b.encodeLocation?b.encodeLocation(d).pathname:d.pathname,p=f.pathname,y=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(p=p.toLowerCase(),y=y?y.toLowerCase():null,w=w.toLowerCase()),y&&v&&(y=nr(y,v)||y);const x=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let k=p===w||!o&&p.startsWith(w)&&p.charAt(x)==="/",S=y!=null&&(y===w||!o&&y.startsWith(w)&&y.charAt(w.length)==="/"),E={isActive:k,isPending:S,isTransitioning:_},T=k?e:void 0,R;typeof n=="function"?R=n(E):R=[n,k?"active":null,S?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(E):s;return g.createElement(Pr,{...c,"aria-current":T,className:R,ref:u,style:N,to:i,viewTransition:a},typeof l=="function"?l(E):l)});Nk.displayName="NavLink";var Lk=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:o,state:s,method:i=Ui,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},h)=>{let b=zk(),v=Bk(a,{relative:c}),_=i.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&Cy.test(a),p=y=>{if(l&&l(y),y.defaultPrevented)return;y.preventDefault();let x=y.nativeEvent.submitter,k=(x==null?void 0:x.getAttribute("formmethod"))||i;b(x||y.currentTarget,{fetcherKey:e,method:k,navigate:r,replace:o,state:s,relative:c,preventScrollReset:u,viewTransition:d})};return g.createElement("form",{ref:h,method:_,action:v,onSubmit:n?l:p,...f,"data-discover":!w&&t==="render"?"true":void 0})});Lk.displayName="Form";function Dk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Py(t){let e=g.useContext(wo);return le(e,Dk(t)),e}function $k(t,{target:e,replace:r,state:n,preventScrollReset:o,relative:s,viewTransition:i}={}){let a=sr(),l=Wt(),c=Ls(t,{relative:s});return g.useCallback(u=>{if(mk(u,e)){u.preventDefault();let d=r!==void 0?r:xs(l)===xs(c);a(t,{replace:d,state:n,preventScrollReset:o,relative:s,viewTransition:i})}},[l,a,c,r,n,e,t,o,s,i])}function Mk(t){pt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=g.useRef(su(t)),r=g.useRef(!1),n=Wt(),o=g.useMemo(()=>gk(n.search,r.current?null:e.current),[n.search]),s=sr(),i=g.useCallback((a,l)=>{const c=su(typeof a=="function"?a(new URLSearchParams(o)):a);r.current=!0,s("?"+c,l)},[s,o]);return[o,i]}var Uk=0,Fk=()=>`__${String(++Uk)}__`;function zk(){let{router:t}=Py("useSubmit"),{basename:e}=g.useContext(Pt),r=sk();return g.useCallback(async(n,o={})=>{let{action:s,method:i,encType:a,formData:l,body:c}=wk(n,e);if(o.navigate===!1){let u=o.fetcherKey||Fk();await t.fetch(u,r,o.action||s,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||i,formEncType:o.encType||a,flushSync:o.flushSync})}else await t.navigate(o.action||s,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||i,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,r])}function Bk(t,{relative:e}={}){let{basename:r}=g.useContext(Pt),n=g.useContext(jt);le(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),s={...Ls(t||".",{relative:e})},i=Wt();if(t==null){s.search=i.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Zt([r,s.pathname])),xs(s)}function Wk(t,{relative:e}={}){let r=g.useContext(wy);le(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Py("useViewTransitionState"),o=Ls(t,{relative:e});if(!r.isTransitioning)return!1;let s=nr(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=nr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return va(o.pathname,i)!=null||va(o.pathname,s)!=null}var iu=function(t,e){return iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},iu(t,e)};function Vk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ee=function(){return Ee=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ee.apply(this,arguments)};function Lh(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function $r(t,e,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):o(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function Mr(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],o=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Kk(t,e,r){for(var n=0,o=e.length,s;n<o;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Dt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}var qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ld(t,e){return t(e={exports:{}},e.exports),e.exports}var Kr=Ld(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(){var o=this;this.locked=new Map,this.addToLocked=function(s,i){var a=o.locked.get(s);a===void 0?i===void 0?o.locked.set(s,[]):o.locked.set(s,[i]):i!==void 0&&(a.unshift(i),o.locked.set(s,a))},this.isLocked=function(s){return o.locked.has(s)},this.lock=function(s){return new Promise(function(i,a){o.isLocked(s)?o.addToLocked(s,i):(o.addToLocked(s),i())})},this.unlock=function(s){var i=o.locked.get(s);if(i!==void 0&&i.length!==0){var a=i.pop();o.locked.set(s,i),a!==void 0&&setTimeout(a,0)}else o.locked.delete(s)}}return n.getInstance=function(){return n.instance===void 0&&(n.instance=new n),n.instance},n}();e.default=function(){return r.getInstance()}});Nd(Kr);var Hk=Nd(Ld(function(t,e){var r=qr&&qr.__awaiter||function(u,d,f,h){return new(f||(f=Promise))(function(b,v){function _(y){try{p(h.next(y))}catch(x){v(x)}}function w(y){try{p(h.throw(y))}catch(x){v(x)}}function p(y){y.done?b(y.value):new f(function(x){x(y.value)}).then(_,w)}p((h=h.apply(u,d||[])).next())})},n=qr&&qr.__generator||function(u,d){var f,h,b,v,_={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return v={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function w(p){return function(y){return function(x){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,h&&(b=2&x[0]?h.return:x[0]?h.throw||((b=h.return)&&b.call(h),0):h.next)&&!(b=b.call(h,x[1])).done)return b;switch(h=0,b&&(x=[2&x[0],b.value]),x[0]){case 0:case 1:b=x;break;case 4:return _.label++,{value:x[1],done:!1};case 5:_.label++,h=x[1],x=[0];continue;case 7:x=_.ops.pop(),_.trys.pop();continue;default:if(b=_.trys,!((b=b.length>0&&b[b.length-1])||x[0]!==6&&x[0]!==2)){_=0;continue}if(x[0]===3&&(!b||x[1]>b[0]&&x[1]<b[3])){_.label=x[1];break}if(x[0]===6&&_.label<b[1]){_.label=b[1],b=x;break}if(b&&_.label<b[2]){_.label=b[2],_.ops.push(x);break}b[2]&&_.ops.pop(),_.trys.pop();continue}x=d.call(u,_)}catch(k){x=[6,k],h=0}finally{f=b=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([p,y])}}},o=qr;Object.defineProperty(e,"__esModule",{value:!0});var s="browser-tabs-lock-key",i={key:function(u){return r(o,void 0,void 0,function(){return n(this,function(d){throw new Error("Unsupported")})})},getItem:function(u){return r(o,void 0,void 0,function(){return n(this,function(d){throw new Error("Unsupported")})})},clear:function(){return r(o,void 0,void 0,function(){return n(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return r(o,void 0,void 0,function(){return n(this,function(d){throw new Error("Unsupported")})})},setItem:function(u,d){return r(o,void 0,void 0,function(){return n(this,function(f){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,d){return window.localStorage.setItem(u,d)}};function a(u){return new Promise(function(d){return setTimeout(d,u)})}function l(u){for(var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",f="",h=0;h<u;h++)f+=d[Math.floor(Math.random()*d.length)];return f}var c=function(){function u(d){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=d,u.waiters===void 0&&(u.waiters=[])}return u.prototype.acquireLock=function(d,f){return f===void 0&&(f=5e3),r(this,void 0,void 0,function(){var h,b,v,_,w,p,y;return n(this,function(x){switch(x.label){case 0:h=Date.now()+l(4),b=Date.now()+f,v=s+"-"+d,_=this.storageHandler===void 0?i:this.storageHandler,x.label=1;case 1:return Date.now()<b?[4,a(30)]:[3,8];case 2:return x.sent(),_.getItemSync(v)!==null?[3,5]:(w=this.id+"-"+d+"-"+h,[4,a(Math.floor(25*Math.random()))]);case 3:return x.sent(),_.setItemSync(v,JSON.stringify({id:this.id,iat:h,timeoutKey:w,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return x.sent(),(p=_.getItemSync(v))!==null&&(y=JSON.parse(p)).id===this.id&&y.iat===h?(this.acquiredIatSet.add(h),this.refreshLockWhileAcquired(v,h),[2,!0]):[3,7];case 5:return u.lockCorrector(this.storageHandler===void 0?i:this.storageHandler),[4,this.waitForSomethingToChange(b)];case 6:x.sent(),x.label=7;case 7:return h=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(d,f){return r(this,void 0,void 0,function(){var h=this;return n(this,function(b){return setTimeout(function(){return r(h,void 0,void 0,function(){var v,_,w;return n(this,function(p){switch(p.label){case 0:return[4,Kr.default().lock(f)];case 1:return p.sent(),this.acquiredIatSet.has(f)?(v=this.storageHandler===void 0?i:this.storageHandler,(_=v.getItemSync(d))===null?(Kr.default().unlock(f),[2]):((w=JSON.parse(_)).timeRefreshed=Date.now(),v.setItemSync(d,JSON.stringify(w)),Kr.default().unlock(f),this.refreshLockWhileAcquired(d,f),[2])):(Kr.default().unlock(f),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(d){return r(this,void 0,void 0,function(){return n(this,function(f){switch(f.label){case 0:return[4,new Promise(function(h){var b=!1,v=Date.now(),_=!1;function w(){if(_||(window.removeEventListener("storage",w),u.removeFromWaiting(w),clearTimeout(p),_=!0),!b){b=!0;var y=50-(Date.now()-v);y>0?setTimeout(h,y):h(null)}}window.addEventListener("storage",w),u.addToWaiting(w);var p=setTimeout(w,Math.max(0,d-Date.now()))})];case 1:return f.sent(),[2]}})})},u.addToWaiting=function(d){this.removeFromWaiting(d),u.waiters!==void 0&&u.waiters.push(d)},u.removeFromWaiting=function(d){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(f){return f!==d}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(d){return d()})},u.prototype.releaseLock=function(d){return r(this,void 0,void 0,function(){return n(this,function(f){switch(f.label){case 0:return[4,this.releaseLock__private__(d)];case 1:return[2,f.sent()]}})})},u.prototype.releaseLock__private__=function(d){return r(this,void 0,void 0,function(){var f,h,b,v;return n(this,function(_){switch(_.label){case 0:return f=this.storageHandler===void 0?i:this.storageHandler,h=s+"-"+d,(b=f.getItemSync(h))===null?[2]:(v=JSON.parse(b)).id!==this.id?[3,2]:[4,Kr.default().lock(v.iat)];case 1:_.sent(),this.acquiredIatSet.delete(v.iat),f.removeItemSync(h),Kr.default().unlock(v.iat),u.notifyWaiters(),_.label=2;case 2:return[2]}})})},u.lockCorrector=function(d){for(var f=Date.now()-5e3,h=d,b=[],v=0;;){var _=h.keySync(v);if(_===null)break;b.push(_),v++}for(var w=!1,p=0;p<b.length;p++){var y=b[p];if(y.includes(s)){var x=h.getItemSync(y);if(x!==null){var k=JSON.parse(x);(k.timeRefreshed===void 0&&k.timeAcquired<f||k.timeRefreshed!==void 0&&k.timeRefreshed<f)&&(h.removeItemSync(y),w=!0)}}}w&&u.notifyWaiters()},u.waiters=void 0,u}();e.default=c}));const qk={timeoutInSeconds:60},jy={name:"auth0-spa-js",version:"2.11.0"},Oy=()=>Date.now();class ge extends Error{constructor(e,r){super(r),this.error=e,this.error_description=r,Object.setPrototypeOf(this,ge.prototype)}static fromPayload({error:e,error_description:r}){return new ge(e,r)}}class Dd extends ge{constructor(e,r,n,o=null){super(e,r),this.state=n,this.appState=o,Object.setPrototypeOf(this,Dd.prototype)}}class $d extends ge{constructor(e,r,n,o,s=null){super(e,r),this.connection=n,this.state=o,this.appState=s,Object.setPrototypeOf(this,$d.prototype)}}class ks extends ge{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,ks.prototype)}}class Md extends ks{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,Md.prototype)}}class Ud extends ge{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,Ud.prototype)}}class Fd extends ge{constructor(){super("popup_open","Unable to open a popup for loginWithPopup - window.open returned `null`"),Object.setPrototypeOf(this,Fd.prototype)}}class zd extends ge{constructor(e,r,n){super(e,r),this.mfa_token=n,Object.setPrototypeOf(this,zd.prototype)}}class Ya extends ge{constructor(e,r){super("missing_refresh_token",`Missing Refresh Token (audience: '${wa(e,["default"])}', scope: '${wa(r)}')`),this.audience=e,this.scope=r,Object.setPrototypeOf(this,Ya.prototype)}}class Bd extends ge{constructor(e,r){super("missing_scopes",`Missing requested scopes after refresh (audience: '${wa(e,["default"])}', missing scope: '${wa(r)}')`),this.audience=e,this.scope=r,Object.setPrototypeOf(this,Bd.prototype)}}class Xa extends ge{constructor(e){super("use_dpop_nonce","Server rejected DPoP proof: wrong nonce"),this.newDpopNonce=e,Object.setPrototypeOf(this,Xa.prototype)}}function wa(t,e=[]){return t&&!e.includes(t)?t:""}const ba=()=>window.crypto,Lo=()=>{const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(ba().getRandomValues(new Uint8Array(43))).forEach(r=>e+=t[r%t.length]),e},Ll=t=>btoa(t),Gk=[{key:"name",type:["string"]},{key:"version",type:["string","number"]},{key:"env",type:["object"]}],Jk=t=>Object.keys(t).reduce((e,r)=>{const n=Gk.find(o=>o.key===r);return n&&n.type.includes(typeof t[r])&&(e[r]=t[r]),e},{}),au=t=>{var{clientId:e}=t,r=Dt(t,["clientId"]);return new URLSearchParams((n=>Object.keys(n).filter(o=>n[o]!==void 0).reduce((o,s)=>Object.assign(Object.assign({},o),{[s]:n[s]}),{}))(Object.assign({client_id:e},r))).toString()},Dh=async t=>await ba().subtle.digest({name:"SHA-256"},new TextEncoder().encode(t)),$h=t=>(e=>decodeURIComponent(atob(e).split("").map(r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join("")))(t.replace(/_/g,"/").replace(/-/g,"+")),Mh=t=>{const e=new Uint8Array(t);return(r=>{const n={"+":"-","/":"_","=":""};return r.replace(/[+/=]/g,o=>n[o])})(window.btoa(String.fromCharCode(...Array.from(e))))},Yk=new TextEncoder,Xk=new TextDecoder;function Zo(t){return typeof t=="string"?Yk.encode(t):Xk.decode(t)}function Uh(t){if(typeof t.modulusLength!="number"||t.modulusLength<2048)throw new Qk(`${t.name} modulusLength must be at least 2048 bits`)}async function Zk(t,e,r){if(r.usages.includes("sign")===!1)throw new TypeError('private CryptoKey instances used for signing assertions must include "sign" in their "usages"');const n=`${Qo(Zo(JSON.stringify(t)))}.${Qo(Zo(JSON.stringify(e)))}`;return`${n}.${Qo(await crypto.subtle.sign(function(o){switch(o.algorithm.name){case"ECDSA":return{name:o.algorithm.name,hash:"SHA-256"};case"RSA-PSS":return Uh(o.algorithm),{name:o.algorithm.name,saltLength:32};case"RSASSA-PKCS1-v1_5":return Uh(o.algorithm),{name:o.algorithm.name};case"Ed25519":return{name:o.algorithm.name}}throw new Qr}(r),r,Zo(n)))}`}let lu;Uint8Array.prototype.toBase64?lu=t=>(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t.toBase64({alphabet:"base64url",omitPadding:!0})):lu=e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));const r=[];for(let n=0;n<e.byteLength;n+=32768)r.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return btoa(r.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};function Qo(t){return lu(t)}class Qr extends Error{constructor(e){var r;super(e??"operation not supported"),this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class Qk extends Error{constructor(e){var r;super(e),this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}function eS(t){switch(t.algorithm.name){case"RSA-PSS":return function(e){if(e.algorithm.hash.name==="SHA-256")return"PS256";throw new Qr("unsupported RsaHashedKeyAlgorithm hash name")}(t);case"RSASSA-PKCS1-v1_5":return function(e){if(e.algorithm.hash.name==="SHA-256")return"RS256";throw new Qr("unsupported RsaHashedKeyAlgorithm hash name")}(t);case"ECDSA":return function(e){if(e.algorithm.namedCurve==="P-256")return"ES256";throw new Qr("unsupported EcKeyAlgorithm namedCurve")}(t);case"Ed25519":return"Ed25519";default:throw new Qr("unsupported CryptoKey algorithm name")}}function Ry(t){return t instanceof CryptoKey}function Ay(t){return Ry(t)&&t.type==="public"}async function tS(t,e,r,n,o,s){const i=t==null?void 0:t.privateKey,a=t==null?void 0:t.publicKey;if(!Ry(l=i)||l.type!=="private")throw new TypeError('"keypair.privateKey" must be a private CryptoKey');var l;if(!Ay(a))throw new TypeError('"keypair.publicKey" must be a public CryptoKey');if(a.extractable!==!0)throw new TypeError('"keypair.publicKey.extractable" must be true');if(typeof e!="string")throw new TypeError('"htu" must be a string');if(typeof r!="string")throw new TypeError('"htm" must be a string');if(n!==void 0&&typeof n!="string")throw new TypeError('"nonce" must be a string or undefined');if(o!==void 0&&typeof o!="string")throw new TypeError('"accessToken" must be a string or undefined');return Zk({alg:eS(i),typ:"dpop+jwt",jwk:await Iy(a)},Object.assign(Object.assign({},s),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:r,nonce:n,htu:e,ath:o?Qo(await crypto.subtle.digest("SHA-256",Zo(o))):void 0}),i)}async function Iy(t){const{kty:e,e:r,n,x:o,y:s,crv:i}=await crypto.subtle.exportKey("jwk",t);return{kty:e,crv:i,e:r,n,x:o,y:s}}const rS=["authorization_code","refresh_token","urn:ietf:params:oauth:grant-type:token-exchange"];function nS(){return async function(t,e){var r;let n;if(t.length===0)throw new TypeError('"alg" must be a non-empty string');switch(t){case"PS256":n={name:"RSA-PSS",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"RS256":n={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"};break;case"Ed25519":n={name:"Ed25519"};break;default:throw new Qr}return crypto.subtle.generateKey(n,(r=e==null?void 0:e.extractable)!==null&&r!==void 0&&r,["sign","verify"])}("ES256",{extractable:!1})}function oS(t){return async function(e){if(!Ay(e))throw new TypeError('"publicKey" must be a public CryptoKey');if(e.extractable!==!0)throw new TypeError('"publicKey.extractable" must be true');const r=await Iy(e);let n;switch(r.kty){case"EC":n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":n={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":n={e:r.e,kty:r.kty,n:r.n};break;default:throw new Qr("unsupported JWK kty")}return Qo(await crypto.subtle.digest({name:"SHA-256"},Zo(JSON.stringify(n))))}(t.publicKey)}function sS({keyPair:t,url:e,method:r,nonce:n,accessToken:o}){const s=function(i){const a=new URL(i);return a.search="",a.hash="",a.href}(e);return tS(t,s,r,n,o)}const iS=async(t,e)=>{const r=await fetch(t,e);return{ok:r.ok,json:await r.json(),headers:(n=r.headers,[...n].reduce((o,[s,i])=>(o[s]=i,o),{}))};var n},aS=async(t,e,r)=>{const n=new AbortController;let o;return e.signal=n.signal,Promise.race([iS(t,e),new Promise((s,i)=>{o=setTimeout(()=>{n.abort(),i(new Error("Timeout when executing 'fetch'"))},r)})]).finally(()=>{clearTimeout(o)})},lS=async(t,e,r,n,o,s,i,a)=>{return l={auth:{audience:e,scope:r},timeout:o,fetchUrl:t,fetchOptions:n,useFormData:i,useMrrt:a},c=s,new Promise(function(u,d){const f=new MessageChannel;f.port1.onmessage=function(h){h.data.error?d(new Error(h.data.error)):u(h.data),f.port1.close()},c.postMessage(l,[f.port2])});var l,c},cS=async(t,e,r,n,o,s,i=1e4,a)=>o?lS(t,e,r,n,i,o,s,a):aS(t,n,i);async function Ny(t,e,r,n,o,s,i,a,l,c){if(l){const y=await l.generateProof({url:t,method:o.method||"GET",nonce:await l.getNonce()});o.headers=Object.assign(Object.assign({},o.headers),{dpop:y})}let u,d=null;for(let y=0;y<3;y++)try{u=await cS(t,r,n,o,s,i,e,a),d=null;break}catch(x){d=x}if(d)throw d;const f=u.json,{error:h,error_description:b}=f,v=Dt(f,["error","error_description"]),{headers:_,ok:w}=u;let p;if(l&&(p=_["dpop-nonce"],p&&await l.setNonce(p)),!w){const y=b||`HTTP error. Unable to fetch ${t}`;if(h==="mfa_required")throw new zd(h,y,v.mfa_token);if(h==="missing_refresh_token")throw new Ya(r,n);if(h==="use_dpop_nonce"){if(!l||!p||c)throw new Xa(p);return Ny(t,e,r,n,o,s,i,a,l,!0)}throw new ge(h||"request_error",y)}return v}async function uS(t,e){var{baseUrl:r,timeout:n,audience:o,scope:s,auth0Client:i,useFormData:a,useMrrt:l,dpop:c}=t,u=Dt(t,["baseUrl","timeout","audience","scope","auth0Client","useFormData","useMrrt","dpop"]);const d=u.grant_type==="urn:ietf:params:oauth:grant-type:token-exchange",f=u.grant_type==="refresh_token"&&l,h=Object.assign(Object.assign(Object.assign(Object.assign({},u),d&&o&&{audience:o}),d&&s&&{scope:s}),f&&{audience:o,scope:s}),b=a?au(h):JSON.stringify(h),v=(_=u.grant_type,rS.includes(_));var _;return await Ny(`${r}/oauth/token`,n,o||"default",s,{method:"POST",body:b,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(Jk(i||jy)))}},e,a,l,v?c:void 0)}const zi=(...t)=>{return(e=t.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e},ai=(t,e,r)=>{let n;return r&&(n=t[r]),n||(n=t.default),zi(n,e)};class lt{constructor(e,r="@@auth0spajs@@",n){this.prefix=r,this.suffix=n,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[r,n,o,s]=e.split("::");return new lt({clientId:n,scope:s,audience:o},r)}static fromCacheEntry(e){const{scope:r,audience:n,client_id:o}=e;return new lt({scope:r,audience:n,clientId:o})}}class dS{set(e,r){localStorage.setItem(e,JSON.stringify(r))}get(e){const r=window.localStorage.getItem(e);if(r)try{return JSON.parse(r)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}}class Ly{constructor(){this.enclosedCache=function(){let e={};return{set(r,n){e[r]=n},get(r){const n=e[r];if(n)return n},remove(r){delete e[r]},allKeys:()=>Object.keys(e)}}()}}class fS{constructor(e,r,n){this.cache=e,this.keyManifest=r,this.nowProvider=n||Oy}async setIdToken(e,r,n){var o;const s=this.getIdTokenCacheKey(e);await this.cache.set(s,{id_token:r,decodedToken:n}),await((o=this.keyManifest)===null||o===void 0?void 0:o.add(s))}async getIdToken(e){const r=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!r&&e.scope&&e.audience){const n=await this.get(e);return!n||!n.id_token||!n.decodedToken?void 0:{id_token:n.id_token,decodedToken:n.decodedToken}}if(r)return{id_token:r.id_token,decodedToken:r.decodedToken}}async get(e,r=0,n=!1,o){var s;let i=await this.cache.get(e.toKey());if(!i){const c=await this.getCacheKeys();if(!c)return;const u=this.matchExistingCacheKey(e,c);if(u&&(i=await this.cache.get(u)),!u&&n&&o!=="cache-only")return this.getEntryWithRefreshToken(e,c)}if(!i)return;const a=await this.nowProvider(),l=Math.floor(a/1e3);return i.expiresAt-r<l?i.body.refresh_token?this.modifiedCachedEntry(i,e):(await this.cache.remove(e.toKey()),void await((s=this.keyManifest)===null||s===void 0?void 0:s.remove(e.toKey()))):i.body}async modifiedCachedEntry(e,r){return e.body={refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope},await this.cache.set(r.toKey(),e),{refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope}}async set(e){var r;const n=new lt({clientId:e.client_id,scope:e.scope,audience:e.audience}),o=await this.wrapCacheEntry(e);await this.cache.set(n.toKey(),o),await((r=this.keyManifest)===null||r===void 0?void 0:r.add(n.toKey()))}async remove(e,r,n){const o=new lt({clientId:e,scope:n,audience:r});await this.cache.remove(o.toKey())}async clear(e){var r;const n=await this.getCacheKeys();n&&(await n.filter(o=>!e||o.includes(e)).reduce(async(o,s)=>{await o,await this.cache.remove(s)},Promise.resolve()),await((r=this.keyManifest)===null||r===void 0?void 0:r.clear()))}async wrapCacheEntry(e){const r=await this.nowProvider();return{body:e,expiresAt:Math.floor(r/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new lt({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,r){return r.filter(n=>{var o;const s=lt.fromKey(n),i=new Set(s.scope&&s.scope.split(" ")),a=((o=e.scope)===null||o===void 0?void 0:o.split(" "))||[],l=s.scope&&a.reduce((c,u)=>c&&i.has(u),!0);return s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId&&s.audience===e.audience&&l})[0]}async getEntryWithRefreshToken(e,r){var n;for(const o of r){const s=lt.fromKey(o);if(s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId){const i=await this.cache.get(o);if(!((n=i==null?void 0:i.body)===null||n===void 0)&&n.refresh_token)return this.modifiedCachedEntry(i,e)}}}async updateEntry(e,r){var n;const o=await this.getCacheKeys();if(o)for(const s of o){const i=await this.cache.get(s);if(((n=i==null?void 0:i.body)===null||n===void 0?void 0:n.refresh_token)===e){const a=Object.assign(Object.assign({},i.body),{refresh_token:r});await this.set(a)}}}}class hS{constructor(e,r,n){this.storage=e,this.clientId=r,this.cookieDomain=n,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const Do=t=>typeof t=="number",pS=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],mS=t=>{if(!t.id_token)throw new Error("ID token is required but missing");const e=(s=>{const i=s.split("."),[a,l,c]=i;if(i.length!==3||!a||!l||!c)throw new Error("ID token could not be decoded");const u=JSON.parse($h(l)),d={__raw:s},f={};return Object.keys(u).forEach(h=>{d[h]=u[h],pS.includes(h)||(f[h]=u[h])}),{encoded:{header:a,payload:l,signature:c},header:JSON.parse($h(a)),claims:d,user:f}})(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${t.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${t.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==t.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but found "${e.claims.aud}"`);if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${t.nonce}", found "${e.claims.nonce}"`)}if(t.max_age&&!Do(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!Do(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Do(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const r=t.leeway||60,n=new Date(t.now||Date.now()),o=new Date(0);if(o.setUTCSeconds(e.claims.exp+r),n>o)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${n}) is after expiration time (${o})`);if(e.claims.nbf!=null&&Do(e.claims.nbf)){const s=new Date(0);if(s.setUTCSeconds(e.claims.nbf-r),n<s)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${n}) is before ${s}`)}if(e.claims.auth_time!=null&&Do(e.claims.auth_time)){const s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+r),n>s)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${n}) is after last auth at ${s}`)}if(t.organization){const s=t.organization.trim();if(s.startsWith("org_")){const i=s;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(i!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${i}", found "${e.claims.org_id}"`)}else{const i=s.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(i!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${i}", found "${e.claims.org_name}"`)}}return e};var en=Ld(function(t,e){var r=qr&&qr.__assign||function(){return r=Object.assign||function(l){for(var c,u=1,d=arguments.length;u<d;u++)for(var f in c=arguments[u])Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f]);return l},r.apply(this,arguments)};function n(l,c){if(!c)return"";var u="; "+l;return c===!0?u:u+"="+c}function o(l,c,u){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(c).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(d){if(typeof d.expires=="number"){var f=new Date;f.setMilliseconds(f.getMilliseconds()+864e5*d.expires),d.expires=f}return n("Expires",d.expires?d.expires.toUTCString():"")+n("Domain",d.domain)+n("Path",d.path)+n("Secure",d.secure)+n("SameSite",d.sameSite)}(u)}function s(l){for(var c={},u=l?l.split("; "):[],d=/(%[\dA-F]{2})+/gi,f=0;f<u.length;f++){var h=u[f].split("="),b=h.slice(1).join("=");b.charAt(0)==='"'&&(b=b.slice(1,-1));try{c[h[0].replace(d,decodeURIComponent)]=b.replace(d,decodeURIComponent)}catch{}}return c}function i(){return s(document.cookie)}function a(l,c,u){document.cookie=o(l,c,r({path:"/"},u))}e.__esModule=!0,e.encode=o,e.parse=s,e.getAll=i,e.get=function(l){return i()[l]},e.set=a,e.remove=function(l,c){a(l,"",r(r({},c),{expires:-1}))}});Nd(en),en.encode,en.parse,en.getAll;var gS=en.get,Dy=en.set,$y=en.remove;const jn={get(t){const e=gS(t);if(e!==void 0)return JSON.parse(e)},save(t,e,r){let n={};window.location.protocol==="https:"&&(n={secure:!0,sameSite:"none"}),r!=null&&r.daysUntilExpire&&(n.expires=r.daysUntilExpire),r!=null&&r.cookieDomain&&(n.domain=r.cookieDomain),Dy(t,JSON.stringify(e),n)},remove(t,e){let r={};e!=null&&e.cookieDomain&&(r.domain=e.cookieDomain),$y(t,r)}},yS={get(t){return jn.get(t)||jn.get(`_legacy_${t}`)},save(t,e,r){let n={};window.location.protocol==="https:"&&(n={secure:!0}),r!=null&&r.daysUntilExpire&&(n.expires=r.daysUntilExpire),r!=null&&r.cookieDomain&&(n.domain=r.cookieDomain),Dy(`_legacy_${t}`,JSON.stringify(e),n),jn.save(t,e,r)},remove(t,e){let r={};e!=null&&e.cookieDomain&&(r.domain=e.cookieDomain),$y(t,r),jn.remove(t,e),jn.remove(`_legacy_${t}`,e)}},vS={get(t){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(t);return e!=null?JSON.parse(e):void 0},save(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove(t){sessionStorage.removeItem(t)}};var gr;(function(t){t.Code="code",t.ConnectCode="connect_code"})(gr||(gr={}));function wS(t,e,r){var n=e===void 0?null:e,o=function(l,c){var u=atob(l);if(c){for(var d=new Uint8Array(u.length),f=0,h=u.length;f<h;++f)d[f]=u.charCodeAt(f);return String.fromCharCode.apply(null,new Uint16Array(d.buffer))}return u}(t,r!==void 0&&r),s=o.indexOf(`
`,10)+1,i=o.substring(s)+(n?"//# sourceMappingURL="+n:""),a=new Blob([i],{type:"application/javascript"});return URL.createObjectURL(a)}var Fh,zh,Bh,Dl,bS=(Fh="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YSx1c2VNcnJ0OmZ9LHBvcnRzOltwXX0pPT57bGV0IGgsdSxsPXt9O2NvbnN0e2F1ZGllbmNlOmQsc2NvcGU6eX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2lmKHU9KChlLHQpPT5vW24oZSx0KV0pKGQseSksIXUmJmYpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKGAke2V9fGApKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxkKTtlJiYhdCYmKHU9ZSl9aWYoIXUpdGhyb3cgbmV3IHQoZCx5KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpfWxldCBqLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGo9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1qLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoXz1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsXykpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHAucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBqJiZqLmFib3J0KCksdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO2c9ay5oZWFkZXJzLGw9Wy4uLmddLnJlZHVjZSgoKGUsW3Qscl0pPT4oZVt0XT1yLGUpKSx7fSksaD1hd2FpdCBrLmpzb24oKSxoLnJlZnJlc2hfdG9rZW4/KGYmJihvLmxhdGVzdF9yZWZyZXNoX3Rva2VuPWgucmVmcmVzaF90b2tlbixPPXUsYj1oLnJlZnJlc2hfdG9rZW4sT2JqZWN0LmVudHJpZXMobykuZm9yRWFjaCgoKFtlLHRdKT0+e3Q9PT1PJiYob1tlXT1iKX0pKSksKChlLHQscik9PntvW24odCxyKV09ZX0pKGgucmVmcmVzaF90b2tlbixkLHkpLGRlbGV0ZSBoLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KShkLHkpLHAucG9zdE1lc3NhZ2Uoe29rOmsub2ssanNvbjpoLGhlYWRlcnM6bH0pfWNhdGNoKGUpe3AucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yOmUuZXJyb3IsZXJyb3JfZGVzY3JpcHRpb246ZS5tZXNzYWdlfSxoZWFkZXJzOmx9KX12YXIgTyxiLGcsX30pKX0oKTsKCg==",zh=null,Bh=!1,function(t){return Dl=Dl||wS(Fh,zh,Bh),new Worker(Dl,t)});const $l={};class _S{constructor(e,r){this.cache=e,this.clientId=r,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var r;const n=new Set(((r=await this.cache.get(this.manifestKey))===null||r===void 0?void 0:r.keys)||[]);n.add(e),await this.cache.set(this.manifestKey,{keys:[...n]})}async remove(e){const r=await this.cache.get(this.manifestKey);if(r){const n=new Set(r.keys);return n.delete(e),n.size>0?await this.cache.set(this.manifestKey,{keys:[...n]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const xS={memory:()=>new Ly().enclosedCache,localstorage:()=>new dS},Wh=t=>xS[t],Vh=t=>{const{openUrl:e,onRedirect:r}=t,n=Dt(t,["openUrl","onRedirect"]);return Object.assign(Object.assign({},n),{openUrl:e===!1||e?e:r})},Kh=(t,e)=>{const r=(e==null?void 0:e.split(" "))||[];return((t==null?void 0:t.split(" "))||[]).every(n=>r.includes(n))},Ur={NONCE:"nonce",KEYPAIR:"keypair"};class kS{constructor(e){this.clientId=e}getVersion(){return 1}createDbHandle(){const e=window.indexedDB.open("auth0-spa-js",this.getVersion());return new Promise((r,n)=>{e.onupgradeneeded=()=>Object.values(Ur).forEach(o=>e.result.createObjectStore(o)),e.onerror=()=>n(e.error),e.onsuccess=()=>r(e.result)})}async getDbHandle(){return this.dbHandle||(this.dbHandle=await this.createDbHandle()),this.dbHandle}async executeDbRequest(e,r,n){const o=n((await this.getDbHandle()).transaction(e,r).objectStore(e));return new Promise((s,i)=>{o.onsuccess=()=>s(o.result),o.onerror=()=>i(o.error)})}buildKey(e){const r=e?`_${e}`:"auth0";return`${this.clientId}::${r}`}setNonce(e,r){return this.save(Ur.NONCE,this.buildKey(r),e)}setKeyPair(e){return this.save(Ur.KEYPAIR,this.buildKey(),e)}async save(e,r,n){await this.executeDbRequest(e,"readwrite",o=>o.put(n,r))}findNonce(e){return this.find(Ur.NONCE,this.buildKey(e))}findKeyPair(){return this.find(Ur.KEYPAIR,this.buildKey())}find(e,r){return this.executeDbRequest(e,"readonly",n=>n.get(r))}async deleteBy(e,r){const n=await this.executeDbRequest(e,"readonly",o=>o.getAllKeys());n==null||n.filter(r).map(o=>this.executeDbRequest(e,"readwrite",s=>s.delete(o)))}deleteByClientId(e,r){return this.deleteBy(e,n=>typeof n=="string"&&n.startsWith(`${r}::`))}clearNonces(){return this.deleteByClientId(Ur.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(Ur.KEYPAIR,this.clientId)}}class SS{constructor(e){this.storage=new kS(e)}getNonce(e){return this.storage.findNonce(e)}setNonce(e,r){return this.storage.setNonce(e,r)}async getOrGenerateKeyPair(){let e=await this.storage.findKeyPair();return e||(e=await nS(),await this.storage.setKeyPair(e)),e}async generateProof(e){const r=await this.getOrGenerateKeyPair();return sS(Object.assign({keyPair:r},e))}async calculateThumbprint(){return oS(await this.getOrGenerateKeyPair())}async clear(){await Promise.all([this.storage.clearNonces(),this.storage.clearKeyPairs()])}}var Kn;(function(t){t.Bearer="Bearer",t.DPoP="DPoP"})(Kn||(Kn={}));class ES{constructor(e,r){this.hooks=r,this.config=Object.assign(Object.assign({},e),{fetch:e.fetch||(typeof window>"u"?fetch:window.fetch.bind(window))})}isAbsoluteUrl(e){return/^(https?:)?\/\//i.test(e)}buildUrl(e,r){if(r){if(this.isAbsoluteUrl(r))return r;if(e)return`${e.replace(/\/?\/$/,"")}/${r.replace(/^\/+/,"")}`}throw new TypeError("`url` must be absolute or `baseUrl` non-empty.")}getAccessToken(e){return this.config.getAccessToken?this.config.getAccessToken(e):this.hooks.getAccessToken(e)}extractUrl(e){return typeof e=="string"?e:e instanceof URL?e.href:e.url}buildBaseRequest(e,r){if(!this.config.baseUrl)return new Request(e,r);const n=this.buildUrl(this.config.baseUrl,this.extractUrl(e)),o=e instanceof Request?new Request(n,e):n;return new Request(o,r)}setAuthorizationHeader(e,r,n=Kn.Bearer){e.headers.set("authorization",`${n} ${r}`)}async setDpopProofHeader(e,r){if(!this.config.dpopNonceId)return;const n=await this.hooks.getDpopNonce(),o=await this.hooks.generateDpopProof({accessToken:r,method:e.method,nonce:n,url:e.url});e.headers.set("dpop",o)}async prepareRequest(e,r){const n=await this.getAccessToken(r);let o,s;typeof n=="string"?(o=this.config.dpopNonceId?Kn.DPoP:Kn.Bearer,s=n):(o=n.token_type,s=n.access_token),this.setAuthorizationHeader(e,s,o),o===Kn.DPoP&&await this.setDpopProofHeader(e,s)}getHeader(e,r){return Array.isArray(e)?new Headers(e).get(r)||"":typeof e.get=="function"?e.get(r)||"":e[r]||""}hasUseDpopNonceError(e){if(e.status!==401)return!1;const r=this.getHeader(e.headers,"www-authenticate");return r.includes("invalid_dpop_nonce")||r.includes("use_dpop_nonce")}async handleResponse(e,r){const n=this.getHeader(e.headers,"dpop-nonce");if(n&&await this.hooks.setDpopNonce(n),!this.hasUseDpopNonceError(e))return e;if(!n||!r.onUseDpopNonceError)throw new Xa(n);return r.onUseDpopNonceError()}async internalFetchWithAuth(e,r,n,o){const s=this.buildBaseRequest(e,r);await this.prepareRequest(s,o);const i=await this.config.fetch(s);return this.handleResponse(i,n)}fetchWithAuth(e,r,n){const o={onUseDpopNonceError:()=>this.internalFetchWithAuth(e,r,Object.assign(Object.assign({},o),{onUseDpopNonceError:void 0}),n)};return this.internalFetchWithAuth(e,r,o,n)}}class TS{constructor(e,r){this.myAccountFetcher=e,this.apiBase=r}async connectAccount(e){const r=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(r)}async completeAccount(e){const r=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(r)}async _handleResponse(e){let r;try{r=await e.text(),r=JSON.parse(r)}catch(n){throw new _a({type:"invalid_json",status:e.status,title:"Invalid JSON response",detail:r||String(n)})}if(e.ok)return r;throw new _a(r)}}class _a extends Error{constructor({type:e,status:r,title:n,detail:o,validation_errors:s}){super(o),this.name="MyAccountApiError",this.type=e,this.status=r,this.title=n,this.detail=o,this.validation_errors=s,Object.setPrototypeOf(this,_a.prototype)}}const Ml=new Hk;class CS{constructor(e){let r,n;if(this.userCache=new Ly().enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{const l=Array.from(this.activeLockKeys);for(const c of l)await Ml.releaseLock(c);this.activeLockKeys.clear(),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!ba())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(ba().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)n=e.cache;else{if(r=e.cacheLocation||"memory",!Wh(r))throw new Error(`Invalid cache location "${r}"`);n=Wh(r)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?jn:yS,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(l=>`auth0.${l}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const o=e.useCookiesForTransactions?this.cookieStorage:vS;var s;this.scope=((l,c,...u)=>{if(typeof l!="object")return{default:zi(c,l,...u)};let d={default:zi(c,...u)};return Object.keys(l).forEach(f=>{const h=l[f];d[f]=zi(c,h,...u)}),d})(this.options.authorizationParams.scope,"openid",this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new hS(o,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||Oy,this.cacheManager=new fS(n,n.allKeys?void 0:new _S(n,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new SS(this.options.clientId):void 0,this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:`https://${s}`),this.tokenIssuer=((l,c)=>l?l.startsWith("https://")?l:`https://${l}/`:`${c}/`)(this.options.issuer,this.domainUrl);const i=`${this.domainUrl}/me/`,a=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:"__auth0_my_account_api__"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:"create:me:connected_accounts",audience:i},detailedResponse:!0})}));this.myAccountApi=new TS(a,i),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&r==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new bS)}_url(e){const r=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||jy)));return`${this.domainUrl}${e}&auth0Client=${r}`}_authorizeUrl(e){return this._url(`/authorize?${au(e)}`)}async _verifyIdToken(e,r,n){const o=await this.nowProvider();return mS({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:r,organization:n,leeway:this.options.leeway,max_age:(s=this.options.authorizationParams.max_age,typeof s!="string"?s:parseInt(s,10)||void 0),now:o});var s}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,r,n){var o;const s=Ll(Lo()),i=Ll(Lo()),a=Lo(),l=await Dh(a),c=Mh(l),u=await((o=this.dpop)===null||o===void 0?void 0:o.calculateThumbprint()),d=((h,b,v,_,w,p,y,x,k)=>Object.assign(Object.assign(Object.assign({client_id:h.clientId},h.authorizationParams),v),{scope:ai(b,v.scope,v.audience),response_type:"code",response_mode:x||"query",state:_,nonce:w,redirect_uri:y||h.authorizationParams.redirect_uri,code_challenge:p,code_challenge_method:"S256",dpop_jkt:k}))(this.options,this.scope,e,s,i,c,e.redirect_uri||this.options.authorizationParams.redirect_uri||n,r==null?void 0:r.response_mode,u),f=this._authorizeUrl(d);return{nonce:i,code_verifier:a,scope:d.scope,audience:d.audience||"default",redirect_uri:d.redirect_uri,state:s,url:f}}async loginWithPopup(e,r){var n;if(e=e||{},!(r=r||{}).popup&&(r.popup=(a=>{const l=window.screenX+(window.innerWidth-400)/2,c=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${l},top=${c},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!r.popup))throw new Fd;const o=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);r.popup.location.href=o.url;const s=await(a=>new Promise((l,c)=>{let u;const d=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(d),clearTimeout(f),window.removeEventListener("message",u,!1),c(new Ud(a.popup)))},1e3),f=setTimeout(()=>{clearInterval(d),c(new Md(a.popup)),window.removeEventListener("message",u,!1)},1e3*(a.timeoutInSeconds||60));u=function(h){if(h.data&&h.data.type==="authorization_response"){if(clearTimeout(f),clearInterval(d),window.removeEventListener("message",u,!1),a.popup.close(),h.data.response.error)return c(ge.fromPayload(h.data.response));l(h.data.response)}},window.addEventListener("message",u)}))(Object.assign(Object.assign({},r),{timeoutInSeconds:r.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(o.state!==s.state)throw new ge("state_mismatch","Invalid state");const i=((n=e.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:"authorization_code",code:s.code,redirect_uri:o.redirect_uri},{nonceIn:o.nonce,organization:i})}async getUser(){var e;const r=await this._getIdTokenFromCache();return(e=r==null?void 0:r.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const r=await this._getIdTokenFromCache();return(e=r==null?void 0:r.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var r;const n=Vh(e),{openUrl:o,fragment:s,appState:i}=n,a=Dt(n,["openUrl","fragment","appState"]),l=((r=a.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization,c=await this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:u}=c,d=Dt(c,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},d),{appState:i,response_type:gr.Code}),l&&{organization:l}));const f=s?`${u}#${s}`:u;o?await o(f):window.location.assign(f)}async handleRedirectCallback(e=window.location.href){const r=e.split("?").slice(1);if(r.length===0)throw new Error("There are no query params available for parsing.");const n=this.transactionManager.get();if(!n)throw new ge("missing_transaction","Invalid state");this.transactionManager.remove();const o=(s=>{s.indexOf("#")>-1&&(s=s.substring(0,s.indexOf("#")));const i=new URLSearchParams(s);return{state:i.get("state"),code:i.get("code")||void 0,connect_code:i.get("connect_code")||void 0,error:i.get("error")||void 0,error_description:i.get("error_description")||void 0}})(r.join(""));return n.response_type===gr.ConnectCode?this._handleConnectAccountRedirectCallback(o,n):this._handleLoginRedirectCallback(o,n)}async _handleLoginRedirectCallback(e,r){const{code:n,state:o,error:s,error_description:i}=e;if(s)throw new Dd(s,i||s,o,r.appState);if(!r.code_verifier||r.state&&r.state!==o)throw new ge("state_mismatch","Invalid state");const a=r.organization,l=r.nonce,c=r.redirect_uri;return await this._requestToken(Object.assign({audience:r.audience,scope:r.scope,code_verifier:r.code_verifier,grant_type:"authorization_code",code:n},c?{redirect_uri:c}:{}),{nonceIn:l,organization:a}),{appState:r.appState,response_type:gr.Code}}async _handleConnectAccountRedirectCallback(e,r){const{connect_code:n,state:o,error:s,error_description:i}=e;if(s)throw new $d(s,i||s,r.connection,o,r.appState);if(!n)throw new ge("missing_connect_code","Missing connect code");if(!(r.code_verifier&&r.state&&r.auth_session&&r.redirect_uri&&r.state===o))throw new ge("state_mismatch","Invalid state");const a=await this.myAccountApi.completeAccount({auth_session:r.auth_session,connect_code:n,redirect_uri:r.redirect_uri,code_verifier:r.code_verifier});return Object.assign(Object.assign({},a),{appState:r.appState,response_type:gr.ConnectCode})}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var r,n;const o=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ai(this.scope,(r=e.authorizationParams)===null||r===void 0?void 0:r.scope,((n=e.authorizationParams)===null||n===void 0?void 0:n.audience)||this.options.authorizationParams.audience)})}),s=await((i,a)=>{let l=$l[a];return l||(l=i().finally(()=>{delete $l[a],l=null}),$l[a]=l),l})(()=>this._getTokenSilently(o),`${this.options.clientId}::${o.authorizationParams.audience}::${o.authorizationParams.scope}`);return e.detailedResponse?s:s==null?void 0:s.access_token}async _getTokenSilently(e){const{cacheMode:r}=e,n=Dt(e,["cacheMode"]);if(r!=="off"){const a=await this._getEntryFromCache({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId,cacheMode:r});if(a)return a}if(r==="cache-only")return;const o=(s=this.options.clientId,i=n.authorizationParams.audience||"default",`auth0.lock.getTokenSilently.${s}.${i}`);var s,i;if(!await(async(a,l=3)=>{for(let c=0;c<l;c++)if(await a())return!0;return!1})(()=>Ml.acquireLock(o,5e3),10))throw new ks;this.activeLockKeys.add(o),this.activeLockKeys.size===1&&window.addEventListener("pagehide",this._releaseLockOnPageHide);try{if(r!=="off"){const h=await this._getEntryFromCache({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId});if(h)return h}const a=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(n):await this._getTokenFromIFrame(n),{id_token:l,token_type:c,access_token:u,oauthTokenScope:d,expires_in:f}=a;return Object.assign(Object.assign({id_token:l,token_type:c,access_token:u},d?{scope:d}:null),{expires_in:f})}finally{await Ml.releaseLock(o),this.activeLockKeys.delete(o),this.activeLockKeys.size===0&&window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}async getTokenWithPopup(e={},r={}){var n,o;const s=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ai(this.scope,(n=e.authorizationParams)===null||n===void 0?void 0:n.scope,((o=e.authorizationParams)===null||o===void 0?void 0:o.audience)||this.options.authorizationParams.audience)})});return r=Object.assign(Object.assign({},qk),r),await this.loginWithPopup(s,r),(await this.cacheManager.get(new lt({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt)).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const r=e.logoutParams||{},{federated:n}=r,o=Dt(r,["federated"]),s=n?"&federated":"";return this._url(`/v2/logout?${au(Object.assign({clientId:e.clientId},o))}`)+s}async logout(e={}){var r;const n=Vh(e),{openUrl:o}=n,s=Dt(n,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@"),await((r=this.dpop)===null||r===void 0?void 0:r.clear());const i=this._buildLogoutUrl(s);o?await o(i):o!==!1&&window.location.assign(i)}async _getTokenFromIFrame(e){const r=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),n=this.cookieStorage.get(this.orgHintCookieName);n&&!r.organization&&(r.organization=n);const{url:o,state:s,nonce:i,code_verifier:a,redirect_uri:l,scope:c,audience:u}=await this._prepareAuthorizeUrl(r,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new ge("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const d=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds;let f;try{f=new URL(this.domainUrl).origin}catch{f=this.domainUrl}const h=await((v,_,w=60)=>new Promise((p,y)=>{const x=window.document.createElement("iframe");x.setAttribute("width","0"),x.setAttribute("height","0"),x.style.display="none";const k=()=>{window.document.body.contains(x)&&(window.document.body.removeChild(x),window.removeEventListener("message",S,!1))};let S;const E=setTimeout(()=>{y(new ks),k()},1e3*w);S=function(T){if(T.origin!=_||!T.data||T.data.type!=="authorization_response")return;const R=T.source;R&&R.close(),T.data.response.error?y(ge.fromPayload(T.data.response)):p(T.data.response),clearTimeout(E),window.removeEventListener("message",S,!1),setTimeout(k,2e3)},window.addEventListener("message",S,!1),window.document.body.appendChild(x),x.setAttribute("src",v)}))(o,f,d);if(s!==h.state)throw new ge("state_mismatch","Invalid state");const b=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:a,code:h.code,grant_type:"authorization_code",redirect_uri:l,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:i,organization:r.organization});return Object.assign(Object.assign({},b),{scope:c,oauthTokenScope:b.scope,audience:u})}catch(d){throw d.error==="login_required"&&this.logout({openUrl:!1}),d}}async _getTokenUsingRefreshToken(e){const r=await this.cacheManager.get(new lt({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt);if(!(r&&r.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new Ya(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const n=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,o=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null,s=((u,d,f,h)=>{var b;if(u&&f&&h){if(d.audience!==f)return d.scope;const v=h.split(" "),_=((b=d.scope)===null||b===void 0?void 0:b.split(" "))||[],w=_.every(p=>v.includes(p));return v.length>=_.length&&w?h:d.scope}return d.scope})(this.options.useMrrt,e.authorizationParams,r==null?void 0:r.audience,r==null?void 0:r.scope);try{const u=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:r&&r.refresh_token,redirect_uri:n}),o&&{timeout:o}),{scopesToRequest:s});if(u.refresh_token&&this.options.useMrrt&&(r!=null&&r.refresh_token)&&await this.cacheManager.updateEntry(r.refresh_token,u.refresh_token),this.options.useMrrt&&(i=r==null?void 0:r.audience,a=r==null?void 0:r.scope,l=e.authorizationParams.audience,c=e.authorizationParams.scope,(i!==l||!Kh(c,a))&&!Kh(s,u.scope))){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);await this.cacheManager.remove(this.options.clientId,e.authorizationParams.audience,e.authorizationParams.scope);const d=((f,h)=>{const b=(f==null?void 0:f.split(" "))||[],v=(h==null?void 0:h.split(" "))||[];return b.filter(_=>v.indexOf(_)==-1).join(",")})(s,u.scope);throw new Bd(e.authorizationParams.audience||"default",d)}return Object.assign(Object.assign({},u),{scope:e.authorizationParams.scope,oauthTokenScope:u.scope,audience:e.authorizationParams.audience||"default"})}catch(u){if((u.message.indexOf("Missing Refresh Token")>-1||u.message&&u.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw u}var i,a,l,c}async _saveEntryInCache(e){const{id_token:r,decodedToken:n}=e,o=Dt(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:r,decodedToken:n}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(o)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",r=this.scope[e],n=await this.cacheManager.getIdToken(new lt({clientId:this.options.clientId,audience:e,scope:r})),o=this.userCache.get("@@user@@");return n&&n.id_token===(o==null?void 0:o.id_token)?o:(this.userCache.set("@@user@@",n),n)}async _getEntryFromCache({scope:e,audience:r,clientId:n,cacheMode:o}){const s=await this.cacheManager.get(new lt({scope:e,audience:r,clientId:n}),60,this.options.useMrrt,o);if(s&&s.access_token){const{token_type:i,access_token:a,oauthTokenScope:l,expires_in:c}=s,u=await this._getIdTokenFromCache();return u&&Object.assign(Object.assign({id_token:u.id_token,token_type:i||"Bearer",access_token:a},l?{scope:l}:null),{expires_in:c})}}async _requestToken(e,r){const{nonceIn:n,organization:o,scopesToRequest:s}=r||{},i=await uS(Object.assign(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs,useMrrt:this.options.useMrrt,dpop:this.dpop},e),{scope:s||e.scope}),this.worker),a=await this._verifyIdToken(i.id_token,n,o);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},i),{decodedToken:a,scope:e.scope,audience:e.audience||"default"}),i.scope?{oauthTokenScope:i.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(o||a.claims.org_id),Object.assign(Object.assign({},i),{decodedToken:a})}async exchangeToken(e){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:e.subject_token,subject_token_type:e.subject_token_type,scope:ai(this.scope,e.scope,e.audience||this.options.authorizationParams.audience),audience:e.audience||this.options.authorizationParams.audience,organization:e.organization||this.options.authorizationParams.organization})}_assertDpop(e){if(!e)throw new Error("`useDpop` option must be enabled before using DPoP.")}getDpopNonce(e){return this._assertDpop(this.dpop),this.dpop.getNonce(e)}setDpopNonce(e,r){return this._assertDpop(this.dpop),this.dpop.setNonce(e,r)}generateDpopProof(e){return this._assertDpop(this.dpop),this.dpop.generateProof(e)}createFetcher(e={}){return new ES(e,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:r=>{var n;return this.getTokenSilently({authorizationParams:{scope:(n=r==null?void 0:r.scope)===null||n===void 0?void 0:n.join(" "),audience:r==null?void 0:r.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(e.dpopNonceId),setDpopNonce:r=>this.setDpopNonce(r,e.dpopNonceId),generateDpopProof:r=>this.generateDpopProof(r)})}async connectAccountWithRedirect(e){const{openUrl:r,appState:n,connection:o,scopes:s,authorization_params:i,redirectUri:a=this.options.authorizationParams.redirect_uri||window.location.origin}=e;if(!o)throw new Error("connection is required");const l=Ll(Lo()),c=Lo(),u=await Dh(c),d=Mh(u),{connect_uri:f,connect_params:h,auth_session:b}=await this.myAccountApi.connectAccount({connection:o,scopes:s,redirect_uri:a,state:l,code_challenge:d,code_challenge_method:"S256",authorization_params:i});this.transactionManager.create({state:l,code_verifier:c,auth_session:b,redirect_uri:a,appState:n,connection:o,response_type:gr.ConnectCode});const v=new URL(f);v.searchParams.set("ticket",h.ticket),r?await r(v.toString()):window.location.assign(v)}}var My={isAuthenticated:!1,isLoading:!0,error:void 0,user:void 0},$e=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},PS=Ee(Ee({},My),{buildAuthorizeUrl:$e,buildLogoutUrl:$e,getAccessTokenSilently:$e,getAccessTokenWithPopup:$e,getIdTokenClaims:$e,exchangeToken:$e,loginWithRedirect:$e,loginWithPopup:$e,connectAccountWithRedirect:$e,logout:$e,handleRedirectCallback:$e,getDpopNonce:$e,setDpopNonce:$e,generateDpopProof:$e,createFetcher:$e}),Uy=g.createContext(PS),Hh=function(t){Vk(e,t);function e(r,n){var o=t.call(this,n??r)||this;return o.error=r,o.error_description=n,Object.setPrototypeOf(o,e.prototype),o}return e}(Error),jS=/[?&](?:connect_)?code=[^&]+/,OS=/[?&]state=[^&]+/,RS=/[?&]error=[^&]+/,AS=function(t){return t===void 0&&(t=window.location.search),(jS.test(t)||RS.test(t))&&OS.test(t)},Fy=function(t){return function(e){if(e instanceof Error)return e;if(e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"){if("error_description"in e&&typeof e.error_description=="string"){var r=e;return new Hh(r.error,r.error_description)}var n=e;return new Hh(n.error)}return new Error(t)}},qh=Fy("Login failed"),li=Fy("Get access token failed"),zy=function(t){var e,r;t!=null&&t.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),t.authorizationParams=(e=t.authorizationParams)!==null&&e!==void 0?e:{},t.authorizationParams.redirect_uri=t.redirectUri,delete t.redirectUri),!((r=t==null?void 0:t.authorizationParams)===null||r===void 0)&&r.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),t.authorizationParams.redirect_uri=t.authorizationParams.redirectUri,delete t.authorizationParams.redirectUri)},IS=function(t,e){switch(e.type){case"LOGIN_POPUP_STARTED":return Ee(Ee({},t),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return Ee(Ee({},t),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return t.user===e.user?t:Ee(Ee({},t),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return Ee(Ee({},t),{isAuthenticated:!1,user:void 0});case"ERROR":return Ee(Ee({},t),{isLoading:!1,error:e.error})}},NS=function(t){return zy(t),Ee(Ee({},t),{auth0Client:{name:"auth0-react",version:"2.11.0"}})},LS=function(t){var e;window.history.replaceState({},document.title,(e=t.returnTo)!==null&&e!==void 0?e:window.location.pathname)},DS=function(t){var e=t.children,r=t.skipRedirectCallback,n=t.onRedirectCallback,o=n===void 0?LS:n,s=t.context,i=s===void 0?Uy:s,a=Lh(t,["children","skipRedirectCallback","onRedirectCallback","context"]),l=g.useState(function(){return new CS(NS(a))})[0],c=g.useReducer(IS,My),u=c[0],d=c[1],f=g.useRef(!1),h=g.useCallback(function(I){return d({type:"ERROR",error:I}),I},[]);g.useEffect(function(){f.current||(f.current=!0,function(){return $r(void 0,void 0,void 0,function(){var I,O,A,B,D,q,C;return Mr(this,function(z){switch(z.label){case 0:return z.trys.push([0,7,,8]),I=void 0,AS()&&!r?[4,l.handleRedirectCallback()]:[3,3];case 1:return O=z.sent(),A=O.appState,B=A===void 0?{}:A,D=O.response_type,q=Lh(O,["appState","response_type"]),[4,l.getUser()];case 2:return I=z.sent(),B.response_type=D,D===gr.ConnectCode&&(B.connectedAccount=q),o(B,I),[3,6];case 3:return[4,l.checkSession()];case 4:return z.sent(),[4,l.getUser()];case 5:I=z.sent(),z.label=6;case 6:return d({type:"INITIALISED",user:I}),[3,8];case 7:return C=z.sent(),h(qh(C)),[3,8];case 8:return[2]}})})}())},[l,o,r,h]);var b=g.useCallback(function(I){return zy(I),l.loginWithRedirect(I)},[l]),v=g.useCallback(function(I,O){return $r(void 0,void 0,void 0,function(){var A,B;return Mr(this,function(D){switch(D.label){case 0:d({type:"LOGIN_POPUP_STARTED"}),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,l.loginWithPopup(I,O)];case 2:return D.sent(),[3,4];case 3:return A=D.sent(),h(qh(A)),[2];case 4:return[4,l.getUser()];case 5:return B=D.sent(),d({type:"LOGIN_POPUP_COMPLETE",user:B}),[2]}})})},[l,h]),_=g.useCallback(function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return $r(void 0,Kk([],I),void 0,function(A){return A===void 0&&(A={}),Mr(this,function(B){switch(B.label){case 0:return[4,l.logout(A)];case 1:return B.sent(),(A.openUrl||A.openUrl===!1)&&d({type:"LOGOUT"}),[2]}})})},[l]),w=g.useCallback(function(I){return $r(void 0,void 0,void 0,function(){var O,A,B,D;return Mr(this,function(q){switch(q.label){case 0:return q.trys.push([0,2,3,5]),[4,l.getTokenSilently(I)];case 1:return O=q.sent(),[3,5];case 2:throw A=q.sent(),li(A);case 3:return B=d,D={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return B.apply(void 0,[(D.user=q.sent(),D)]),[7];case 5:return[2,O]}})})},[l]),p=g.useCallback(function(I,O){return $r(void 0,void 0,void 0,function(){var A,B,D,q;return Mr(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,3,5]),[4,l.getTokenWithPopup(I,O)];case 1:return A=C.sent(),[3,5];case 2:throw B=C.sent(),li(B);case 3:return D=d,q={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return D.apply(void 0,[(q.user=C.sent(),q)]),[7];case 5:return[2,A]}})})},[l]),y=g.useCallback(function(I){return l.connectAccountWithRedirect(I)},[l]),x=g.useCallback(function(){return l.getIdTokenClaims()},[l]),k=g.useCallback(function(I){return $r(void 0,void 0,void 0,function(){var O,A,B,D;return Mr(this,function(q){switch(q.label){case 0:return q.trys.push([0,2,3,5]),[4,l.exchangeToken(I)];case 1:return O=q.sent(),[3,5];case 2:throw A=q.sent(),li(A);case 3:return B=d,D={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return B.apply(void 0,[(D.user=q.sent(),D)]),[7];case 5:return[2,O]}})})},[l]),S=g.useCallback(function(I){return $r(void 0,void 0,void 0,function(){var O,A,B;return Mr(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,3,5]),[4,l.handleRedirectCallback(I)];case 1:return[2,D.sent()];case 2:throw O=D.sent(),li(O);case 3:return A=d,B={type:"HANDLE_REDIRECT_COMPLETE"},[4,l.getUser()];case 4:return A.apply(void 0,[(B.user=D.sent(),B)]),[7];case 5:return[2]}})})},[l]),E=g.useCallback(function(I){return l.getDpopNonce(I)},[l]),T=g.useCallback(function(I,O){return l.setDpopNonce(I,O)},[l]),R=g.useCallback(function(I){return l.generateDpopProof(I)},[l]),N=g.useCallback(function(I){return l.createFetcher(I)},[l]),F=g.useMemo(function(){return Ee(Ee({},u),{getAccessTokenSilently:w,getAccessTokenWithPopup:p,getIdTokenClaims:x,exchangeToken:k,loginWithRedirect:b,loginWithPopup:v,connectAccountWithRedirect:y,logout:_,handleRedirectCallback:S,getDpopNonce:E,setDpopNonce:T,generateDpopProof:R,createFetcher:N})},[u,w,p,x,k,b,v,y,_,S,E,T,R,N]);return Ce.createElement(i.Provider,{value:F},e)},$S=function(t){return t===void 0&&(t=Uy),g.useContext(t)},cu=function(t,e){return cu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},cu(t,e)};function By(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ct=function(){return ct=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ct.apply(this,arguments)};function Nr(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function Wy(t,e,r,n){var o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function Vy(t,e){return function(r,n){e(r,n,t)}}function Ky(t,e,r,n,o,s){function i(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,f=!1,h=r.length-1;h>=0;h--){var b={};for(var v in n)b[v]=v==="access"?{}:n[v];for(var v in n.access)b.access[v]=n.access[v];b.addInitializer=function(w){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(w||null))};var _=(0,r[h])(a==="accessor"?{get:u.get,set:u.set}:u[l],b);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=i(_.get))&&(u.get=d),(d=i(_.set))&&(u.set=d),(d=i(_.init))&&o.unshift(d)}else(d=i(_))&&(a==="field"?o.unshift(d):u[l]=d)}c&&Object.defineProperty(c,n.name,u),f=!0}function Hy(t,e,r){for(var n=arguments.length>2,o=0;o<e.length;o++)r=n?e[o].call(t,r):e[o].call(t);return n?r:void 0}function qy(t){return typeof t=="symbol"?t:"".concat(t)}function Gy(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Jy(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function U(t,e,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(u){try{c(n.next(u))}catch(d){i(d)}}function l(u){try{c(n.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):o(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function Yy(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],o=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Za=Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Xy(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Za(e,t,r)}function xa(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wd(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,s=[],i;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function Zy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Wd(arguments[e]));return t}function Qy(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var s=arguments[e],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function Vd(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,s;n<o;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function fo(t){return this instanceof fo?(this.v=t,this):new fo(t)}function ev(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(h){return function(b){return Promise.resolve(b).then(h,d)}}function a(h,b){n[h]&&(o[h]=function(v){return new Promise(function(_,w){s.push([h,v,_,w])>1||l(h,v)})},b&&(o[h]=b(o[h])))}function l(h,b){try{c(n[h](b))}catch(v){f(s[0][3],v)}}function c(h){h.value instanceof fo?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,b){h(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function tv(t){var e,r;return e={},n("next"),n("throw",function(o){throw o}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(o,s){e[o]=t[o]?function(i){return(r=!r)?{value:fo(t[o](i)),done:!1}:s?s(i):i}:s}}function rv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof xa=="function"?xa(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(i){return new Promise(function(a,l){i=t[s](i),o(a,l,i.done,i.value)})}}function o(s,i,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},i)}}function nv(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var MS=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},uu=function(t){return uu=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},uu(t)};function ov(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=uu(t),n=0;n<r.length;n++)r[n]!=="default"&&Za(e,t,r[n]);return MS(e,t),e}function sv(t){return t&&t.__esModule?t:{default:t}}function iv(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function av(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function lv(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function cv(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var US=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function uv(t){function e(s){t.error=t.hasError?new US(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return e(i),o()})}else n|=1}catch(i){e(i)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function dv(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?e?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):t}const FS={__extends:By,__assign:ct,__rest:Nr,__decorate:Wy,__param:Vy,__esDecorate:Ky,__runInitializers:Hy,__propKey:qy,__setFunctionName:Gy,__metadata:Jy,__awaiter:U,__generator:Yy,__createBinding:Za,__exportStar:Xy,__values:xa,__read:Wd,__spread:Zy,__spreadArrays:Qy,__spreadArray:Vd,__await:fo,__asyncGenerator:ev,__asyncDelegator:tv,__asyncValues:rv,__makeTemplateObject:nv,__importStar:ov,__importDefault:sv,__classPrivateFieldGet:iv,__classPrivateFieldSet:av,__classPrivateFieldIn:lv,__addDisposableResource:cv,__disposeResources:uv,__rewriteRelativeImportExtension:dv},zS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cv,get __assign(){return ct},__asyncDelegator:tv,__asyncGenerator:ev,__asyncValues:rv,__await:fo,__awaiter:U,__classPrivateFieldGet:iv,__classPrivateFieldIn:lv,__classPrivateFieldSet:av,__createBinding:Za,__decorate:Wy,__disposeResources:uv,__esDecorate:Ky,__exportStar:Xy,__extends:By,__generator:Yy,__importDefault:sv,__importStar:ov,__makeTemplateObject:nv,__metadata:Jy,__param:Vy,__propKey:qy,__read:Wd,__rest:Nr,__rewriteRelativeImportExtension:dv,__runInitializers:Hy,__setFunctionName:Gy,__spread:Zy,__spreadArray:Vd,__spreadArrays:Qy,__values:xa,default:FS},Symbol.toStringTag,{value:"Module"})),BS="modulepreload",WS=function(t){return"/"+t},Gh={},De=function(e,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(r.map(l=>{if(l=WS(l),l in Gh)return;Gh[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":BS,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},VS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>De(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},[]).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Kd extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Jh extends Kd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yh extends Kd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xh extends Kd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var du;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(du||(du={}));class KS{constructor(e,{headers:r={},customFetch:n,region:o=du.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=VS(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return U(this,arguments,void 0,function*(r,n={}){var o;try{const{headers:s,method:i,body:a,signal:l}=n;let c={},{region:u}=n;u||(u=this.region);const d=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(c["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(c["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:f,signal:l}).catch(w=>{throw w.name==="AbortError"?w:new Jh(w)}),b=h.headers.get("x-relay-error");if(b&&b==="true")throw new Yh(h);if(!h.ok)throw new Xh(h);let v=((o=h.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield h.json():v==="application/octet-stream"||v==="application/pdf"?_=yield h.blob():v==="text/event-stream"?_=h:v==="multipart/form-data"?_=yield h.formData():_=yield h.text(),{data:_,error:null,response:h}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Jh(s)}:{data:null,error:s,response:s instanceof Xh||s instanceof Yh?s.context:void 0}}})}}var We={};const _o=em(zS);var ci={},ui={},di={},fi={},hi={},HS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ho=HS();const qS=ho.fetch,fv=ho.fetch.bind(ho),hv=ho.Headers,GS=ho.Request,JS=ho.Response,gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:hv,Request:GS,Response:JS,default:fv,fetch:qS},Symbol.toStringTag,{value:"Module"})),YS=em(gn);var pi={},Zh;function pv(){if(Zh)return pi;Zh=1,Object.defineProperty(pi,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return pi.default=t,pi}var Qh;function mv(){if(Qh)return hi;Qh=1,Object.defineProperty(hi,"__esModule",{value:!0});const t=_o,e=t.__importDefault(YS),r=t.__importDefault(pv());class n{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let b=null,v=null,_=null,w=c.status,p=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=S:v=JSON.parse(S))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),k=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&k&&k.length>1&&(_=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(b={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,_=null,w=406,p="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const x=await c.text();try{b=JSON.parse(x),Array.isArray(b)&&c.status===404&&(v=[],b=null,w=200,p="OK")}catch{c.status===404&&x===""?(w=204,p="No Content"):b={message:x}}if(b&&this.isMaybeSingle&&(!((h=b==null?void 0:b.details)===null||h===void 0)&&h.includes("0 rows"))&&(b=null,w=200,p="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:v,count:_,status:w,statusText:p}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return hi.default=n,hi}var ep;function gv(){if(ep)return fi;ep=1,Object.defineProperty(fi,"__esModule",{value:!0});const e=_o.__importDefault(mv());class r extends e.default{select(o){let s=!1;const i=(o??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:s=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${o}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${o}`),this}range(o,s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${o}`),this.url.searchParams.set(c,`${s-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:s=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[o?"analyze":null,s?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return fi.default=r,fi}var tp;function Hd(){if(tp)return di;tp=1,Object.defineProperty(di,"__esModule",{value:!0});const e=_o.__importDefault(gv());class r extends e.default{eq(o,s){return this.url.searchParams.append(o,`eq.${s}`),this}neq(o,s){return this.url.searchParams.append(o,`neq.${s}`),this}gt(o,s){return this.url.searchParams.append(o,`gt.${s}`),this}gte(o,s){return this.url.searchParams.append(o,`gte.${s}`),this}lt(o,s){return this.url.searchParams.append(o,`lt.${s}`),this}lte(o,s){return this.url.searchParams.append(o,`lte.${s}`),this}like(o,s){return this.url.searchParams.append(o,`like.${s}`),this}likeAllOf(o,s){return this.url.searchParams.append(o,`like(all).{${s.join(",")}}`),this}likeAnyOf(o,s){return this.url.searchParams.append(o,`like(any).{${s.join(",")}}`),this}ilike(o,s){return this.url.searchParams.append(o,`ilike.${s}`),this}ilikeAllOf(o,s){return this.url.searchParams.append(o,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(o,s){return this.url.searchParams.append(o,`ilike(any).{${s.join(",")}}`),this}is(o,s){return this.url.searchParams.append(o,`is.${s}`),this}in(o,s){const i=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(o,`in.(${i})`),this}contains(o,s){return typeof s=="string"?this.url.searchParams.append(o,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(o,`cs.{${s.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(s)}`),this}containedBy(o,s){return typeof s=="string"?this.url.searchParams.append(o,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(o,`cd.{${s.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(s)}`),this}rangeGt(o,s){return this.url.searchParams.append(o,`sr.${s}`),this}rangeGte(o,s){return this.url.searchParams.append(o,`nxl.${s}`),this}rangeLt(o,s){return this.url.searchParams.append(o,`sl.${s}`),this}rangeLte(o,s){return this.url.searchParams.append(o,`nxr.${s}`),this}rangeAdjacent(o,s){return this.url.searchParams.append(o,`adj.${s}`),this}overlaps(o,s){return typeof s=="string"?this.url.searchParams.append(o,`ov.${s}`):this.url.searchParams.append(o,`ov.{${s.join(",")}}`),this}textSearch(o,s,{config:i,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(o,`${l}fts${c}.${s}`),this}match(o){return Object.entries(o).forEach(([s,i])=>{this.url.searchParams.append(s,`eq.${i}`)}),this}not(o,s,i){return this.url.searchParams.append(o,`not.${s}.${i}`),this}or(o,{foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.or`:"or";return this.url.searchParams.append(a,`(${o})`),this}filter(o,s,i){return this.url.searchParams.append(o,`${s}.${i}`),this}}return di.default=r,di}var rp;function yv(){if(rp)return ui;rp=1,Object.defineProperty(ui,"__esModule",{value:!0});const e=_o.__importDefault(Hd());class r{constructor(o,{headers:s={},schema:i,fetch:a}){this.url=o,this.headers=new Headers(s),this.schema=i,this.fetch=a}select(o,s){const{head:i=!1,count:a}=s??{},l=i?"HEAD":"GET";let c=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const c=o.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(o,{onConflict:s,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const d=o.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(o,{count:s}={}){var i;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:o}={}){var s;const i="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return ui.default=r,ui}var np;function XS(){if(np)return ci;np=1,Object.defineProperty(ci,"__esModule",{value:!0});const t=_o,e=t.__importDefault(yv()),r=t.__importDefault(Hd());class n{constructor(s,{headers:i={},schema:a,fetch:l}={}){this.url=s,this.headers=new Headers(i),this.schemaName=a,this.fetch=l}from(s){const i=new URL(`${this.url}/${s}`);return new e.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:a=!1,get:l=!1,count:c}={}){var u;let d;const f=new URL(`${this.url}/rpc/${s}`);let h;a||l?(d=a?"HEAD":"GET",Object.entries(i).filter(([v,_])=>_!==void 0).map(([v,_])=>[v,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([v,_])=>{f.searchParams.append(v,_)})):(d="POST",h=i);const b=new Headers(this.headers);return c&&b.set("Prefer",`count=${c}`),new r.default({method:d,url:f,headers:b,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ci.default=n,ci}Object.defineProperty(We,"__esModule",{value:!0});We.PostgrestError=We.PostgrestBuilder=We.PostgrestTransformBuilder=We.PostgrestFilterBuilder=We.PostgrestQueryBuilder=We.PostgrestClient=void 0;const xo=_o,vv=xo.__importDefault(XS());We.PostgrestClient=vv.default;const wv=xo.__importDefault(yv());We.PostgrestQueryBuilder=wv.default;const bv=xo.__importDefault(Hd());We.PostgrestFilterBuilder=bv.default;const _v=xo.__importDefault(gv());We.PostgrestTransformBuilder=_v.default;const xv=xo.__importDefault(mv());We.PostgrestBuilder=xv.default;const kv=xo.__importDefault(pv());We.PostgrestError=kv.default;var ZS=We.default={PostgrestClient:vv.default,PostgrestQueryBuilder:wv.default,PostgrestFilterBuilder:bv.default,PostgrestTransformBuilder:_v.default,PostgrestBuilder:xv.default,PostgrestError:kv.default};const{PostgrestClient:QS,PostgrestQueryBuilder:YO,PostgrestFilterBuilder:XO,PostgrestTransformBuilder:ZO,PostgrestBuilder:QO,PostgrestError:eR}=ZS;class eE{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const tE="2.76.1",rE=`realtime-js/${tE}`,nE="1.0.0",fu=1e4,oE=1e3,sE=100;var es;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(es||(es={}));var _e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_e||(_e={}));var _t;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_t||(_t={}));var hu;(function(t){t.websocket="websocket"})(hu||(hu={}));var Gr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gr||(Gr={}));class iE{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const o=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+o));i=i+o;const l=n.decode(e.slice(i,i+s));i=i+s;const c=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Sv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(te||(te={}));const op=(t,e,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,i)=>(s[i]=aE(i,t,e,o),s),{}):{}},aE=(t,e,r,n)=>{const o=e.find(a=>a.name===t),s=o==null?void 0:o.type,i=r[t];return s&&!n.includes(s)?Ev(s,i):pu(i)},Ev=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return dE(e,r)}switch(t){case te.bool:return lE(e);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return cE(e);case te.json:case te.jsonb:return uE(e);case te.timestamp:return fE(e);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return pu(e);default:return pu(e)}},pu=t=>t,lE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},cE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},dE=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const i=t.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(a=>Ev(e,a))}return t},fE=t=>typeof t=="string"?t.replace(" ","T"):t,Tv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ul{constructor(e,r,n={},o=fu){this.channel=e,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var sp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(sp||(sp={}));class ts{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:s,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ts.syncState(this.state,o,s,i),this.pendingDiffs.forEach(l=>{this.state=ts.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},o=>{const{onJoin:s,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ts.syncDiff(this.state,o,s,i),a())}),this.onJoin((o,s,i)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:i})}),this.onLeave((o,s,i)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,o){const s=this.cloneDeep(e),i=this.transformState(r),a={},l={};return this.map(s,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const d=s[c];if(d){const f=u.map(_=>_.presence_ref),h=d.map(_=>_.presence_ref),b=u.filter(_=>h.indexOf(_.presence_ref)<0),v=d.filter(_=>f.indexOf(_.presence_ref)<0);b.length>0&&(a[c]=b),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},n,o)}static syncDiff(e,r,n,o){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}n(a,u,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,o(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const o=e[n];return"metas"in o?r[n]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ip;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ip||(ip={}));var rs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(rs||(rs={}));var Ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ht||(Ht={}));class qd{constructor(e,r={config:{}},n){var o,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ul(this,_t.join,this.params,this.timeout),this.rejoinTimer=new Sv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_t.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ts(this),this.broadcastEndpointURL=Tv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,o,s;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&o!==void 0?o:[],u=!!this.bindings[rs.PRESENCE]&&this.bindings[rs.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Ht.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Ht.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var b;if(this.socket.setAuth(),h===void 0){e==null||e(Ht.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,w=[];for(let p=0;p<_;p++){const y=v[p],{filter:{event:x,schema:k,table:S,filter:E}}=y,T=h&&h[p];if(T&&T.event===x&&T.schema===k&&T.table===S&&T.filter===E)w.push(Object.assign(Object.assign({},y),{id:T.id}));else{this.unsubscribe(),this.state=_e.errored,e==null||e(Ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Ht.SUBSCRIBED);return}}).receive("error",h=>{this.state=_e.errored,e==null||e(Ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===_e.joined&&e===rs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var o;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=c.body)===null||o===void 0?void 0:o.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_t.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new Ul(this,_t.leave,{},e),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_e.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const o=new AbortController,s=setTimeout(()=>o.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(s),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ul(this,e,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>sE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var o,s;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=_t;if(n&&[a,l,c,u].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var b,v,_;return((b=h.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(v=h.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===i}).map(h=>h.callback(f,n)):(s=this.bindings[i])===null||s===void 0||s.filter(h=>{var b,v,_,w,p,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const x=h.id,k=(b=h.filter)===null||b===void 0?void 0:b.event;return x&&((v=r.ids)===null||v===void 0?void 0:v.includes(x))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(p=(w=h==null?void 0:h.filter)===null||w===void 0?void 0:w.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:v,table:_,commit_timestamp:w,type:p,errors:y}=b;f=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:w,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(b))}h.callback(f,n)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const o=e.toLocaleLowerCase(),s={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&qd.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_t.close,{},e)}_onError(e){this._on(_t.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=op(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=op(e.columns,e.old_record)),r}}const Fl=()=>{},mi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hE=[1e3,2e3,5e3,1e4],pE=1e4,mE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gE{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fu,this.transport=null,this.heartbeatIntervalMs=mi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fl,this.ref=0,this.reconnectTimer=null,this.logger=Fl,this.conn=null,this.sendBuffer=[],this.serializer=new iE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...i)=>De(async()=>{const{default:a}=await Promise.resolve().then(()=>gn);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...i)=>s(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${hu.websocket}`,this.httpEndpoint=Tv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nE}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case es.connecting:return Gr.Connecting;case es.open:return Gr.Open;case es.closing:return Gr.Closing;default:return Gr.Closed}}isConnected(){return this.connectionState()===Gr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,o=this.getChannels().find(s=>s.topic===n);if(o)return o;{const s=new qd(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:o,ref:s}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,o),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(oE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},mi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:s,ref:i}=r,a=i?`(${i})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${o} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(o,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_t.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${n}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([mE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const o={access_token:r,version:rE};r&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(_t.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Sv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,o,s,i,a,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:fu,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:mi.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Fl,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>hE[d-1]||pE,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Gd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class yE extends Gd{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mu extends Gd{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Jd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>De(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},vE=()=>U(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield De(()=>Promise.resolve().then(()=>gn),void 0)).Response:Response}),gu=t=>{if(Array.isArray(t))return t.map(r=>gu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[o]=gu(n)}),e},wE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bE=(t,e,r)=>U(void 0,void 0,void 0,function*(){const n=yield vE();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(o=>{const s=t.status||500,i=(o==null?void 0:o.statusCode)||s+"";e(new yE(zl(o),s,i))}).catch(o=>{e(new mu(zl(o),o))}):e(new mu(zl(t),t))}),_E=(t,e,r,n)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?o:(wE(n)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(n)):o.body=n,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function Ds(t,e,r,n,o,s){return U(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,_E(e,n,o,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>bE(l,a,n))})})}function Ss(t,e,r,n){return U(this,void 0,void 0,function*(){return Ds(t,"GET",e,r,n)})}function wt(t,e,r,n,o){return U(this,void 0,void 0,function*(){return Ds(t,"POST",e,n,o,r)})}function yu(t,e,r,n,o){return U(this,void 0,void 0,function*(){return Ds(t,"PUT",e,n,o,r)})}function xE(t,e,r,n){return U(this,void 0,void 0,function*(){return Ds(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Yd(t,e,r,n,o){return U(this,void 0,void 0,function*(){return Ds(t,"DELETE",e,n,o,r)})}class kE{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return U(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}}var Cv;class SE{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Cv]="BlobDownloadBuilder",this.promise=null}asStream(){return new kE(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return U(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}}Cv=Symbol.toStringTag;const EE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ap={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TE{constructor(e,r={},n,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Jd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,o){return U(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},ap),o);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),o!=null&&o.headers&&(a=Object.assign(Object.assign({},a),o.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(e=="PUT"?yu:wt)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}upload(e,r,n){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,o){return U(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:ap.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield yu(this.fetch,a.toString(),l,{headers:u});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return U(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const s=yield wt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),i=new URL(this.url+s.url),a=i.searchParams.get("token");if(!a)throw new Gd("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}update(e,r,n){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return U(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}})}copy(e,r,n){return U(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,n){return U(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),s=yield wt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,n){return U(this,void 0,void 0,function*(){try{const o=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>Ss(this.fetch,`${this.url}/${o}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new SE(l,this.shouldThrowOnError)}info(e){return U(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ss(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:gu(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}exists(e){return U(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield xE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n)&&n instanceof mu){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),o=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&o.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&o.push(l);let c=o.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return U(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}list(e,r,n){return U(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},EE),r),{prefix:e||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}})}listV2(e,r){return U(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield wt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Pv="2.76.1",jv={"X-Client-Info":`storage-js/${Pv}`};class CE{constructor(e,r={},n,o){this.shouldThrowOnError=!1;const s=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jv),r),this.fetch=Jd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return U(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}createBucket(e){return U(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return U(this,void 0,void 0,function*(){try{return{data:yield yu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}emptyBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}}class PE{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jv),r),this.fetch=Jd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}listBuckets(e){return U(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),o=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,s=yield Ss(this.fetch,o,{headers:this.headers});return{data:Array.isArray(s)?s.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}}const Xd={"X-Client-Info":`storage-js/${Pv}`,"Content-Type":"application/json"};class Ov extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Bl extends Ov{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jE extends Ov{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var lp;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(lp||(lp={}));const Zd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>De(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},OE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},cp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RE=(t,e,r)=>U(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const o=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||o+"";e(new Bl(cp(i),o,a))}).catch(()=>{const i=o+"",a=s.statusText||`HTTP ${o} error`;e(new Bl(a,o,i))});else{const i=o+"",a=s.statusText||`HTTP ${o} error`;e(new Bl(a,o,i))}}else e(new jE(cp(t),t))}),AE=(t,e,r,n)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(OE(n)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(n)):o.body=n,Object.assign(Object.assign({},o),r)):o};function IE(t,e,r,n,o,s){return U(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,AE(e,n,o,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>RE(l,a,n))})})}function Xe(t,e,r,n,o){return U(this,void 0,void 0,function*(){return IE(t,"POST",e,n,o,r)})}class NE{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xd),r),this.fetch=Zd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return U(this,void 0,void 0,function*(){try{return{data:(yield Xe(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}getIndex(e,r){return U(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}listIndexes(e){return U(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return U(this,void 0,void 0,function*(){try{return{data:(yield Xe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}}class LE{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xd),r),this.fetch=Zd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return U(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Xe(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}getVectors(e){return U(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}listVectors(e){return U(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Xe(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}queryVectors(e){return U(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}deleteVectors(e){return U(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Xe(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}}class DE{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xd),r),this.fetch=Zd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return U(this,void 0,void 0,function*(){try{return{data:(yield Xe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}getBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}listBuckets(){return U(this,arguments,void 0,function*(e={}){try{return{data:yield Xe(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:(yield Xe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}}class $E extends DE{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new ME(this.url,this.headers,e,this.fetch)}}class ME extends NE{constructor(e,r,n,o){super(e,r,o),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return U(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return U(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return U(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return U(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new UE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class UE extends LE{constructor(e,r,n,o,s){super(e,r,s),this.vectorBucketName=n,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return U(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return U(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return U(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return U(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return U(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class FE extends CE{constructor(e,r={},n,o){super(e,r,n,o)}from(e){return new TE(this.url,this.headers,e,this.fetch)}get vectors(){return new $E(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new PE(this.url+"/iceberg",this.headers,this.fetch)}}const zE="2.76.1";let Bo="";typeof Deno<"u"?Bo="deno":typeof document<"u"?Bo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bo="react-native":Bo="node";const BE={"X-Client-Info":`supabase-js-${Bo}/${zE}`},WE={headers:BE},VE={schema:"public"},KE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HE={},qE=t=>{let e;return t?e=t:typeof fetch>"u"?e=fv:e=fetch,(...r)=>e(...r)},GE=()=>typeof Headers>"u"?hv:Headers,JE=(t,e,r)=>{const n=qE(r),o=GE();return async(s,i)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new o(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},i),{headers:c}))}};function YE(t){return t.endsWith("/")?t:t+"/"}function XE(t,e){var r,n;const{db:o,auth:s,realtime:i,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),o),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function ZE(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YE(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Rv="2.76.1",On=30*1e3,vu=3,Wl=vu*On,QE="http://localhost:9999",e1="supabase.auth.token",t1={"X-Client-Info":`gotrue-js/${Rv}`},wu="X-Supabase-Api-Version",Av={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},r1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n1=10*60*1e3;class Es extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class o1 extends Es{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function s1(t){return W(t)&&t.name==="AuthApiError"}class Jr extends Es{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Lr extends Es{constructor(e,r,n,o){super(e,n,o),this.name=r,this.status=n}}class ur extends Lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i1(t){return W(t)&&t.name==="AuthSessionMissingError"}class wn extends Lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gi extends Lr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yi extends Lr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function a1(t){return W(t)&&t.name==="AuthImplicitGrantRedirectError"}class up extends Lr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bu extends Lr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Vl(t){return W(t)&&t.name==="AuthRetryableFetchError"}class dp extends Lr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class _u extends Lr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ka="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fp=` 	
\r=`.split(""),l1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fp.length;e+=1)t[fp[e].charCodeAt(0)]=-2;for(let e=0;e<ka.length;e+=1)t[ka[e].charCodeAt(0)]=e;return t})();function hp(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ka[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ka[n]),e.queuedBits-=6}}function Iv(t,e,r){const n=l1[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function pp(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=i=>{d1(i,n,r)};for(let i=0;i<t.length;i+=1)Iv(t.charCodeAt(i),o,s);return e.join("")}function c1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function u1(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}c1(n,e)}}function d1(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Zn(t){const e=[],r={queue:0,queuedBits:0},n=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Iv(t.charCodeAt(o),r,n);return new Uint8Array(e)}function f1(t){const e=[];return u1(t,r=>e.push(r)),new Uint8Array(e)}function tn(t){const e=[],r={queue:0,queuedBits:0},n=o=>{e.push(o)};return t.forEach(o=>hp(o,r,n)),hp(null,r,n),e.join("")}function h1(t){return Math.round(Date.now()/1e3)+t}function p1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ge=()=>typeof window<"u"&&typeof document<"u",Fr={tested:!1,writable:!1},Nv=()=>{if(!Ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fr.tested)return Fr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Fr.tested=!0,Fr.writable=!0}catch{Fr.tested=!0,Fr.writable=!1}return Fr.writable};function m1(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,s)=>{e[s]=o})}catch{}return r.searchParams.forEach((n,o)=>{e[o]=n}),e}const Lv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>De(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},g1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},zr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},lr=async(t,e)=>{await t.removeItem(e)};class Qa{constructor(){this.promise=new Qa.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Qa.promiseConstructor=Promise;function Kl(t){const e=t.split(".");if(e.length!==3)throw new _u("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!r1.test(e[n]))throw new _u("JWT not in base64url format");return{header:JSON.parse(pp(e[0])),payload:JSON.parse(pp(e[1])),signature:Zn(e[2]),raw:{header:e[0],payload:e[1]}}}async function y1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function v1(t,e){return new Promise((n,o)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await t(s);if(!e(s,null,i)){n(i);return}}catch(i){if(!e(s,i)){o(i);return}}})()})}function w1(t){return("0"+t.toString(16)).substr(-2)}function b1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let s=0;s<56;s++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(e),Array.from(e,w1).join("")}async function _1(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(s=>String.fromCharCode(s)).join("")}async function x1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await _1(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bn(t,e,r=!1){const n=b1();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await Rn(t,`${e}-code-verifier`,o);const s=await x1(n);return[s,n===s?"plain":"s256"]}const k1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S1(t){const e=t.headers.get(wu);if(!e||!e.match(k1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function E1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function T1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const C1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _n(t){if(!C1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hl(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mp(t){return JSON.parse(JSON.stringify(t))}const Hr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),P1=[502,503,504];async function gp(t){var e;if(!g1(t))throw new bu(Hr(t),0);if(P1.includes(t.status))throw new bu(Hr(t),t.status);let r;try{r=await t.json()}catch(s){throw new Jr(Hr(s),s)}let n;const o=S1(t);if(o&&o.getTime()>=Av["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new dp(Hr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ur}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new dp(Hr(r),t.status,r.weak_password.reasons);throw new o1(Hr(r),t.status||500,n)}const j1=(t,e,r,n)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function V(t,e,r,n){var o;const s=Object.assign({},n==null?void 0:n.headers);s[wu]||(s[wu]=Av["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await O1(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function O1(t,e,r,n,o,s){const i=j1(e,n,o,s);let a;try{a=await t(r,Object.assign({},i))}catch(l){throw console.error(l),new bu(Hr(l),0)}if(a.ok||await gp(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await gp(l)}}function yt(t){var e;let r=null;I1(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=h1(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function yp(t){const e=yt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function R1(t){return{data:t,error:null}}function A1(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:o,verification_type:s}=t,i=Nr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:o,verification_type:s},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function vp(t){return t}function I1(t){return t.access_token&&t.refresh_token&&t.expires_in}const ql=["global","local","others"];class N1{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Lv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ql[0]){if(ql.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ql.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Nr(e,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:A1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,o,s,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:vp});if(u.error)throw u.error;const d=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);c[`${_}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(W(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){_n(e);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yr})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){_n(e);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:yr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){_n(e);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:yr})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){_n(e.userId);try{const{data:r,error:n}=await V(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(e){_n(e.userId),_n(e.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,o,s,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:vp});if(u.error)throw u.error;const d=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);c[`${_}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(W(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}}function wp(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const xn={debug:!!(globalThis&&Nv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class L1 extends Dv{}async function D1(t,e,r){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new L1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $v(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function M1(t){return parseInt(t,16)}function U1(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function F1(t){var e;const{chainId:r,domain:n,expirationTime:o,issuedAt:s=new Date,nonce:i,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=$v(t.address),b=u?`${u}://${n}`:n,v=t.statement?`${t.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${h}

${v}`;let w=`URI: ${d}
Version: ${f}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(o&&(w+=`
Expiration Time: ${o.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let p=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);p+=`
- ${y}`}w+=p}return`${_}
${w}`}class ve extends Error{constructor({message:e,code:r,cause:n,name:o}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=o??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Sa extends ve{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function z1({error:t,options:e}){var r,n,o;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=s.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ve({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Mv(i)){if(s.rp.id!==i)return new ve({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function B1({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ve({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Mv(n)){if(r.rpId!==n)return new ve({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class W1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const V1=new W1;function K1(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,o=Nr(t,["challenge","user","excludeCredentials"]),s=Zn(e).buffer,i=Object.assign(Object.assign({},r),{id:Zn(r.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:s,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Zn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function H1(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Nr(t,["challenge","allowCredentials"]),o=Zn(e).buffer,s=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Zn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function q1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:tn(new Uint8Array(t.response.attestationObject)),clientDataJSON:tn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function G1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:tn(new Uint8Array(o.authenticatorData)),clientDataJSON:tn(new Uint8Array(o.clientDataJSON)),signature:tn(new Uint8Array(o.signature)),userHandle:o.userHandle?tn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function bp(){var t,e;return!!(Ge()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function J1(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sa("Browser returned unexpected credential type",e)}:{data:null,error:new Sa("Empty credential response",e)}}catch(e){return{data:null,error:z1({error:e,options:t})}}}async function Y1(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sa("Browser returned unexpected credential type",e)}:{data:null,error:new Sa("Empty credential response",e)}}catch(e){return{data:null,error:B1({error:e,options:t})}}}const X1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Z1={userVerification:"preferred",hints:["security-key"]};function Ea(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of t)if(o)for(const s in o){const i=o[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(e(i)){const a=n[s];e(a)?n[s]=Ea(a,i):n[s]=Ea(i)}else n[s]=i}return n}function Q1(t,e){return Ea(X1,t,e||{})}function eT(t,e){return Ea(Z1,t,e||{})}class tT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:o},s){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!i)return{data:null,error:a};const l=o??V1.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=Q1(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:d}=await J1({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=eT(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:d}=await Y1(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(i){return W(i)?{data:null,error:i}:{data:null,error:new Jr("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}},s){if(!r)return{data:null,error:new Es("rpId is required for WebAuthn authentication")};try{if(!bp())return{data:null,error:new Jr("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:o},{request:s});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return W(i)?{data:null,error:i}:{data:null,error:new Jr("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o},s){if(!r)return{data:null,error:new Es("rpId is required for WebAuthn registration")};try{if(!bp())return{data:null,error:new Jr("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:o},{create:s});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return W(i)?{data:null,error:i}:{data:null,error:new Jr("Unexpected error in register",i)}}}}$1();const rT={url:QE,storageKey:e1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:t1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _p(t,e,r){return await r()}const kn={};class Ts{get jwks(){var e,r;return(r=(e=kn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=kn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ts.nextInstanceID,Ts.nextInstanceID+=1,this.instanceID>0&&Ge()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},rT),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new N1({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Lv(o.fetch),this.lock=o.lock||_p,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ge()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=D1:this.lock=_p,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tT(this)},this.persistSession?(o.storage?this.storage=o.storage:Nv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wp(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=wp(this.memoryStorage)),Ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=m1(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ge()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),a1(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?{error:r}:{error:new Jr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,o;try{const s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:yt}),{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,o;try{let s;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,b=null;this.flowType==="pkce"&&([h,b]=await bn(this.storage,this.storageKey)),s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:b},xform:yt})}else if("phone"in e){const{phone:u,password:d,options:f}=e;s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(o=f==null?void 0:f.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:yt})}else throw new gi("You must provide either an email or phone number and a password");const{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:i,options:a}=e;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yp})}else if("phone"in e){const{phone:s,password:i,options:a}=e;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yp})}else throw new gi("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,o,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,o,s,i,a,l,c,u,d,f;let h,b;if("message"in e)h=e.message,b=e.signature;else{const{chain:v,wallet:_,statement:w,options:p}=e;let y;if(Ge())if(typeof _=="object")y=_;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")y=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=_}const x=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),k=await y.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=$v(k[0]);let E=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const R=await y.request({method:"eth_chainId"});E=M1(R)}const T={domain:x.host,address:S,statement:w,uri:x.href,version:"1",chainId:E,nonce:(o=p==null?void 0:p.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(i=(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=F1(T),b=await y.request({method:"personal_sign",params:[U1(h),S]})}try{const{data:v,error:_}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:b},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:yt});if(_)throw _;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new wn}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:_})}catch(v){if(W(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(e){var r,n,o,s,i,a,l,c,u,d,f,h;let b,v;if("message"in e)b=e.message,v=e.signature;else{const{chain:_,wallet:w,statement:p,options:y}=e;let x;if(Ge())if(typeof w=="object")x=w;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))x=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const k=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const S=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${k.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(o=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await x.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:_,error:w}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:tn(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:yt});if(w)throw w;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new wn}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:w})}catch(_){if(W(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await zr(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:s,error:i}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yt});if(await lr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new wn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:i})}catch(s){if(W(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:o,access_token:s,nonce:i}=e,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,o,s,i;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await bn(this.storage,this.storageKey));const{error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new gi("You must provide either an email or phone number.")}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:yt});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(W(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,n,o;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await bn(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:R1})}catch(s){if(W(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ur;const{error:o}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(W(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:o,options:s}=e,{error:i}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:o,options:s}=e,{data:i,error:a}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new gi("You must provide either an email or phone number and a type")}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Wl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await zr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Hl()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yr}):await this._useSession(async r=>{var n,o,s;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ur}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=i.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:yr})})}catch(r){if(W(r))return i1(r)&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:o,error:s}=n;if(s)throw s;if(!o.session)throw new ur;const i=o.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await bn(this.storage,this.storageKey));const{data:c,error:u}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:yr});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ur;const r=Date.now()/1e3;let n=r,o=!0,s=null;const{payload:i}=Kl(e.access_token);if(i.exp&&(n=i.exp,o=n<=r),o){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(W(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ur;const{data:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ge())throw new yi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new up("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new up("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:s,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!i||!c)throw new yi("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=On&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const b=f-d;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,u);const{data:v,error:_}=await this._getUser(s);if(_)throw _;const w={provider_token:n,provider_refresh_token:o,access_token:s,expires_in:d,expires_at:f,refresh_token:i,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(W(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await zr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:s}=r;if(s)return{error:s};const i=(n=o.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(s1(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=p1(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,o;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await bn(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(W(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:o}=await this._useSession(async s=>{var i,a,l,c,u;const{data:d,error:f}=s;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(o)throw o;return Ge()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(W(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:o,data:{session:s}}=r;if(o)throw o;const{options:i,provider:a,token:l,access_token:c,nonce:u}=e,d=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:yt}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new wn}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:h})}catch(o){if(W(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,o;const{data:s,error:i}=r;if(i)throw i;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await v1(async o=>(o>0&&await y1(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),(o,s)=>{const i=200*Math.pow(2,o);return s&&Vl(s)&&Date.now()+i-n<On})}catch(n){if(this._debug(r,"error",n),W(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ge()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await zr(this.storage,this.storageKey);if(o&&this.userStorage){let i=await zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:o.user},await Rn(this.userStorage,this.storageKey+"-user",i)),o.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Hl()}else if(o&&!o.user&&!o.user){const i=await zr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(o.user=i.user,await lr(this.storage,this.storageKey+"-user"),await Rn(this.storage,this.storageKey,o)):o.user=Hl()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wl;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Wl}s`),s){if(this.autoRefreshToken&&o.refresh_token){const{error:i}=await this._callRefreshToken(o.refresh_token);i&&(console.error(i),Vl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(o.access_token);!a&&(i!=null&&i.user)?(o.user=i.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Qa;const{data:s,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!s.session)throw new ur;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(o,"error",s),W(s)){const i={data:null,error:s};return Vl(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,n=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Rn(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const s=mp(o);await Rn(this.storage,this.storageKey,s)}else{const o=mp(r);await Rn(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await lr(this.storage,this.storageKey),await lr(this.storage,this.storageKey+"-code-verifier"),await lr(this.storage,this.storageKey+"-user"),this.userStorage&&await lr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),On);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-e)/On);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${On}ms, refresh threshold is ${vu} ticks`),o<=vu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Dv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await bn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});o.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);o.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;return s?{data:null,error:s}:await V(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,o;const{data:s,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((o=l==null?void 0:l.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;if(s)return{data:null,error:s};const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?q1(e.webauthn.credential_response):G1(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:s}=r;if(s)return{data:null,error:s};const i=await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:K1(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:H1(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Kl(o.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+n1>o)return n;const{data:s,error:i}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:b}=await this.getSession();if(b||!h.session)return{data:null,error:b};n=h.session.access_token}const{header:o,payload:s,signature:i,raw:{header:a,payload:l}}=Kl(n);r!=null&&r.allowExpired||E1(s.exp);const c=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:s,header:o,signature:i},error:null}}const u=T1(o.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,i,f1(`${a}.${l}`)))throw new _u("Invalid JWT signature");return{data:{claims:s,header:o,signature:i},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}}Ts.nextInstanceID=0;const nT=Ts;class oT extends nT{constructor(e){super(e)}}class sT{constructor(e,r,n){var o,s,i;this.supabaseUrl=e,this.supabaseKey=r;const a=ZE(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:VE,realtime:HE,auth:Object.assign(Object.assign({},KE),{storageKey:l}),global:WE},u=XE(n??{},c);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=JE(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new QS(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new FE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new KS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oT({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new gE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iT=(t,e,r)=>new sT(t,e,r);function aT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}aT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function lT(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Array(12).fill(0);let xu=1;class cT{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...o}=e,s=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:xu++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...o,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let s=n!==void 0,i;const a=o.then(async c=>{if(i=["resolve",c],Ce.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(dT(c)&&!c.ok){s=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description,b=typeof d=="object"&&!Ce.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...b})}else if(c instanceof Error){s=!1;const d=typeof r.error=="function"?await r.error(c):r.error,f=typeof r.description=="function"?await r.description(c):r.description,b=typeof d=="object"&&!Ce.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...b})}else if(r.success!==void 0){s=!1;const d=typeof r.success=="function"?await r.success(c):r.success,f=typeof r.description=="function"?await r.description(c):r.description,b=typeof d=="object"&&!Ce.isValidElement(d)?d:{message:d};this.create({id:n,type:"success",description:f,...b})}}).catch(async c=>{if(i=["reject",c],r.error!==void 0){s=!1;const u=typeof r.error=="function"?await r.error(c):r.error,d=typeof r.description=="function"?await r.description(c):r.description,h=typeof u=="object"&&!Ce.isValidElement(u)?u:{message:u};this.create({id:n,type:"error",description:d,...h})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||xu++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ot=new cT,uT=(t,e)=>{const r=(e==null?void 0:e.id)||xu++;return ot.addToast({title:t,...e,id:r}),r},dT=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fT=uT,hT=()=>ot.toasts,pT=()=>ot.getActiveToasts(),xp=Object.assign(fT,{success:ot.success,info:ot.info,warning:ot.warning,error:ot.error,custom:ot.custom,message:ot.message,promise:ot.promise,dismiss:ot.dismiss,loading:ot.loading},{getHistory:hT,getToasts:pT});lT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const mT="https://ftdrzbbbolueyabofatb.supabase.co",gT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ0ZHJ6YmJib2x1ZXlhYm9mYXRiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0OTI3ODgsImV4cCI6MjA4MDA2ODc4OH0.z7cRgiDMPTGt3hRKJSk7VPNr35Uz-sfENKFDi2oFAm8";let kp=!1;const yT=async(t,e)=>{let r=String(t);const n=new URL(r),o=String(n.hostname);!o.includes("backend.")&&!o.includes(".supabase.co")&&(r=n.pathname+n.search,/((bce|console).*.baidu.*\.com)$|(\.)?miaoda\.(cn|io)$/.test(document.location.hostname)||(r=r.replace(/(\/miaoda([-_\w]+)?)(\/(backend|supabase))/,"$1/runtime$3")));let s=await fetch(r,e);try{const i=await s.clone().arrayBuffer(),a=new Response(i,s);if(!s.ok){let l;try{l=await a.json()}catch{l={message:"",status:s.status}}let c=l.message||l.msg||"";if(l.code==="SupabaseNotReady"&&!kp){kp=!0;try{typeof xp=="function"?xp(c):alert(c)}catch{alert(c)}}}}catch{}return s},P=iT(mT,gT,{global:{fetch:yT},auth:{storageKey:"app-7wraacwkpcld-auth-token"}}),Gt={async getProfile(t){const{data:e,error:r}=await P.from("profiles").select("*").eq("id",t).maybeSingle();if(r)throw r;return e},async updateProfile(t,e){const{data:r,error:n}=await P.from("profiles").update(e).eq("id",t).select().maybeSingle();if(n)throw n;if(!r)throw new Error("Profile not found");return r},async getProfileByPhone(t){const{data:e,error:r}=await P.from("profiles").select("*").eq("phone",t).maybeSingle();if(r)throw r;return e},async getAllProfiles(){const{data:t,error:e}=await P.from("profiles").select("*").order("created_at",{ascending:!1});if(e)throw e;return Array.isArray(t)?t:[]}},Nt={async getAccounts(t){const{data:e,error:r}=await P.from("accounts").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return Array.isArray(e)?e:[]},async getAccountById(t){const{data:e,error:r}=await P.from("accounts").select("*").eq("id",t).maybeSingle();if(r)throw r;return e},async getAccountWithInterestHistory(t){const{data:e,error:r}=await P.from("accounts").select("*").eq("id",t).maybeSingle();if(r)throw r;if(!e)return null;const{data:n,error:o}=await P.from("interest_rate_history").select("*").eq("account_id",t).order("effective_date",{ascending:!1});if(o)throw o;return{...e,interest_history:Array.isArray(n)?n:[]}},async createAccount(t){const e={...t,balance:t.balance||0,currency:t.currency||"INR"},{data:r,error:n}=await P.from("accounts").insert(e).select().maybeSingle();if(n)throw n;if(!r)throw new Error("Failed to create account");return r},async updateAccount(t,e){const r={...e,updated_at:new Date().toISOString()},{data:n,error:o}=await P.from("accounts").update(r).eq("id",t).select().maybeSingle();if(o)throw o;if(!n)throw new Error("Account not found");return n},async deleteAccount(t){const{error:e}=await P.from("accounts").delete().eq("id",t);if(e)throw e},async getFinancialSummary(t){const e=await this.getAccounts(t),r=e.filter(f=>f.account_type==="cash"),n=e.filter(f=>f.account_type==="bank"),o=e.filter(f=>f.account_type==="credit_card"),s=e.filter(f=>f.account_type==="loan"),i=r.reduce((f,h)=>f+Number(h.balance),0),a=n.reduce((f,h)=>f+Number(h.balance),0),l=i+a,c=Math.abs(o.reduce((f,h)=>f+Number(h.balance),0)),u=l,d=l-c;return{total_assets:l,total_liabilities:c,liquid_assets:u,working_capital:d,accounts_by_type:{cash:r,bank:n,credit_card:o,loan:s}}},async getLoanWithCalculations(t){const{data:e,error:r}=await P.rpc("get_loan_details_with_calculations",{p_account_id:t});if(r)throw r;return Array.isArray(e)&&e.length>0?e[0]:null},async calculateLoanEMI(t,e,r){const{data:n,error:o}=await P.rpc("calculate_loan_emi",{p_principal:t,p_annual_rate:e,p_tenure_months:r});if(o)throw o;return n||0},async calculateLoanAccruedInterest(t){const{data:e,error:r}=await P.rpc("calculate_loan_accrued_interest",{p_account_id:t});if(r)throw r;return e||0}},vT={async getInterestRates(t){let e=P.from("interest_rate_history").select("*, accounts!inner(user_id)").order("effective_date",{ascending:!1});t&&(e=e.eq("accounts.user_id",t));const{data:r,error:n}=await e;if(n)throw n;return Array.isArray(r)?r:[]},async getInterestRateHistory(t){const{data:e,error:r}=await P.from("interest_rate_history").select("*").eq("account_id",t).order("effective_date",{ascending:!1});if(r)throw r;return Array.isArray(e)?e:[]},async addInterestRate(t){const{data:e,error:r}=await P.from("interest_rate_history").insert(t).select().maybeSingle();if(r)throw r;if(!e)throw new Error("Failed to add interest rate");return e},async createInterestRate(t){return vT.addInterestRate(t)},async deleteInterestRate(t){const{error:e}=await P.from("interest_rate_history").delete().eq("id",t);if(e)throw e}},Sp={async getTransactions(t,e){let r=P.from("transactions").select("*").eq("user_id",t).order("transaction_date",{ascending:!1}).order("created_at",{ascending:!1});e&&(r=r.limit(e));const{data:n,error:o}=await r;if(o)throw o;return Array.isArray(n)?n:[]},async getTransactionsByDateRange(t,e,r){const{data:n,error:o}=await P.from("transactions").select("*").eq("user_id",t).gte("transaction_date",e).lte("transaction_date",r).order("transaction_date",{ascending:!1});if(o)throw o;return Array.isArray(n)?n:[]},async getTransactionsByCategory(t,e){const{data:r,error:n}=await P.from("transactions").select("*").eq("user_id",t).eq("category",e).order("transaction_date",{ascending:!1});if(n)throw n;return Array.isArray(r)?r:[]},async getTransactionsByAccount(t,e){const{data:r,error:n}=await P.from("transactions").select("*").eq("user_id",t).eq("account_id",e).order("transaction_date",{ascending:!1});if(n)throw n;return Array.isArray(r)?r:[]},async createTransaction(t){const e={...t,currency:t.currency||"INR"},{data:r,error:n}=await P.from("transactions").insert(e).select().maybeSingle();if(n)throw n;if(!r)throw new Error("Failed to create transaction");return await this.updateAccountBalances(t),r},async updateTransaction(t,e){const{data:r}=await P.from("transactions").select("*").eq("id",t).maybeSingle(),n={...e,updated_at:new Date().toISOString()},{data:o,error:s}=await P.from("transactions").update(n).eq("id",t).select().maybeSingle();if(s)throw s;if(!o)throw new Error("Transaction not found");return r&&(await this.reverseAccountBalances(r),await this.updateAccountBalances(o)),o},async deleteTransaction(t){const{data:e}=await P.from("transactions").select("*").eq("id",t).maybeSingle(),{error:r}=await P.from("transactions").delete().eq("id",t);if(r)throw r;e&&await this.reverseAccountBalances(e)},async updateAccountBalances(t){const e=Number(t.amount);switch(t.transaction_type){case"income":t.to_account_id&&await this.adjustBalance(t.to_account_id,e);break;case"expense":if(t.from_account_id){const r=await Nt.getAccountById(t.from_account_id);(r==null?void 0:r.account_type)==="credit_card"?await this.adjustBalance(t.from_account_id,e):await this.adjustBalance(t.from_account_id,-e)}break;case"withdrawal":if(t.from_account_id){const r=await Nt.getAccountById(t.from_account_id);(r==null?void 0:r.account_type)==="credit_card"?await this.adjustBalance(t.from_account_id,e):await this.adjustBalance(t.from_account_id,-e)}t.to_account_id&&await this.adjustBalance(t.to_account_id,e);break;case"transfer":if(t.from_account_id){const r=await Nt.getAccountById(t.from_account_id);(r==null?void 0:r.account_type)==="credit_card"?await this.adjustBalance(t.from_account_id,e):await this.adjustBalance(t.from_account_id,-e)}if(t.to_account_id){const r=await Nt.getAccountById(t.to_account_id);(r==null?void 0:r.account_type)==="credit_card"?await this.adjustBalance(t.to_account_id,-e):await this.adjustBalance(t.to_account_id,e)}break;case"loan_payment":t.from_account_id&&await this.adjustBalance(t.from_account_id,-e),t.to_account_id&&await this.adjustBalance(t.to_account_id,-e);break;case"credit_card_repayment":t.from_account_id&&await this.adjustBalance(t.from_account_id,-e),t.to_account_id&&await this.adjustBalance(t.to_account_id,-e);break}},async reverseAccountBalances(t){const e=Number(t.amount);switch(t.transaction_type){case"income":t.to_account_id&&await this.adjustBalance(t.to_account_id,-e);break;case"expense":if(t.from_account_id){const r=await Nt.getAccountById(t.from_account_id);(r==null?void 0:r.account_type)==="credit_card"?await this.adjustBalance(t.from_account_id,-e):await this.adjustBalance(t.from_account_id,e)}break;case"withdrawal":if(t.from_account_id){const r=await Nt.getAccountById(t.from_account_id);(r==null?void 0:r.account_type)==="credit_card"?await this.adjustBalance(t.from_account_id,-e):await this.adjustBalance(t.from_account_id,e)}t.to_account_id&&await this.adjustBalance(t.to_account_id,-e);break;case"transfer":if(t.from_account_id){const r=await Nt.getAccountById(t.from_account_id);(r==null?void 0:r.account_type)==="credit_card"?await this.adjustBalance(t.from_account_id,-e):await this.adjustBalance(t.from_account_id,e)}if(t.to_account_id){const r=await Nt.getAccountById(t.to_account_id);(r==null?void 0:r.account_type)==="credit_card"?await this.adjustBalance(t.to_account_id,e):await this.adjustBalance(t.to_account_id,-e)}break;case"loan_payment":t.from_account_id&&await this.adjustBalance(t.from_account_id,e),t.to_account_id&&await this.adjustBalance(t.to_account_id,e);break;case"credit_card_repayment":t.from_account_id&&await this.adjustBalance(t.from_account_id,e),t.to_account_id&&await this.adjustBalance(t.to_account_id,e);break}},async adjustBalance(t,e){const r=await Nt.getAccountById(t);if(!r)return;const n=Number(r.balance)+e;await Nt.updateAccount(t,{balance:n})}},tR={async getBudget(t,e,r){const{data:n,error:o}=await P.from("budgets").select("*").eq("user_id",t).eq("month",e).eq("year",r).maybeSingle();if(o)throw o;return n},async getBudgets(t){const{data:e,error:r}=await P.from("budgets").select("*").eq("user_id",t).order("year",{ascending:!1}).order("month",{ascending:!1});if(r)throw r;return Array.isArray(e)?e:[]},async createOrUpdateBudget(t){const e=await this.getBudget(t.user_id,t.month,t.year);if(e){const{data:r,error:n}=await P.from("budgets").update({...t,updated_at:new Date().toISOString()}).eq("id",e.id).select().maybeSingle();if(n)throw n;if(!r)throw new Error("Failed to update budget");return r}else{const{data:r,error:n}=await P.from("budgets").insert({...t,currency:t.currency||"INR",budgeted_income:t.budgeted_income||0,budgeted_expenses:t.budgeted_expenses||0,category_budgets:t.category_budgets||{},income_category_budgets:t.income_category_budgets||{}}).select().maybeSingle();if(n)throw n;if(!r)throw new Error("Failed to create budget");return r}},async deleteBudget(t){const{error:e}=await P.from("budgets").delete().eq("id",t);if(e)throw e},async getBudgetAnalysis(t,e,r){const n=await this.getBudget(t,e,r);if(!n)return null;const o=`${r}-${String(e).padStart(2,"0")}-01`,s=new Date(r,e,0).getDate(),i=`${r}-${String(e).padStart(2,"0")}-${String(s).padStart(2,"0")}`,a=await Sp.getTransactionsByDateRange(t,o,i),l=a.filter(p=>p.transaction_type==="income").reduce((p,y)=>p+Number(y.amount),0),c=a.filter(p=>p.transaction_type==="expense"||p.transaction_type==="loan_payment").reduce((p,y)=>p+Number(y.amount),0),u=await Ep.getCategories(t),d=new Map(u.map(p=>[p.id,p.name])),f={};for(const[p,y]of Object.entries(n.category_budgets)){const x=d.get(p);if(!x)continue;const k=a.filter(S=>S.category===x&&(S.transaction_type==="expense"||S.transaction_type==="loan_payment")).reduce((S,E)=>S+Number(E.amount),0);f[p]={budgeted:Number(y),actual:k,variance:Number(y)-k}}const h={salaries:{budgeted:0,actual:0,variance:0},allowances:{budgeted:0,actual:0,variance:0},family_income:{budgeted:0,actual:0,variance:0},others:{budgeted:0,actual:0,variance:0}},b=a.filter(p=>p.transaction_type==="income"),v={};for(const p of b)p.income_category&&(v[p.income_category]=(v[p.income_category]||0)+Number(p.amount));const _=Object.values(v).reduce((p,y)=>p+y,0),w=l-_;if(n.income_category_budgets){const p=n.income_category_budgets,y=Object.values(p).reduce((x,k)=>x+Number(k),0);for(const[x,k]of Object.entries(p))if(x in h){const S=x,E=Number(k);let T=v[S]||0;if(w>0&&y>0){const R=E/y;T+=w*R}h[S]={budgeted:E,actual:T,variance:T-E}}}return{budget:n,actual_income:l,actual_expenses:c,income_variance:l-Number(n.budgeted_income),expense_variance:Number(n.budgeted_expenses)-c,category_analysis:f,income_category_analysis:h}},async getCategoryBudgetInfo(t,e,r,n){const o=await this.getBudget(t,r,n);if(!o)return null;const i=(await Ep.getCategories(t)).find(h=>h.name===e);if(!i)return null;const a=Number(o.category_budgets[i.id]||0);if(a===0)return null;const l=`${n}-${String(r).padStart(2,"0")}-01`,c=new Date(n,r,0).getDate(),u=`${n}-${String(r).padStart(2,"0")}-${String(c).padStart(2,"0")}`,f=(await Sp.getTransactionsByDateRange(t,l,u)).filter(h=>h.category===e&&(h.transaction_type==="expense"||h.transaction_type==="loan_payment")).reduce((h,b)=>h+Number(b.amount),0);return{budgeted:a,spent:f,remaining:a-f}}},Ep={async getCategories(t){let e=P.from("expense_categories").select("*").order("is_system",{ascending:!1}).order("name",{ascending:!0});t?e=e.or(`is_system.eq.true,user_id.eq.${t}`):e=e.eq("is_system",!0);const{data:r,error:n}=await e;if(n)throw n;return Array.isArray(r)?r:[]},async createCategory(t){const{data:e,error:r}=await P.from("expense_categories").insert({...t,icon:t.icon||"",color:t.color||"#6B7280",is_system:!1}).select().maybeSingle();if(r)throw r;if(!e)throw new Error("Failed to create category");return e},async deleteCategory(t){const{error:e}=await P.from("expense_categories").delete().eq("id",t);if(e)throw e}},rR={async getEMIsByAccount(t){const{data:e,error:r}=await P.from("emi_transactions").select("*").eq("account_id",t).order("created_at",{ascending:!1});if(r)throw r;return Array.isArray(e)?e:[]},async getEMIByTransactionId(t){const{data:e,error:r}=await P.from("emi_transactions").select("*").eq("transaction_id",t).maybeSingle();if(r)throw r;return e},async getActiveEMIsByAccount(t){const{data:e,error:r}=await P.from("emi_transactions").select("*").eq("account_id",t).eq("status","active").order("next_due_date",{ascending:!0});if(r)throw r;return Array.isArray(e)?e:[]},async getEMIsByUser(t){const{data:e,error:r}=await P.from("emi_transactions").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return Array.isArray(e)?e:[]},async createEMI(t){const{data:e,error:r}=await P.from("emi_transactions").insert(t).select().maybeSingle();if(r)throw r;if(!e)throw new Error("Failed to create EMI transaction");return e},async updateEMI(t,e){const{data:r,error:n}=await P.from("emi_transactions").update(e).eq("id",t).select().maybeSingle();if(n)throw n;if(!r)throw new Error("Failed to update EMI transaction");return r},async deleteEMI(t){const{error:e}=await P.from("emi_transactions").delete().eq("id",t);if(e)throw e},async payEMIInstallment(t){const{data:e,error:r}=await P.from("emi_transactions").select("*").eq("id",t).maybeSingle();if(r)throw r;if(!e)throw new Error("EMI transaction not found");const n=e.remaining_installments-1,o=n===0?"completed":"active",s=n>0?new Date(new Date(e.next_due_date).setMonth(new Date(e.next_due_date).getMonth()+1)).toISOString().split("T")[0]:e.next_due_date,{data:i,error:a}=await P.from("emi_transactions").update({remaining_installments:n,next_due_date:s,status:o}).eq("id",t).select().maybeSingle();if(a)throw a;if(!i)throw new Error("Failed to update EMI installment");return i},async cancelEMI(t){return this.updateEMI(t,{status:"cancelled"})}},wT={async getLoanEMIPayments(t){let e=P.from("loan_emi_payments").select("*").order("payment_date",{ascending:!1});t&&(e=e.eq("user_id",t));const{data:r,error:n}=await e;if(n)throw n;return Array.isArray(r)?r:[]},async getPaymentsByAccount(t){const{data:e,error:r}=await P.from("loan_emi_payments").select("*").eq("account_id",t).order("payment_number",{ascending:!0});if(r)throw r;return Array.isArray(e)?e:[]},async getPaymentsByUser(t){const{data:e,error:r}=await P.from("loan_emi_payments").select("*").eq("user_id",t).order("payment_date",{ascending:!1});if(r)throw r;return Array.isArray(e)?e:[]},async createPayment(t){const{data:e,error:r}=await P.from("loan_emi_payments").insert(t).select().maybeSingle();if(r)throw r;if(!e)throw new Error("Failed to create loan EMI payment");return e},async createLoanEMIPayment(t){return wT.createPayment(t)},async createBulkPayments(t){const{data:e,error:r}=await P.from("loan_emi_payments").insert(t).select();if(r)throw r;return Array.isArray(e)?e:[]},async updatePayment(t,e){const{data:r,error:n}=await P.from("loan_emi_payments").update(e).eq("id",t).select().maybeSingle();if(n)throw n;if(!r)throw new Error("Failed to update loan EMI payment");return r},async deletePayment(t){const{error:e}=await P.from("loan_emi_payments").delete().eq("id",t);if(e)throw e},async deletePaymentsByAccount(t){const{error:e}=await P.from("loan_emi_payments").delete().eq("account_id",t);if(e)throw e},async getTotalPrincipalPaid(t){const{data:e,error:r}=await P.rpc("get_total_principal_paid",{p_account_id:t});if(r)throw r;return e||0},async getTotalInterestPaid(t){const{data:e,error:r}=await P.rpc("get_total_interest_paid",{p_account_id:t});if(r)throw r;return e||0},async getLatestOutstandingPrincipal(t){const{data:e,error:r}=await P.rpc("get_latest_outstanding_principal",{p_account_id:t});if(r)throw r;return e||0},async getNextPaymentNumber(t){const{data:e,error:r}=await P.rpc("get_next_payment_number",{p_account_id:t});if(r)throw r;return e||1}},nR={async getCustomLink(t,e){const{data:r,error:n}=await P.from("custom_bank_links").select("*").eq("user_id",t).eq("account_id",e).maybeSingle();if(n)throw n;return r},async getAllCustomLinks(t){const{data:e,error:r}=await P.from("custom_bank_links").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return Array.isArray(e)?e:[]},async createCustomLink(t){const{data:e,error:r}=await P.from("custom_bank_links").insert(t).select().single();if(r)throw r;return e},async updateCustomLink(t,e){const{data:r,error:n}=await P.from("custom_bank_links").update(e).eq("id",t).select().single();if(n)throw n;return r},async deleteCustomLink(t){const{error:e}=await P.from("custom_bank_links").delete().eq("id",t);if(e)throw e}},oR={async getAllBankLinks(){const{data:t,error:e}=await P.from("bank_links").select("*").eq("is_active",!0).order("country",{ascending:!0}).order("bank_name",{ascending:!0});if(e)throw e;return Array.isArray(t)?t:[]},async getBankLinksByCountry(t){const{data:e,error:r}=await P.from("bank_links").select("*").eq("country",t).eq("is_active",!0).order("bank_name",{ascending:!0});if(r)throw r;return Array.isArray(e)?e:[]},async searchBankLinks(t){const{data:e,error:r}=await P.from("bank_links").select("*").ilike("bank_name",`%${t}%`).eq("is_active",!0).order("bank_name",{ascending:!0});if(r)throw r;return Array.isArray(e)?e:[]},async getBankLinkByName(t,e){let r=P.from("bank_links").select("*").eq("bank_name",t).eq("is_active",!0);e&&(r=r.eq("country",e));const{data:n,error:o}=await r.maybeSingle();if(o)throw o;return n},async createBankLink(t){const{data:e,error:r}=await P.from("bank_links").insert(t).select().single();if(r)throw r;return e},async updateBankLink(t,e){const{data:r,error:n}=await P.from("bank_links").update(e).eq("id",t).select().single();if(n)throw n;return r},async deleteBankLink(t){const{error:e}=await P.from("bank_links").delete().eq("id",t);if(e)throw e}},sR={async getUserCustomBankLinks(t){const{data:e,error:r}=await P.from("user_custom_bank_links").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return Array.isArray(e)?e:[]},async getCustomBankLinksByAccount(t){const{data:e,error:r}=await P.from("user_custom_bank_links").select("*").eq("account_id",t).order("created_at",{ascending:!1});if(r)throw r;return Array.isArray(e)?e:[]},async createCustomBankLink(t){const{data:e,error:r}=await P.from("user_custom_bank_links").insert(t).select().single();if(r)throw r;return e},async updateCustomBankLink(t,e){const{data:r,error:n}=await P.from("user_custom_bank_links").update(e).eq("id",t).select().single();if(n)throw n;return r},async deleteCustomBankLink(t){const{error:e}=await P.from("user_custom_bank_links").delete().eq("id",t);if(e)throw e}},bT=1,_T=1e6;let Gl=0;function xT(){return Gl=(Gl+1)%Number.MAX_SAFE_INTEGER,Gl.toString()}const Jl=new Map,Tp=t=>{if(Jl.has(t))return;const e=setTimeout(()=>{Jl.delete(t),ns({type:"REMOVE_TOAST",toastId:t})},_T);Jl.set(t,e)},kT=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,bT)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Tp(r):t.toasts.forEach(n=>{Tp(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Bi=[];let Wi={toasts:[]};function ns(t){Wi=kT(Wi,t),Bi.forEach(e=>{e(Wi)})}function ST({...t}){const e=xT(),r=o=>ns({type:"UPDATE_TOAST",toast:{...o,id:e}}),n=()=>ns({type:"DISMISS_TOAST",toastId:e});return ns({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:o=>{o||n()}}}),{id:e,dismiss:n,update:r}}function yn(){const[t,e]=g.useState(Wi);return g.useEffect(()=>(Bi.push(e),()=>{const r=Bi.indexOf(e);r>-1&&Bi.splice(r,1)}),[t]),{...t,toast:ST,dismiss:r=>ns({type:"DISMISS_TOAST",toastId:r})}}const An={domain:"dev-qap6fi05a7ifozzw.us.auth0.com",clientId:"RyAOVR5V8cuhx4c1awrxOllZMo6GcQda",authorizationParams:{redirect_uri:typeof window<"u"?window.location.origin:"",audience:"NHv7Gb6E9JmFZ-E86Iz3Tadh2Gebh8GxaEBIqOIcurqHvffceJCBmgnP5d-AiWxD",scope:"openid profile email"},cacheLocation:"localstorage",useRefreshTokens:!0},Uv=()=>!!An.clientId,kt={algorithm:"AES-GCM",keyLength:256,ivLength:12,saltLength:16,pbkdf2Iterations:1e5,tagLength:128};function ET(){return crypto.getRandomValues(new Uint8Array(kt.saltLength))}function Fv(t){const e=new Uint8Array(t);let r="";for(let n=0;n<e.byteLength;n++)r+=String.fromCharCode(e[n]);return btoa(r)}function zv(t){const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}async function Cp(t,e){const n=new TextEncoder().encode(t),o=await crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveBits","deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:kt.pbkdf2Iterations,hash:"SHA-256"},o,{name:kt.algorithm,length:kt.keyLength},!1,["encrypt","decrypt"])}async function Bv(t,e){if(!t)return"";try{const r=crypto.getRandomValues(new Uint8Array(kt.ivLength)),o=new TextEncoder().encode(t),s=await crypto.subtle.encrypt({name:kt.algorithm,iv:r,tagLength:kt.tagLength},e,o),i=new Uint8Array(r.length+s.byteLength);return i.set(r,0),i.set(new Uint8Array(s),r.length),Fv(i.buffer)}catch(r){throw console.error("Encryption error:",r),new Error("Failed to encrypt data")}}async function Wv(t,e){if(!t)return"";try{const r=zv(t),n=r.slice(0,kt.ivLength),o=r.slice(kt.ivLength),s=await crypto.subtle.decrypt({name:kt.algorithm,iv:n,tagLength:kt.tagLength},e,o.buffer);return new TextDecoder().decode(s)}catch(r){throw console.error("Decryption error:",r),new Error("Failed to decrypt data - invalid key or corrupted data")}}async function Vv(t,e,r){const n={...t};for(const o of r){const s=t[o];if(s!=null){const i=typeof s=="string"?s:JSON.stringify(s);n[o]=await Bv(i,e)}}return n}async function Kv(t,e,r,n){const o={...t};for(const s of r){const i=t[s];if(i&&typeof i=="string")try{const a=await Wv(i,e);if(n&&n[s]){const l=n[s];l==="number"?o[s]=parseFloat(a):l==="boolean"?o[s]=a==="true":l==="object"?o[s]=JSON.parse(a):o[s]=a}else o[s]=a}catch(a){console.error(`Failed to decrypt field ${String(s)}:`,a)}}return o}async function TT(t,e,r){return Promise.all(t.map(n=>Vv(n,e,r)))}async function CT(t,e,r,n){return Promise.all(t.map(o=>Kv(o,e,r,n)))}const Hv=g.createContext(void 0);function PT({children:t}){const[e,r]=g.useState(null),n=g.useCallback(async(h,b)=>{try{const v=zv(b),_=await Cp(h,v);r(_)}catch(v){throw console.error("Failed to initialize encryption key:",v),new Error("Failed to initialize encryption")}},[]),o=g.useCallback(async h=>{try{const b=ET(),v=await Cp(h,b);return r(v),Fv(b.buffer)}catch(b){throw console.error("Failed to create encryption key:",b),new Error("Failed to create encryption key")}},[]),s=g.useCallback(()=>{r(null)},[]),i=g.useCallback(async h=>{if(!e)throw new Error("Encryption key not initialized");return Bv(h,e)},[e]),a=g.useCallback(async h=>{if(!e)throw new Error("Encryption key not initialized");return Wv(h,e)},[e]),l=g.useCallback(async(h,b)=>{if(!e)throw new Error("Encryption key not initialized");return Vv(h,e,b)},[e]),c=g.useCallback(async(h,b,v)=>{if(!e)throw new Error("Encryption key not initialized");return Kv(h,e,b,v)},[e]),u=g.useCallback(async(h,b)=>{if(!e)throw new Error("Encryption key not initialized");return TT(h,e,b)},[e]),d=g.useCallback(async(h,b,v)=>{if(!e)throw new Error("Encryption key not initialized");return CT(h,e,b,v)},[e]),f={isKeyReady:e!==null,initializeKey:n,createNewKey:o,clearKey:s,encrypt:i,decrypt:a,encryptObject:l,decryptObject:c,encryptArray:u,decryptArray:d};return m.jsx(Hv.Provider,{value:f,children:t})}function qv(){const t=g.useContext(Hv);if(t===void 0)throw new Error("useEncryption must be used within EncryptionProvider");return t}const Gv=g.createContext(void 0);function jT({children:t}){const{toast:e}=yn(),r=qv(),o=Uv()?$S():{user:null,isAuthenticated:!1,isLoading:!1,loginWithRedirect:async()=>{},logout:async()=>{},getAccessTokenSilently:async()=>""},{user:s,isAuthenticated:i,isLoading:a,loginWithRedirect:l,logout:c,getAccessTokenSilently:u}=o,[d,f]=g.useState(null),[h,b]=g.useState(null),[v,_]=g.useState(!0),[w,p]=g.useState(null),y=g.useCallback(async F=>{var I;try{const{data:O,error:A}=await P.from("profiles").select("*").eq("email",F.email).maybeSingle();if(A&&A.code!=="PGRST116"){console.error("Error fetching profile:",A);return}if(O)O.auth0_sub||await P.from("profiles").update({auth0_sub:F.sub}).eq("id",O.id),b(O);else{const{data:B,error:D}=await P.from("profiles").insert({email:F.email,nickname:F.name||((I=F.email)==null?void 0:I.split("@")[0]),auth0_sub:F.sub,default_country:"US",default_currency:"USD"}).select().single();if(D){console.error("Error creating profile:",D),e({title:"Error",description:"Failed to create user profile",variant:"destructive"});return}b(B)}}catch(O){console.error("Error syncing Auth0 user:",O)}},[e]),x=g.useCallback(async()=>{if(d)try{let F=null;if(w==="auth0"&&d.email){const{data:I}=await P.from("profiles").select("*").eq("email",d.email).maybeSingle();F=I}else w==="supabase"&&d.id&&(F=await Gt.getProfile(d.id));b(F)}catch(F){console.error("Error fetching profile:",F)}},[d,w]),k=g.useCallback(async()=>{try{await l({authorizationParams:{connection:"google-oauth2",prompt:"select_account"}})}catch(F){console.error("Google login error:",F),e({title:"Error",description:"Failed to sign in with Google",variant:"destructive"})}},[l,e]),S=g.useCallback(async()=>{try{await l({authorizationParams:{connection:"apple"}})}catch(F){console.error("Apple login error:",F),e({title:"Error",description:"Failed to sign in with Apple",variant:"destructive"})}},[l,e]),E=g.useCallback(async(F,I)=>{try{const{data:O,error:A}=await P.auth.signInWithPassword({email:F,password:I});if(A)throw A.message.includes("Email not confirmed")?new Error("Please verify your email address before signing in. Check your inbox for the confirmation link."):A.message.includes("Invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):A;if(!O.user)throw new Error("No user data returned");if(!O.user.email_confirmed_at&&O.user.confirmed_at===null)throw new Error("Please verify your email address before signing in. Check your inbox for the confirmation link.");f(O.user),p("supabase");const B=await Gt.getProfile(O.user.id);if(B){if(b(B),B.encryption_salt)try{await r.initializeKey(I,B.encryption_salt)}catch(D){console.error("Failed to initialize encryption:",D),e({title:"Warning",description:"Failed to initialize encryption. Some data may not be accessible.",variant:"destructive"})}}else throw new Error("Failed to load user profile");e({title:"Success",description:"Signed in successfully"})}catch(O){throw console.error("Email login error:",O),e({title:"Error",description:O.message||"Failed to sign in",variant:"destructive"}),O}},[e]),T=g.useCallback(async(F,I)=>{try{const{data:O,error:A}=await P.auth.signUp({email:F,password:I,options:{emailRedirectTo:`${window.location.origin}/confirm-email`}});if(A)throw A;if(O.user&&O.user.identities&&O.user.identities.length===0)throw e({title:"Account Already Exists",description:"This email is already registered. Please login instead.",variant:"destructive"}),new Error("Email already registered");if(O.user&&O.session){const{data:B}=await P.from("profiles").select("*").eq("id",O.user.id).maybeSingle();if(!B){const{count:q}=await P.from("profiles").select("*",{count:"exact",head:!0}),C=q===0?"admin":"user";await P.from("profiles").insert({id:O.user.id,email:O.user.email,phone:O.user.phone,role:C})}const D=await Gt.getProfile(O.user.id);b(D),f(O.user),p("supabase"),e({title:"Success",description:"Account created successfully! Redirecting to dashboard..."}),setTimeout(()=>{window.location.href="/dashboard"},1e3)}else e({title:"Success",description:"Account created! Please check your email to verify your account."})}catch(O){throw console.error("Email signup error:",O),e({title:"Error",description:O.message||"Failed to create account",variant:"destructive"}),O}},[e]),R=g.useCallback(async()=>{try{w==="auth0"?await c({logoutParams:{returnTo:window.location.origin}}):w==="supabase"&&await P.auth.signOut(),f(null),b(null),p(null),r.clearKey(),e({title:"Signed out",description:"You have been signed out successfully"})}catch(F){console.error("Sign out error:",F),e({title:"Error",description:"Failed to sign out",variant:"destructive"})}},[w,c,e]);g.useEffect(()=>{a||(async()=>{try{if(i&&s){f(s),p("auth0"),_(!1),y(s).then(()=>{});return}const{data:{session:I}}=await P.auth.getSession();I!=null&&I.user?(f(I.user),p("supabase"),_(!1),Gt.getProfile(I.user.id).then(async O=>{O&&b(O)})):_(!1)}catch(I){console.error("Auth initialization error:",I),_(!1)}})()},[i,s,a]),g.useEffect(()=>{const{data:{subscription:F}}=P.auth.onAuthStateChange(async(I,O)=>{O!=null&&O.user&&!i?(f(O.user),p("supabase"),Gt.getProfile(O.user.id).then(async A=>{A&&b(A)})):!(O!=null&&O.user)&&!i&&(f(null),b(null),p(null))});return()=>{F.unsubscribe()}},[i]);const N={user:d,profile:h,loading:v||a,loginWithGoogle:k,loginWithApple:S,loginWithEmail:E,signUpWithEmail:T,signOut:R,refreshProfile:x,authProvider:w};return m.jsx(Gv.Provider,{value:N,children:t})}function Qd(){const t=g.useContext(Gv);if(t===void 0)throw new Error("useHybridAuth must be used within a HybridAuthProvider");return t}const Jv=g.createContext(void 0);function OT({children:t}){const[e,r]=g.useState(()=>localStorage.getItem("theme")||"light"),[n,o]=g.useState("light");g.useEffect(()=>{const i=window.document.documentElement,a=()=>{let l="light";e==="system"?l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":l=e,i.classList.remove("light","dark"),i.classList.add(l),o(l)};if(a(),e==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>a();return l.addEventListener("change",c),()=>l.removeEventListener("change",c)}},[e]);const s=i=>{localStorage.setItem("theme",i),r(i)};return m.jsx(Jv.Provider,{value:{theme:e,setTheme:s,actualTheme:n},children:t})}function iR(){const t=g.useContext(Jv);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function Z(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t==null||t(o),r===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Pp(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Yv(...t){return e=>{let r=!1;const n=t.map(o=>{const s=Pp(o,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let o=0;o<n.length;o++){const s=n[o];typeof s=="function"?s():Pp(t[o],null)}}}}function mt(...t){return g.useCallback(Yv(...t),t)}function RT(t,e){const r=g.createContext(e),n=s=>{const{children:i,...a}=s,l=g.useMemo(()=>a,Object.values(a));return m.jsx(r.Provider,{value:l,children:i})};n.displayName=t+"Provider";function o(s){const i=g.useContext(r);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,o]}function $s(t,e=[]){let r=[];function n(s,i){const a=g.createContext(i),l=r.length;r=[...r,i];const c=d=>{var w;const{scope:f,children:h,...b}=d,v=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,_=g.useMemo(()=>b,Object.values(b));return m.jsx(v.Provider,{value:_,children:h})};c.displayName=s+"Provider";function u(d,f){var v;const h=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,b=g.useContext(h);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const o=()=>{const s=r.map(i=>g.createContext(i));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return o.scopeName=t,[n,AT(o,...e)]}function AT(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function Cs(t){const e=NT(t),r=g.forwardRef((n,o)=>{const{children:s,...i}=n,a=g.Children.toArray(s),l=a.find(LT);if(l){const c=l.props.children,u=a.map(d=>d===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:d);return m.jsx(e,{...i,ref:o,children:g.isValidElement(c)?g.cloneElement(c,void 0,u):null})}return m.jsx(e,{...i,ref:o,children:s})});return r.displayName=`${t}.Slot`,r}var IT=Cs("Slot");function NT(t){const e=g.forwardRef((r,n)=>{const{children:o,...s}=r;if(g.isValidElement(o)){const i=$T(o),a=DT(s,o.props);return o.type!==g.Fragment&&(a.ref=n?Yv(n,i):i),g.cloneElement(o,a)}return g.Children.count(o)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Xv=Symbol("radix.slottable");function aR(t){const e=({children:r})=>m.jsx(m.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Xv,e}function LT(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Xv}function DT(t,e){const r={...e};for(const n in e){const o=t[n],s=e[n];/^on[A-Z]/.test(n)?o&&s?r[n]=(...a)=>{const l=s(...a);return o(...a),l}:o&&(r[n]=o):n==="style"?r[n]={...o,...s}:n==="className"&&(r[n]=[o,s].filter(Boolean).join(" "))}return{...t,...r}}function $T(t){var n,o;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Zv(t){const e=t+"CollectionProvider",[r,n]=$s(e),[o,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:_,children:w}=v,p=Ce.useRef(null),y=Ce.useRef(new Map).current;return m.jsx(o,{scope:_,itemMap:y,collectionRef:p,children:w})};i.displayName=e;const a=t+"CollectionSlot",l=Cs(a),c=Ce.forwardRef((v,_)=>{const{scope:w,children:p}=v,y=s(a,w),x=mt(_,y.collectionRef);return m.jsx(l,{ref:x,children:p})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=Cs(u),h=Ce.forwardRef((v,_)=>{const{scope:w,children:p,...y}=v,x=Ce.useRef(null),k=mt(_,x),S=s(u,w);return Ce.useEffect(()=>(S.itemMap.set(x,{ref:x,...y}),()=>void S.itemMap.delete(x))),m.jsx(f,{[d]:"",ref:k,children:p})});h.displayName=u;function b(v){const _=s(t+"CollectionConsumer",v);return Ce.useCallback(()=>{const p=_.collectionRef.current;if(!p)return[];const y=Array.from(p.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((S,E)=>y.indexOf(S.ref.current)-y.indexOf(E.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},b,n]}var MT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pe=MT.reduce((t,e)=>{const r=Cs(`Primitive.${e}`),n=g.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Qv(t,e){t&&qa.flushSync(()=>t.dispatchEvent(e))}function Bt(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function UT(t,e=globalThis==null?void 0:globalThis.document){const r=Bt(t);g.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var FT="DismissableLayer",ku="dismissableLayer.update",zT="dismissableLayer.pointerDownOutside",BT="dismissableLayer.focusOutside",jp,ew=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ef=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=t,c=g.useContext(ew),[u,d]=g.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=g.useState({}),b=mt(e,E=>d(E)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(_),p=u?v.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,x=p>=w,k=VT(E=>{const T=E.target,R=[...c.branches].some(N=>N.contains(T));!x||R||(o==null||o(E),i==null||i(E),E.defaultPrevented||a==null||a())},f),S=KT(E=>{const T=E.target;[...c.branches].some(N=>N.contains(T))||(s==null||s(E),i==null||i(E),E.defaultPrevented||a==null||a())},f);return UT(E=>{p===c.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),g.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(jp=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Op(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=jp)}},[u,f,r,c]),g.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Op())},[u,c]),g.useEffect(()=>{const E=()=>h({});return document.addEventListener(ku,E),()=>document.removeEventListener(ku,E)},[]),m.jsx(pe.div,{...l,ref:b,style:{pointerEvents:y?x?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,k.onPointerDownCapture)})});ef.displayName=FT;var WT="DismissableLayerBranch",tw=g.forwardRef((t,e)=>{const r=g.useContext(ew),n=g.useRef(null),o=mt(e,n);return g.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),m.jsx(pe.div,{...t,ref:o})});tw.displayName=WT;function VT(t,e=globalThis==null?void 0:globalThis.document){const r=Bt(t),n=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let l=function(){rw(zT,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",s),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function KT(t,e=globalThis==null?void 0:globalThis.document){const r=Bt(t),n=g.useRef(!1);return g.useEffect(()=>{const o=s=>{s.target&&!n.current&&rw(BT,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Op(){const t=new CustomEvent(ku);document.dispatchEvent(t)}function rw(t,e,r,{discrete:n}){const o=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?Qv(o,s):o.dispatchEvent(s)}var HT=ef,qT=tw,po=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},GT="Portal",tf=g.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[o,s]=g.useState(!1);po(()=>s(!0),[]);const i=r||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?bx.createPortal(m.jsx(pe.div,{...n,ref:e}),i):null});tf.displayName=GT;function JT(t,e){return g.useReducer((r,n)=>e[r][n]??r,t)}var ko=t=>{const{present:e,children:r}=t,n=YT(e),o=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),s=mt(n.ref,XT(o));return typeof r=="function"||n.isPresent?g.cloneElement(o,{ref:s}):null};ko.displayName="Presence";function YT(t){const[e,r]=g.useState(),n=g.useRef(null),o=g.useRef(t),s=g.useRef("none"),i=t?"mounted":"unmounted",[a,l]=JT(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=vi(n.current);s.current=a==="mounted"?c:"none"},[a]),po(()=>{const c=n.current,u=o.current;if(u!==t){const f=s.current,h=vi(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,l]),po(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=h=>{const v=vi(n.current).includes(CSS.escape(h.animationName));if(h.target===e&&v&&(l("ANIMATION_END"),!o.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},f=h=>{h.target===e&&(s.current=vi(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function vi(t){return(t==null?void 0:t.animationName)||"none"}function XT(t){var n,o;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var ZT=dm[" useInsertionEffect ".trim().toString()]||po;function el({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[o,s,i]=QT({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:o;{const u=g.useRef(t!==void 0);g.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,n])}const c=g.useCallback(u=>{var d;if(a){const f=eC(u)?u(t):u;f!==t&&((d=i.current)==null||d.call(i,f))}else s(u)},[a,t,s,i]);return[l,c]}function QT({defaultProp:t,onChange:e}){const[r,n]=g.useState(t),o=g.useRef(r),s=g.useRef(e);return ZT(()=>{s.current=e},[e]),g.useEffect(()=>{var i;o.current!==r&&((i=s.current)==null||i.call(s,r),o.current=r)},[r,o]),[r,n,s]}function eC(t){return typeof t=="function"}var tC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rC="VisuallyHidden",rf=g.forwardRef((t,e)=>m.jsx(pe.span,{...t,ref:e,style:{...tC,...t.style}}));rf.displayName=rC;var nf="ToastProvider",[of,nC,oC]=Zv("Toast"),[nw,lR]=$s("Toast",[oC]),[sC,tl]=nw(nf),ow=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=t,[a,l]=g.useState(null),[c,u]=g.useState(0),d=g.useRef(!1),f=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${nf}\`. Expected non-empty \`string\`.`),m.jsx(of.Provider,{scope:e,children:m.jsx(sC,{scope:e,label:r,duration:n,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>u(h=>h+1),[]),onToastRemove:g.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:i})})};ow.displayName=nf;var sw="ToastViewport",iC=["F8"],Su="toast.viewportPause",Eu="toast.viewportResume",iw=g.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=iC,label:o="Notifications ({hotkey})",...s}=t,i=tl(sw,r),a=nC(r),l=g.useRef(null),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=mt(e,d,i.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;g.useEffect(()=>{const _=w=>{var y;n.length!==0&&n.every(x=>w[x]||w.code===x)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),g.useEffect(()=>{const _=l.current,w=d.current;if(b&&_&&w){const p=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(Su);w.dispatchEvent(S),i.isClosePausedRef.current=!0}},y=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(Eu);w.dispatchEvent(S),i.isClosePausedRef.current=!1}},x=S=>{!_.contains(S.relatedTarget)&&y()},k=()=>{_.contains(document.activeElement)||y()};return _.addEventListener("focusin",p),_.addEventListener("focusout",x),_.addEventListener("pointermove",p),_.addEventListener("pointerleave",k),window.addEventListener("blur",p),window.addEventListener("focus",y),()=>{_.removeEventListener("focusin",p),_.removeEventListener("focusout",x),_.removeEventListener("pointermove",p),_.removeEventListener("pointerleave",k),window.removeEventListener("blur",p),window.removeEventListener("focus",y)}}},[b,i.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:_})=>{const p=a().map(y=>{const x=y.ref.current,k=[x,...wC(x)];return _==="forwards"?k:k.reverse()});return(_==="forwards"?p.reverse():p).flat()},[a]);return g.useEffect(()=>{const _=d.current;if(_){const w=p=>{var k,S,E;const y=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!y){const T=document.activeElement,R=p.shiftKey;if(p.target===_&&R){(k=c.current)==null||k.focus();return}const I=v({tabbingDirection:R?"backwards":"forwards"}),O=I.findIndex(A=>A===T);Yl(I.slice(O+1))?p.preventDefault():R?(S=c.current)==null||S.focus():(E=u.current)==null||E.focus()}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[a,v]),m.jsxs(qT,{ref:l,role:"region","aria-label":o.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&m.jsx(Tu,{ref:c,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});Yl(_)}}),m.jsx(of.Slot,{scope:r,children:m.jsx(pe.ol,{tabIndex:-1,...s,ref:f})}),b&&m.jsx(Tu,{ref:u,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});Yl(_)}})]})});iw.displayName=sw;var aw="ToastFocusProxy",Tu=g.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=t,s=tl(aw,r);return m.jsx(rf,{tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&n()}})});Tu.displayName=aw;var Ms="Toast",aC="toast.swipeStart",lC="toast.swipeMove",cC="toast.swipeCancel",uC="toast.swipeEnd",lw=g.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:s,...i}=t,[a,l]=el({prop:n,defaultProp:o??!0,onChange:s,caller:Ms});return m.jsx(ko,{present:r||a,children:m.jsx(hC,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:Bt(t.onPause),onResume:Bt(t.onResume),onSwipeStart:Z(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Z(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});lw.displayName=Ms;var[dC,fC]=nw(Ms,{onClose(){}}),hC=g.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...b}=t,v=tl(Ms,r),[_,w]=g.useState(null),p=mt(e,A=>w(A)),y=g.useRef(null),x=g.useRef(null),k=o||v.duration,S=g.useRef(0),E=g.useRef(k),T=g.useRef(0),{onToastAdd:R,onToastRemove:N}=v,F=Bt(()=>{var B;(_==null?void 0:_.contains(document.activeElement))&&((B=v.viewport)==null||B.focus()),i()}),I=g.useCallback(A=>{!A||A===1/0||(window.clearTimeout(T.current),S.current=new Date().getTime(),T.current=window.setTimeout(F,A))},[F]);g.useEffect(()=>{const A=v.viewport;if(A){const B=()=>{I(E.current),c==null||c()},D=()=>{const q=new Date().getTime()-S.current;E.current=E.current-q,window.clearTimeout(T.current),l==null||l()};return A.addEventListener(Su,D),A.addEventListener(Eu,B),()=>{A.removeEventListener(Su,D),A.removeEventListener(Eu,B)}}},[v.viewport,k,l,c,I]),g.useEffect(()=>{s&&!v.isClosePausedRef.current&&I(k)},[s,k,v.isClosePausedRef,I]),g.useEffect(()=>(R(),()=>N()),[R,N]);const O=g.useMemo(()=>_?mw(_):null,[_]);return v.viewport?m.jsxs(m.Fragment,{children:[O&&m.jsx(pC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:O}),m.jsx(dC,{scope:r,onClose:F,children:qa.createPortal(m.jsx(of.ItemSlot,{scope:r,children:m.jsx(HT,{asChild:!0,onEscapeKeyDown:Z(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||F(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(pe.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Z(t.onKeyDown,A=>{A.key==="Escape"&&(a==null||a(A.nativeEvent),A.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Z(t.onPointerDown,A=>{A.button===0&&(y.current={x:A.clientX,y:A.clientY})}),onPointerMove:Z(t.onPointerMove,A=>{if(!y.current)return;const B=A.clientX-y.current.x,D=A.clientY-y.current.y,q=!!x.current,C=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,K=C?z(0,B):0,Q=C?0:z(0,D),ee=A.pointerType==="touch"?10:2,ne={x:K,y:Q},ie={originalEvent:A,delta:ne};q?(x.current=ne,wi(lC,d,ie,{discrete:!1})):Rp(ne,v.swipeDirection,ee)?(x.current=ne,wi(aC,u,ie,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(B)>ee||Math.abs(D)>ee)&&(y.current=null)}),onPointerUp:Z(t.onPointerUp,A=>{const B=x.current,D=A.target;if(D.hasPointerCapture(A.pointerId)&&D.releasePointerCapture(A.pointerId),x.current=null,y.current=null,B){const q=A.currentTarget,C={originalEvent:A,delta:B};Rp(B,v.swipeDirection,v.swipeThreshold)?wi(uC,h,C,{discrete:!0}):wi(cC,f,C,{discrete:!0}),q.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),pC=t=>{const{__scopeToast:e,children:r,...n}=t,o=tl(Ms,e),[s,i]=g.useState(!1),[a,l]=g.useState(!1);return yC(()=>i(!0)),g.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:m.jsx(tf,{asChild:!0,children:m.jsx(rf,{...n,children:s&&m.jsxs(m.Fragment,{children:[o.label," ",r]})})})},mC="ToastTitle",cw=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(pe.div,{...n,ref:e})});cw.displayName=mC;var gC="ToastDescription",uw=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(pe.div,{...n,ref:e})});uw.displayName=gC;var dw="ToastAction",fw=g.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?m.jsx(pw,{altText:r,asChild:!0,children:m.jsx(sf,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${dw}\`. Expected non-empty \`string\`.`),null)});fw.displayName=dw;var hw="ToastClose",sf=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,o=fC(hw,r);return m.jsx(pw,{asChild:!0,children:m.jsx(pe.button,{type:"button",...n,ref:e,onClick:Z(t.onClick,o.onClose)})})});sf.displayName=hw;var pw=g.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...o}=t;return m.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:e})});function mw(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),vC(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...mw(n))}}),e}function wi(t,e,r,{discrete:n}){const o=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?Qv(o,s):o.dispatchEvent(s)}var Rp=(t,e,r=0)=>{const n=Math.abs(t.x),o=Math.abs(t.y),s=n>o;return e==="left"||e==="right"?s&&n>r:!s&&o>r};function yC(t=()=>{}){const e=Bt(t);po(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function vC(t){return t.nodeType===t.ELEMENT_NODE}function wC(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Yl(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var bC=ow,gw=iw,yw=lw,vw=cw,ww=uw,bw=fw,_w=sf;function xw(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=xw(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function kw(){for(var t,e,r=0,n="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=xw(t))&&(n&&(n+=" "),n+=e);return n}const Ap=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ip=kw,rl=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Ip(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:s}=e,i=Object.keys(o).map(c=>{const u=r==null?void 0:r[c],d=s==null?void 0:s[c];if(u===null)return null;const f=Ap(u)||Ap(d);return o[c][f]}),a=r&&Object.entries(r).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(b=>{let[v,_]=b;return Array.isArray(_)?_.includes({...s,...a}[v]):{...s,...a}[v]===_})?[...c,d,f]:c},[]);return Ip(t,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Np=t=>{const e=xC(t);return e.charAt(0).toUpperCase()+e.slice(1)},Sw=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),kC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:s,iconNode:i,...a},l)=>g.createElement("svg",{ref:l,...SC,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Sw("lucide",o),...!s&&!kC(a)&&{"aria-hidden":"true"},...a},[...i.map(([c,u])=>g.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(t,e)=>{const r=g.forwardRef(({className:n,...o},s)=>g.createElement(EC,{ref:s,iconNode:e,className:Sw(`lucide-${_C(Np(t))}`,`lucide-${t}`,n),...o}));return r.displayName=Np(t),r};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ew=Ot("circle-alert",TC);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qn=Ot("circle-check",CC);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],jC=Ot("circle-x",PC);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tt=Ot("loader-circle",OC);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Lp=Ot("log-out",RC);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Tw=Ot("mail",AC);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],NC=Ot("menu",IC);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],af=Ot("phone",LC);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$C=Ot("shield",DC);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],UC=Ot("wallet",MC);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lf=Ot("x",FC),cf="-",zC=t=>{const e=WC(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const a=i.split(cf);return a[0]===""&&a.length!==1&&a.shift(),Cw(a,e)||BC(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&n[i]?[...l,...n[i]]:l}}},Cw=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),o=n?Cw(t.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const s=t.join(cf);return(i=e.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},Dp=/^\[(.+)\]$/,BC=t=>{if(Dp.test(t)){const e=Dp.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},WC=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const o in r)Cu(r[o],n,o,e);return n},Cu=(t,e,r,n)=>{t.forEach(o=>{if(typeof o=="string"){const s=o===""?e:$p(e,o);s.classGroupId=r;return}if(typeof o=="function"){if(VC(o)){Cu(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([s,i])=>{Cu(i,$p(e,s),r,n)})})},$p=(t,e)=>{let r=t;return e.split(cf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},VC=t=>t.isThemeGetter,KC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const o=(s,i)=>{r.set(s,i),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return o(s,i),i},set(s,i){r.has(s)?r.set(s,i):o(s,i)}}},Pu="!",ju=":",HC=ju.length,qC=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=o=>{const s=[];let i=0,a=0,l=0,c;for(let b=0;b<o.length;b++){let v=o[b];if(i===0&&a===0){if(v===ju){s.push(o.slice(l,b)),l=b+HC;continue}if(v==="/"){c=b;continue}}v==="["?i++:v==="]"?i--:v==="("?a++:v===")"&&a--}const u=s.length===0?o:o.substring(l),d=GC(u),f=d!==u,h=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}};if(e){const o=e+ju,s=n;n=i=>i.startsWith(o)?s(i.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(r){const o=n;n=s=>r({className:s,parseClassName:o})}return n},GC=t=>t.endsWith(Pu)?t.substring(0,t.length-1):t.startsWith(Pu)?t.substring(1):t,JC=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const o=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(o.push(...s.sort(),i),s=[]):s.push(i)}),o.push(...s.sort()),o}},YC=t=>({cache:KC(t.cacheSize),parseClassName:qC(t),sortModifiers:JC(t),...zC(t)}),XC=/\s+/,ZC=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:s}=e,i=[],a=t.trim().split(XC);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:f,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:v}=r(u);if(d){l=u+(l.length>0?" "+l:l);continue}let _=!!v,w=n(_?b.substring(0,v):b);if(!w){if(!_){l=u+(l.length>0?" "+l:l);continue}if(w=n(b),!w){l=u+(l.length>0?" "+l:l);continue}_=!1}const p=s(f).join(":"),y=h?p+Pu:p,x=y+w;if(i.includes(x))continue;i.push(x);const k=o(w,_);for(let S=0;S<k.length;++S){const E=k[S];i.push(y+E)}l=u+(l.length>0?" "+l:l)}return l};function QC(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Pw(e))&&(n&&(n+=" "),n+=r);return n}const Pw=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Pw(t[n]))&&(r&&(r+=" "),r+=e);return r};function eP(t,...e){let r,n,o,s=i;function i(l){const c=e.reduce((u,d)=>d(u),t());return r=YC(c),n=r.cache.get,o=r.cache.set,s=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=ZC(l,r);return o(l,u),u}return function(){return s(QC.apply(null,arguments))}}const be=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},jw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ow=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tP=/^\d+\/\d+$/,rP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,sP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sn=t=>tP.test(t),H=t=>!!t&&!Number.isNaN(Number(t)),cr=t=>!!t&&Number.isInteger(Number(t)),Xl=t=>t.endsWith("%")&&H(t.slice(0,-1)),Vt=t=>rP.test(t),aP=()=>!0,lP=t=>nP.test(t)&&!oP.test(t),Rw=()=>!1,cP=t=>sP.test(t),uP=t=>iP.test(t),dP=t=>!$(t)&&!M(t),fP=t=>So(t,Nw,Rw),$=t=>jw.test(t),Br=t=>So(t,Lw,lP),Zl=t=>So(t,yP,H),Mp=t=>So(t,Aw,Rw),hP=t=>So(t,Iw,uP),bi=t=>So(t,Dw,cP),M=t=>Ow.test(t),$o=t=>Eo(t,Lw),pP=t=>Eo(t,vP),Up=t=>Eo(t,Aw),mP=t=>Eo(t,Nw),gP=t=>Eo(t,Iw),_i=t=>Eo(t,Dw,!0),So=(t,e,r)=>{const n=jw.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},Eo=(t,e,r=!1)=>{const n=Ow.exec(t);return n?n[1]?e(n[1]):r:!1},Aw=t=>t==="position"||t==="percentage",Iw=t=>t==="image"||t==="url",Nw=t=>t==="length"||t==="size"||t==="bg-size",Lw=t=>t==="length",yP=t=>t==="number",vP=t=>t==="family-name",Dw=t=>t==="shadow",wP=()=>{const t=be("color"),e=be("font"),r=be("text"),n=be("font-weight"),o=be("tracking"),s=be("leading"),i=be("breakpoint"),a=be("container"),l=be("spacing"),c=be("radius"),u=be("shadow"),d=be("inset-shadow"),f=be("text-shadow"),h=be("drop-shadow"),b=be("blur"),v=be("perspective"),_=be("aspect"),w=be("ease"),p=be("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...x(),M,$],S=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],T=()=>[M,$,l],R=()=>[Sn,"full","auto",...T()],N=()=>[cr,"none","subgrid",M,$],F=()=>["auto",{span:["full",cr,M,$]},cr,M,$],I=()=>[cr,"auto",M,$],O=()=>["auto","min","max","fr",M,$],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],B=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...T()],q=()=>[Sn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],C=()=>[t,M,$],z=()=>[...x(),Up,Mp,{position:[M,$]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",mP,fP,{size:[M,$]}],ee=()=>[Xl,$o,Br],ne=()=>["","none","full",c,M,$],ie=()=>["",H,$o,Br],ir=()=>["solid","dashed","dotted","double"],At=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[H,Xl,Up,Mp],wf=()=>["","none",b,M,$],Fs=()=>["none",H,M,$],zs=()=>["none",H,M,$],il=()=>[H,M,$],Bs=()=>[Sn,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vt],breakpoint:[Vt],color:[aP],container:[Vt],"drop-shadow":[Vt],ease:["in","out","in-out"],font:[dP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vt],shadow:[Vt],spacing:["px",H],text:[Vt],"text-shadow":[Vt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Sn,$,M,_]}],container:["container"],columns:[{columns:[H,$,M,a]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[cr,"auto",M,$]}],basis:[{basis:[Sn,"full","auto",a,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[H,Sn,"auto","initial","none",$]}],grow:[{grow:["",H,M,$]}],shrink:[{shrink:["",H,M,$]}],order:[{order:[cr,"first","last","none",M,$]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...B(),"normal"]}],"justify-self":[{"justify-self":["auto",...B()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...B(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...B(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...B(),"baseline"]}],"place-self":[{"place-self":["auto",...B()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[a,"screen",...q()]}],"min-w":[{"min-w":[a,"screen","none",...q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,$o,Br]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,M,Zl]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xl,$]}],"font-family":[{font:[pP,$,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,M,$]}],"line-clamp":[{"line-clamp":[H,"none",M,Zl]}],leading:[{leading:[s,...T()]}],"list-image":[{"list-image":["none",M,$]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",M,$]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ir(),"wavy"]}],"text-decoration-thickness":[{decoration:[H,"from-font","auto",M,Br]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[H,"auto",M,$]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",M,$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",M,$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cr,M,$],radial:["",M,$],conic:[cr,M,$]},gP,hP]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ir(),"hidden","none"]}],"divide-style":[{divide:[...ir(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...ir(),"none","hidden"]}],"outline-offset":[{"outline-offset":[H,M,$]}],"outline-w":[{outline:["",H,$o,Br]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,_i,bi]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",d,_i,bi]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[H,Br]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",f,_i,bi]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[H,M,$]}],"mix-blend":[{"mix-blend":[...At(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":At()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[H]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[M,$]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[H]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",M,$]}],filter:[{filter:["","none",M,$]}],blur:[{blur:wf()}],brightness:[{brightness:[H,M,$]}],contrast:[{contrast:[H,M,$]}],"drop-shadow":[{"drop-shadow":["","none",h,_i,bi]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",H,M,$]}],"hue-rotate":[{"hue-rotate":[H,M,$]}],invert:[{invert:["",H,M,$]}],saturate:[{saturate:[H,M,$]}],sepia:[{sepia:["",H,M,$]}],"backdrop-filter":[{"backdrop-filter":["","none",M,$]}],"backdrop-blur":[{"backdrop-blur":wf()}],"backdrop-brightness":[{"backdrop-brightness":[H,M,$]}],"backdrop-contrast":[{"backdrop-contrast":[H,M,$]}],"backdrop-grayscale":[{"backdrop-grayscale":["",H,M,$]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[H,M,$]}],"backdrop-invert":[{"backdrop-invert":["",H,M,$]}],"backdrop-opacity":[{"backdrop-opacity":[H,M,$]}],"backdrop-saturate":[{"backdrop-saturate":[H,M,$]}],"backdrop-sepia":[{"backdrop-sepia":["",H,M,$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",M,$]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[H,"initial",M,$]}],ease:[{ease:["linear","initial",w,M,$]}],delay:[{delay:[H,M,$]}],animate:[{animate:["none",p,M,$]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,M,$]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Fs()}],"rotate-x":[{"rotate-x":Fs()}],"rotate-y":[{"rotate-y":Fs()}],"rotate-z":[{"rotate-z":Fs()}],scale:[{scale:zs()}],"scale-x":[{"scale-x":zs()}],"scale-y":[{"scale-y":zs()}],"scale-z":[{"scale-z":zs()}],"scale-3d":["scale-3d"],skew:[{skew:il()}],"skew-x":[{"skew-x":il()}],"skew-y":[{"skew-y":il()}],transform:[{transform:[M,$,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Bs()}],"translate-x":[{"translate-x":Bs()}],"translate-y":[{"translate-y":Bs()}],"translate-z":[{"translate-z":Bs()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",M,$]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",M,$]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[H,$o,Br,Zl]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bP=eP(wP);function Y(...t){return bP(kw(t))}const _P=bC,$w=g.forwardRef(({className:t,...e},r)=>m.jsx(gw,{ref:r,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));$w.displayName=gw.displayName;const xP=rl("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Mw=g.forwardRef(({className:t,variant:e,...r},n)=>m.jsx(yw,{ref:n,className:Y(xP({variant:e}),t),...r}));Mw.displayName=yw.displayName;const kP=g.forwardRef(({className:t,...e},r)=>m.jsx(bw,{ref:r,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));kP.displayName=bw.displayName;const Uw=g.forwardRef(({className:t,...e},r)=>m.jsx(_w,{ref:r,className:Y("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(lf,{className:"h-4 w-4"})}));Uw.displayName=_w.displayName;const Fw=g.forwardRef(({className:t,...e},r)=>m.jsx(vw,{ref:r,className:Y("text-sm font-semibold [&+div]:text-xs",t),...e}));Fw.displayName=vw.displayName;const zw=g.forwardRef(({className:t,...e},r)=>m.jsx(ww,{ref:r,className:Y("text-sm opacity-90",t),...e}));zw.displayName=ww.displayName;function SP(){const{toasts:t}=yn();return m.jsxs(_P,{children:[t.map(function({id:e,title:r,description:n,action:o,...s}){return m.jsxs(Mw,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[r&&m.jsx(Fw,{children:r}),n&&m.jsx(zw,{children:n})]}),o,m.jsx(Uw,{})]},e)}),m.jsx($w,{})]})}function En({className:t,...e}){return m.jsx("div",{"data-slot":"skeleton",className:Y("bg-accent animate-pulse rounded-md",t),...e})}const EP=rl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"bg-primary text-primary-foreground shadow hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ke=g.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...o},s)=>{const i=n?IT:"button";return m.jsx(i,{className:Y(EP({variant:e,size:r,className:t})),ref:s,...o})});ke.displayName="Button";var TP=dm[" useId ".trim().toString()]||(()=>{}),CP=0;function os(t){const[e,r]=g.useState(TP());return po(()=>{r(n=>n??String(CP++))},[t]),t||(e?`radix-${e}`:"")}var Ql="focusScope.autoFocusOnMount",ec="focusScope.autoFocusOnUnmount",Fp={bubbles:!1,cancelable:!0},PP="FocusScope",Bw=g.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=t,[a,l]=g.useState(null),c=Bt(o),u=Bt(s),d=g.useRef(null),f=mt(e,v=>l(v)),h=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let v=function(y){if(h.paused||!a)return;const x=y.target;a.contains(x)?d.current=x:dr(d.current,{select:!0})},_=function(y){if(h.paused||!a)return;const x=y.relatedTarget;x!==null&&(a.contains(x)||dr(d.current,{select:!0}))},w=function(y){if(document.activeElement===document.body)for(const k of y)k.removedNodes.length>0&&dr(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const p=new MutationObserver(w);return a&&p.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),p.disconnect()}}},[n,a,h.paused]),g.useEffect(()=>{if(a){Bp.add(h);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(Ql,Fp);a.addEventListener(Ql,c),a.dispatchEvent(w),w.defaultPrevented||(jP(NP(Ww(a)),{select:!0}),document.activeElement===v&&dr(a))}return()=>{a.removeEventListener(Ql,c),setTimeout(()=>{const w=new CustomEvent(ec,Fp);a.addEventListener(ec,u),a.dispatchEvent(w),w.defaultPrevented||dr(v??document.body,{select:!0}),a.removeEventListener(ec,u),Bp.remove(h)},0)}}},[a,c,u,h]);const b=g.useCallback(v=>{if(!r&&!n||h.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(_&&w){const p=v.currentTarget,[y,x]=OP(p);y&&x?!v.shiftKey&&w===x?(v.preventDefault(),r&&dr(y,{select:!0})):v.shiftKey&&w===y&&(v.preventDefault(),r&&dr(x,{select:!0})):w===p&&v.preventDefault()}},[r,n,h.paused]);return m.jsx(pe.div,{tabIndex:-1,...i,ref:f,onKeyDown:b})});Bw.displayName=PP;function jP(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(dr(n,{select:e}),document.activeElement!==r)return}function OP(t){const e=Ww(t),r=zp(e,t),n=zp(e.reverse(),t);return[r,n]}function Ww(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function zp(t,e){for(const r of t)if(!RP(r,{upTo:e}))return r}function RP(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function AP(t){return t instanceof HTMLInputElement&&"select"in t}function dr(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&AP(t)&&e&&t.select()}}var Bp=IP();function IP(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Wp(t,e),t.unshift(e)},remove(e){var r;t=Wp(t,e),(r=t[0])==null||r.resume()}}}function Wp(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function NP(t){return t.filter(e=>e.tagName!=="A")}var tc=0;function LP(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Vp()),document.body.insertAdjacentElement("beforeend",t[1]??Vp()),tc++,()=>{tc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tc--}},[])}function Vp(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vi="right-scroll-bar-position",Ki="width-before-scroll-bar",DP="with-scroll-bars-hidden",$P="--removed-body-scroll-bar-size";function rc(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function MP(t,e){var r=g.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=e,r.facade}var UP=typeof window<"u"?g.useLayoutEffect:g.useEffect,Kp=new WeakMap;function FP(t,e){var r=MP(null,function(n){return t.forEach(function(o){return rc(o,n)})});return UP(function(){var n=Kp.get(r);if(n){var o=new Set(n),s=new Set(t),i=r.current;o.forEach(function(a){s.has(a)||rc(a,null)}),s.forEach(function(a){o.has(a)||rc(a,i)})}Kp.set(r,t)},[t]),r}function zP(t){return t}function BP(t,e){e===void 0&&(e=zP);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var i=e(s,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(s),i=r}var l=function(){var u=i;i=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),r}}}};return o}function WP(t){t===void 0&&(t={});var e=BP(null);return e.options=ct({async:!0,ssr:!1},t),e}var Vw=function(t){var e=t.sideCar,r=Nr(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,ct({},r))};Vw.isSideCarExport=!0;function VP(t,e){return t.useMedium(e),Vw}var Kw=WP(),nc=function(){},nl=g.forwardRef(function(t,e){var r=g.useRef(null),n=g.useState({onScrollCapture:nc,onWheelCapture:nc,onTouchMoveCapture:nc}),o=n[0],s=n[1],i=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noRelative,b=t.noIsolation,v=t.inert,_=t.allowPinchZoom,w=t.as,p=w===void 0?"div":w,y=t.gapMode,x=Nr(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,S=FP([r,e]),E=ct(ct({},x),o);return g.createElement(g.Fragment,null,u&&g.createElement(k,{sideCar:Kw,removeScrollBar:c,shards:d,noRelative:h,noIsolation:b,inert:v,setCallbacks:s,allowPinchZoom:!!_,lockRef:r,gapMode:y}),i?g.cloneElement(g.Children.only(a),ct(ct({},E),{ref:S})):g.createElement(p,ct({},E,{className:l,ref:S}),a))});nl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nl.classNames={fullWidth:Ki,zeroRight:Vi};var KP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HP(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=KP();return e&&t.setAttribute("nonce",e),t}function qP(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function GP(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var JP=function(){var t=0,e=null;return{add:function(r){t==0&&(e=HP())&&(qP(e,r),GP(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},YP=function(){var t=JP();return function(e,r){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Hw=function(){var t=YP(),e=function(r){var n=r.styles,o=r.dynamic;return t(n,o),null};return e},XP={left:0,top:0,right:0,gap:0},oc=function(t){return parseInt(t||"",10)||0},ZP=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[oc(r),oc(n),oc(o)]},QP=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return XP;var e=ZP(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},ej=Hw(),eo="data-scroll-locked",tj=function(t,e,r,n){var o=t.left,s=t.top,i=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(DP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(eo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vi,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Ki,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Vi," .").concat(Vi,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ki," .").concat(Ki,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(eo,`] {
    `).concat($P,": ").concat(a,`px;
  }
`)},Hp=function(){var t=parseInt(document.body.getAttribute(eo)||"0",10);return isFinite(t)?t:0},rj=function(){g.useEffect(function(){return document.body.setAttribute(eo,(Hp()+1).toString()),function(){var t=Hp()-1;t<=0?document.body.removeAttribute(eo):document.body.setAttribute(eo,t.toString())}},[])},nj=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,o=n===void 0?"margin":n;rj();var s=g.useMemo(function(){return QP(o)},[o]);return g.createElement(ej,{styles:tj(s,!e,o,r?"":"!important")})},Ou=!1;if(typeof window<"u")try{var xi=Object.defineProperty({},"passive",{get:function(){return Ou=!0,!0}});window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Ou=!1}var Tn=Ou?{passive:!1}:!1,oj=function(t){return t.tagName==="TEXTAREA"},qw=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!oj(t)&&r[e]==="visible")},sj=function(t){return qw(t,"overflowY")},ij=function(t){return qw(t,"overflowX")},qp=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Gw(t,n);if(o){var s=Jw(t,n),i=s[1],a=s[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},aj=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},lj=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Gw=function(t,e){return t==="v"?sj(e):ij(e)},Jw=function(t,e){return t==="v"?aj(e):lj(e)},cj=function(t,e){return t==="h"&&e==="rtl"?-1:1},uj=function(t,e,r,n,o){var s=cj(t,window.getComputedStyle(e).direction),i=s*n,a=r.target,l=e.contains(a),c=!1,u=i>0,d=0,f=0;do{if(!a)break;var h=Jw(t,a),b=h[0],v=h[1],_=h[2],w=v-_-s*b;(b||w)&&Gw(t,a)&&(d+=w,f+=b);var p=a.parentNode;a=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},ki=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Gp=function(t){return[t.deltaX,t.deltaY]},Jp=function(t){return t&&"current"in t?t.current:t},dj=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fj=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},hj=0,Cn=[];function pj(t){var e=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),o=g.useState(hj++)[0],s=g.useState(Hw)[0],i=g.useRef(t);g.useEffect(function(){i.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var v=Vd([t.lockRef.current],(t.shards||[]).map(Jp),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var w=ki(v),p=r.current,y="deltaX"in v?v.deltaX:p[0]-w[0],x="deltaY"in v?v.deltaY:p[1]-w[1],k,S=v.target,E=Math.abs(y)>Math.abs(x)?"h":"v";if("touches"in v&&E==="h"&&S.type==="range")return!1;var T=qp(E,S);if(!T)return!0;if(T?k=E:(k=E==="v"?"h":"v",T=qp(E,S)),!T)return!1;if(!n.current&&"changedTouches"in v&&(y||x)&&(n.current=k),!k)return!0;var R=n.current||k;return uj(R,_,v,R==="h"?y:x)},[]),l=g.useCallback(function(v){var _=v;if(!(!Cn.length||Cn[Cn.length-1]!==s)){var w="deltaY"in _?Gp(_):ki(_),p=e.current.filter(function(k){return k.name===_.type&&(k.target===_.target||_.target===k.shadowParent)&&dj(k.delta,w)})[0];if(p&&p.should){_.cancelable&&_.preventDefault();return}if(!p){var y=(i.current.shards||[]).map(Jp).filter(Boolean).filter(function(k){return k.contains(_.target)}),x=y.length>0?a(_,y[0]):!i.current.noIsolation;x&&_.cancelable&&_.preventDefault()}}},[]),c=g.useCallback(function(v,_,w,p){var y={name:v,delta:_,target:w,should:p,shadowParent:mj(w)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(x){return x!==y})},1)},[]),u=g.useCallback(function(v){r.current=ki(v),n.current=void 0},[]),d=g.useCallback(function(v){c(v.type,Gp(v),v.target,a(v,t.lockRef.current))},[]),f=g.useCallback(function(v){c(v.type,ki(v),v.target,a(v,t.lockRef.current))},[]);g.useEffect(function(){return Cn.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Tn),document.addEventListener("touchmove",l,Tn),document.addEventListener("touchstart",u,Tn),function(){Cn=Cn.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Tn),document.removeEventListener("touchmove",l,Tn),document.removeEventListener("touchstart",u,Tn)}},[]);var h=t.removeScrollBar,b=t.inert;return g.createElement(g.Fragment,null,b?g.createElement(s,{styles:fj(o)}):null,h?g.createElement(nj,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function mj(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const gj=VP(Kw,pj);var Yw=g.forwardRef(function(t,e){return g.createElement(nl,ct({},t,{ref:e,sideCar:gj}))});Yw.classNames=nl.classNames;var yj=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Pn=new WeakMap,Si=new WeakMap,Ei={},sc=0,Xw=function(t){return t&&(t.host||Xw(t.parentNode))},vj=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Xw(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},wj=function(t,e,r,n){var o=vj(e,Array.isArray(t)?t:[t]);Ei[r]||(Ei[r]=new WeakMap);var s=Ei[r],i=[],a=new Set,l=new Set(o),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};o.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(n),b=h!==null&&h!=="false",v=(Pn.get(f)||0)+1,_=(s.get(f)||0)+1;Pn.set(f,v),s.set(f,_),i.push(f),v===1&&b&&Si.set(f,!0),_===1&&f.setAttribute(r,"true"),b||f.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return u(e),a.clear(),sc++,function(){i.forEach(function(d){var f=Pn.get(d)-1,h=s.get(d)-1;Pn.set(d,f),s.set(d,h),f||(Si.has(d)||d.removeAttribute(n),Si.delete(d)),h||d.removeAttribute(r)}),sc--,sc||(Pn=new WeakMap,Pn=new WeakMap,Si=new WeakMap,Ei={})}},bj=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),o=yj(t);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),wj(n,o,r,"aria-hidden")):function(){return null}},ol="Dialog",[Zw,cR]=$s(ol),[_j,Rt]=Zw(ol),Qw=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:o,onOpenChange:s,modal:i=!0}=t,a=g.useRef(null),l=g.useRef(null),[c,u]=el({prop:n,defaultProp:o??!1,onChange:s,caller:ol});return m.jsx(_j,{scope:e,triggerRef:a,contentRef:l,contentId:os(),titleId:os(),descriptionId:os(),open:c,onOpenChange:u,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),modal:i,children:r})};Qw.displayName=ol;var e0="DialogTrigger",t0=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=Rt(e0,r),s=mt(e,o.triggerRef);return m.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ff(o.open),...n,ref:s,onClick:Z(t.onClick,o.onOpenToggle)})});t0.displayName=e0;var uf="DialogPortal",[xj,r0]=Zw(uf,{forceMount:void 0}),n0=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:o}=t,s=Rt(uf,e);return m.jsx(xj,{scope:e,forceMount:r,children:g.Children.map(n,i=>m.jsx(ko,{present:r||s.open,children:m.jsx(tf,{asChild:!0,container:o,children:i})}))})};n0.displayName=uf;var Ta="DialogOverlay",o0=g.forwardRef((t,e)=>{const r=r0(Ta,t.__scopeDialog),{forceMount:n=r.forceMount,...o}=t,s=Rt(Ta,t.__scopeDialog);return s.modal?m.jsx(ko,{present:n||s.open,children:m.jsx(Sj,{...o,ref:e})}):null});o0.displayName=Ta;var kj=Cs("DialogOverlay.RemoveScroll"),Sj=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=Rt(Ta,r);return m.jsx(Yw,{as:kj,allowPinchZoom:!0,shards:[o.contentRef],children:m.jsx(pe.div,{"data-state":ff(o.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),hn="DialogContent",s0=g.forwardRef((t,e)=>{const r=r0(hn,t.__scopeDialog),{forceMount:n=r.forceMount,...o}=t,s=Rt(hn,t.__scopeDialog);return m.jsx(ko,{present:n||s.open,children:s.modal?m.jsx(Ej,{...o,ref:e}):m.jsx(Tj,{...o,ref:e})})});s0.displayName=hn;var Ej=g.forwardRef((t,e)=>{const r=Rt(hn,t.__scopeDialog),n=g.useRef(null),o=mt(e,r.contentRef,n);return g.useEffect(()=>{const s=n.current;if(s)return bj(s)},[]),m.jsx(i0,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(t.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Z(t.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:Z(t.onFocusOutside,s=>s.preventDefault())})}),Tj=g.forwardRef((t,e)=>{const r=Rt(hn,t.__scopeDialog),n=g.useRef(!1),o=g.useRef(!1);return m.jsx(i0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),i0=g.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=t,a=Rt(hn,r),l=g.useRef(null),c=mt(e,l);return LP(),m.jsxs(m.Fragment,{children:[m.jsx(Bw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:s,children:m.jsx(ef,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ff(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(Cj,{titleId:a.titleId}),m.jsx(jj,{contentRef:l,descriptionId:a.descriptionId})]})]})}),df="DialogTitle",a0=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=Rt(df,r);return m.jsx(pe.h2,{id:o.titleId,...n,ref:e})});a0.displayName=df;var l0="DialogDescription",c0=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=Rt(l0,r);return m.jsx(pe.p,{id:o.descriptionId,...n,ref:e})});c0.displayName=l0;var u0="DialogClose",d0=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,o=Rt(u0,r);return m.jsx(pe.button,{type:"button",...n,ref:e,onClick:Z(t.onClick,()=>o.onOpenChange(!1))})});d0.displayName=u0;function ff(t){return t?"open":"closed"}var f0="DialogTitleWarning",[uR,h0]=RT(f0,{contentName:hn,titleName:df,docsSlug:"dialog"}),Cj=({titleId:t})=>{const e=h0(f0),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Pj="DialogDescriptionWarning",jj=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${h0(Pj).contentName}}.`;return g.useEffect(()=>{var s;const o=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},p0=Qw,m0=t0,g0=n0,hf=o0,pf=s0,mf=a0,gf=c0,y0=d0;const Oj=p0,Rj=m0,Aj=g0,v0=g.forwardRef(({className:t,...e},r)=>m.jsx(hf,{className:Y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));v0.displayName=hf.displayName;const Ij=rl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),w0=g.forwardRef(({side:t="right",className:e,children:r,...n},o)=>m.jsxs(Aj,{children:[m.jsx(v0,{}),m.jsxs(pf,{ref:o,className:Y(Ij({side:t}),e),...n,children:[m.jsxs(y0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[m.jsx(lf,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));w0.displayName=pf.displayName;const Nj=g.forwardRef(({className:t,...e},r)=>m.jsx(mf,{ref:r,className:Y("text-lg font-semibold text-foreground",t),...e}));Nj.displayName=mf.displayName;const Lj=g.forwardRef(({className:t,...e},r)=>m.jsx(gf,{ref:r,className:Y("text-sm text-muted-foreground",t),...e}));Lj.displayName=gf.displayName;function nt({children:t,requireAdmin:e=!1}){const{user:r,profile:n,loading:o}=Qd();return o?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx(Tt,{className:"h-8 w-8 animate-spin text-primary"})}):r?e&&(n==null?void 0:n.role)!=="admin"?m.jsx(ru,{to:"/",replace:!0}):m.jsx(m.Fragment,{children:t}):m.jsx(ru,{to:"/login",replace:!0})}function Ft({className:t,type:e,...r}){return m.jsx("input",{type:e,"data-slot":"input",className:Y("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var Dj="Label",b0=g.forwardRef((t,e)=>m.jsx(pe.label,{...t,ref:e,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));b0.displayName=Dj;var $j=b0;function zt({className:t,...e}){return m.jsx($j,{"data-slot":"label",className:Y("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function sn({className:t,...e}){return m.jsx("div",{"data-slot":"card",className:Y("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",t),...e})}function to({className:t,...e}){return m.jsx("div",{"data-slot":"card-header",className:Y("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function ro({className:t,...e}){return m.jsx("div",{"data-slot":"card-title",className:Y("leading-none font-semibold",t),...e})}function no({className:t,...e}){return m.jsx("div",{"data-slot":"card-description",className:Y("text-muted-foreground text-sm",t),...e})}function an({className:t,...e}){return m.jsx("div",{"data-slot":"card-content",className:Y("px-6",t),...e})}function Hi({className:t,...e}){return m.jsx("div",{"data-slot":"card-footer",className:Y("flex items-center px-6 [.border-t]:pt-6",t),...e})}var Mj=g.createContext(void 0);function _0(t){const e=g.useContext(Mj);return t||e||"ltr"}var ic="rovingFocusGroup.onEntryFocus",Uj={bubbles:!1,cancelable:!0},Us="RovingFocusGroup",[Ru,x0,Fj]=Zv(Us),[zj,k0]=$s(Us,[Fj]),[Bj,Wj]=zj(Us),S0=g.forwardRef((t,e)=>m.jsx(Ru.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Ru.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Vj,{...t,ref:e})})}));S0.displayName=Us;var Vj=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=g.useRef(null),h=mt(e,f),b=_0(s),[v,_]=el({prop:i,defaultProp:a??null,onChange:l,caller:Us}),[w,p]=g.useState(!1),y=Bt(c),x=x0(r),k=g.useRef(!1),[S,E]=g.useState(0);return g.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(ic,y),()=>T.removeEventListener(ic,y)},[y]),m.jsx(Bj,{scope:r,orientation:n,dir:b,loop:o,currentTabStopId:v,onItemFocus:g.useCallback(T=>_(T),[_]),onItemShiftTab:g.useCallback(()=>p(!0),[]),onFocusableItemAdd:g.useCallback(()=>E(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>E(T=>T-1),[]),children:m.jsx(pe.div,{tabIndex:w||S===0?-1:0,"data-orientation":n,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:Z(t.onMouseDown,()=>{k.current=!0}),onFocus:Z(t.onFocus,T=>{const R=!k.current;if(T.target===T.currentTarget&&R&&!w){const N=new CustomEvent(ic,Uj);if(T.currentTarget.dispatchEvent(N),!N.defaultPrevented){const F=x().filter(D=>D.focusable),I=F.find(D=>D.active),O=F.find(D=>D.id===v),B=[I,O,...F].filter(Boolean).map(D=>D.ref.current);C0(B,u)}}k.current=!1}),onBlur:Z(t.onBlur,()=>p(!1))})})}),E0="RovingFocusGroupItem",T0=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:s,children:i,...a}=t,l=os(),c=s||l,u=Wj(E0,r),d=u.currentTabStopId===c,f=x0(r),{onFocusableItemAdd:h,onFocusableItemRemove:b,currentTabStopId:v}=u;return g.useEffect(()=>{if(n)return h(),()=>b()},[n,h,b]),m.jsx(Ru.ItemSlot,{scope:r,id:c,focusable:n,active:o,children:m.jsx(pe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Z(t.onMouseDown,_=>{n?u.onItemFocus(c):_.preventDefault()}),onFocus:Z(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Z(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const w=qj(_,u.orientation,u.dir);if(w!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let y=f().filter(x=>x.focusable).map(x=>x.ref.current);if(w==="last")y.reverse();else if(w==="prev"||w==="next"){w==="prev"&&y.reverse();const x=y.indexOf(_.currentTarget);y=u.loop?Gj(y,x+1):y.slice(x+1)}setTimeout(()=>C0(y))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:v!=null}):i})})});T0.displayName=E0;var Kj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hj(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function qj(t,e,r){const n=Hj(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Kj[n]}function C0(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Gj(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Jj=S0,Yj=T0,sl="Tabs",[Xj,dR]=$s(sl,[k0]),P0=k0(),[Zj,yf]=Xj(sl),j0=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:s,orientation:i="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=_0(a),[d,f]=el({prop:n,onChange:o,defaultProp:s??"",caller:sl});return m.jsx(Zj,{scope:r,baseId:os(),value:d,onValueChange:f,orientation:i,dir:u,activationMode:l,children:m.jsx(pe.div,{dir:u,"data-orientation":i,...c,ref:e})})});j0.displayName=sl;var O0="TabsList",R0=g.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...o}=t,s=yf(O0,r),i=P0(r);return m.jsx(Jj,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:m.jsx(pe.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:e})})});R0.displayName=O0;var A0="TabsTrigger",I0=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...s}=t,i=yf(A0,r),a=P0(r),l=D0(i.baseId,n),c=$0(i.baseId,n),u=n===i.value;return m.jsx(Yj,{asChild:!0,...a,focusable:!o,active:u,children:m.jsx(pe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:l,...s,ref:e,onMouseDown:Z(t.onMouseDown,d=>{!o&&d.button===0&&d.ctrlKey===!1?i.onValueChange(n):d.preventDefault()}),onKeyDown:Z(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(n)}),onFocus:Z(t.onFocus,()=>{const d=i.activationMode!=="manual";!u&&!o&&d&&i.onValueChange(n)})})})});I0.displayName=A0;var N0="TabsContent",L0=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:o,children:s,...i}=t,a=yf(N0,r),l=D0(a.baseId,n),c=$0(a.baseId,n),u=n===a.value,d=g.useRef(u);return g.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),m.jsx(ko,{present:o||u,children:({present:f})=>m.jsx(pe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&s})})});L0.displayName=N0;function D0(t,e){return`${t}-trigger-${e}`}function $0(t,e){return`${t}-content-${e}`}var Qj=j0,eO=R0,tO=I0,rO=L0;function M0({className:t,...e}){return m.jsx(Qj,{"data-slot":"tabs",className:Y("flex flex-col gap-2",t),...e})}function U0({className:t,...e}){return m.jsx(eO,{"data-slot":"tabs-list",className:Y("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function Ca({className:t,...e}){return m.jsx(tO,{"data-slot":"tabs-trigger",className:Y("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Pa({className:t,...e}){return m.jsx(rO,{"data-slot":"tabs-content",className:Y("flex-1 outline-none",t),...e})}function nO({...t}){return m.jsx(p0,{"data-slot":"dialog",...t})}function oO({...t}){return m.jsx(m0,{"data-slot":"dialog-trigger",...t})}function sO({...t}){return m.jsx(g0,{"data-slot":"dialog-portal",...t})}function iO({className:t,...e}){return m.jsx(hf,{"data-slot":"dialog-overlay",className:Y("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function aO({className:t,children:e,...r}){return m.jsxs(sO,{"data-slot":"dialog-portal",children:[m.jsx(iO,{}),m.jsxs(pf,{"data-slot":"dialog-content",className:Y("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,m.jsxs(y0,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[m.jsx(lf,{}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function lO({className:t,...e}){return m.jsx("div",{"data-slot":"dialog-header",className:Y("flex flex-col gap-2 text-center sm:text-left",t),...e})}function cO({className:t,...e}){return m.jsx("div",{"data-slot":"dialog-footer",className:Y("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function uO({className:t,...e}){return m.jsx(mf,{"data-slot":"dialog-title",className:Y("text-lg leading-none font-semibold",t),...e})}function dO({className:t,...e}){return m.jsx(gf,{"data-slot":"dialog-description",className:Y("text-muted-foreground text-sm",t),...e})}const fO=rl("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ja({className:t,variant:e,...r}){return m.jsx("div",{"data-slot":"alert",role:"alert",className:Y(fO({variant:e}),t),...r})}function Oa({className:t,...e}){return m.jsx("div",{"data-slot":"alert-description",className:Y("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}async function hO(t){var e;try{const{data:r,error:n}=await P.functions.invoke("mojoauth-proxy",{body:{action:"send",phone:t}});if(n){const o=await((e=n==null?void 0:n.context)==null?void 0:e.text().catch(()=>n.message));throw console.error("MojoAuth sendOTP error:",o),new Error(o||"Failed to send OTP")}if(!(r!=null&&r.success))throw new Error((r==null?void 0:r.error)||"Failed to send OTP");return r.data}catch(r){throw console.error("MojoAuth sendOTP error:",r),new Error(r.message||"Failed to send OTP. Please try again.")}}async function pO(t,e){var r;try{const{data:n,error:o}=await P.functions.invoke("mojoauth-proxy",{body:{action:"verify",state_id:t,otp:e}});if(o){const s=await((r=o==null?void 0:o.context)==null?void 0:r.text().catch(()=>o.message));throw console.error("MojoAuth verifyOTP error:",s),new Error(s||"Failed to verify OTP")}if(!(n!=null&&n.success))throw new Error((n==null?void 0:n.error)||"Failed to verify OTP");return n.data}catch(n){throw console.error("MojoAuth verifyOTP error:",n),new Error(n.message||"Failed to verify OTP. Please check your code and try again.")}}async function mO(t){var e;try{const{data:r,error:n}=await P.functions.invoke("mojoauth-proxy",{body:{action:"resend",state_id:t}});if(n){const o=await((e=n==null?void 0:n.context)==null?void 0:e.text().catch(()=>n.message));throw console.error("MojoAuth resendOTP error:",o),new Error(o||"Failed to resend OTP")}if(!(r!=null&&r.success))throw new Error((r==null?void 0:r.error)||"Failed to resend OTP");return r.data}catch(r){throw console.error("MojoAuth resendOTP error:",r),new Error(r.message||"Failed to resend OTP. Please try again.")}}function gO(t){return/^\+[1-9]\d{7,14}$/.test(t)}function Yp(t){if(!t)return"";const e=t.replace(/\D/g,"");if(e.length>=10){const r=e.slice(0,-10),n=e.slice(-10,-7),o=e.slice(-7,-4),s=e.slice(-4);return r?`+${r} (${n}) ${o}-${s}`:`(${n}) ${o}-${s}`}return t}function F0({onSuccess:t,onCancel:e}){const{toast:r}=yn(),[n,o]=g.useState("phone"),[s,i]=g.useState(""),[a,l]=g.useState(""),[c,u]=g.useState(""),[d,f]=g.useState(!1),[h,b]=g.useState(!1),[v,_]=g.useState(0),w=()=>{_(60);const S=setInterval(()=>{_(E=>E<=1?(clearInterval(S),0):E-1)},1e3)},p=async S=>{if(S.preventDefault(),!gO(s)){r({title:"Invalid Phone Number",description:"Please enter a valid phone number in international format (e.g., +1234567890)",variant:"destructive"});return}f(!0);try{const E=await hO(s);u(E.state_id),o("otp"),w(),r({title:"OTP Sent",description:`Verification code sent to ${Yp(s)}`})}catch(E){r({title:"Error",description:E.message||"Failed to send OTP",variant:"destructive"})}finally{f(!1)}},y=async S=>{if(S.preventDefault(),a.length<4){r({title:"Invalid OTP",description:"Please enter the complete verification code",variant:"destructive"});return}f(!0);try{const E=await pO(c,a);if(E.authenticated)r({title:"Success",description:"Phone number verified successfully!"}),t(s,E.oauth.access_token);else throw new Error("Verification failed")}catch(E){r({title:"Verification Failed",description:E.message||"Invalid OTP code. Please try again.",variant:"destructive"})}finally{f(!1)}},x=async()=>{if(!(v>0)){b(!0);try{const S=await mO(c);u(S.state_id),w(),r({title:"OTP Resent",description:"A new verification code has been sent"})}catch(S){r({title:"Error",description:S.message||"Failed to resend OTP",variant:"destructive"})}finally{b(!1)}}},k=()=>{o("phone"),l(""),u(""),_(0)};return n==="otp"?m.jsxs("div",{className:"space-y-4 animate-slide-left",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:m.jsx($C,{className:"h-6 w-6 text-primary"})}),m.jsx("h3",{className:"text-lg font-semibold",children:"Verify Your Phone"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Enter the verification code sent to",m.jsx("br",{}),m.jsx("strong",{children:Yp(s)})]})]}),m.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(zt,{htmlFor:"otp",children:"Verification Code"}),m.jsx(Ft,{id:"otp",type:"text",inputMode:"numeric",placeholder:"Enter 6-digit code",value:a,onChange:S=>l(S.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,required:!0,disabled:d,className:"text-center text-2xl tracking-widest",autoFocus:!0})]}),m.jsxs(ja,{children:[m.jsx(Ew,{className:"h-4 w-4"}),m.jsx(Oa,{children:"The verification code will expire in 10 minutes. Please enter it promptly."})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(ke,{type:"button",variant:"outline",onClick:k,disabled:d,className:"flex-1",children:"Back"}),m.jsxs(ke,{type:"submit",disabled:d||a.length<4,className:"flex-1",children:[d&&m.jsx(Tt,{className:"mr-2 h-4 w-4 animate-spin"}),"Verify"]})]}),m.jsx("div",{className:"text-center",children:m.jsx(ke,{type:"button",variant:"link",onClick:x,disabled:v>0||h,className:"text-sm",children:h?m.jsxs(m.Fragment,{children:[m.jsx(Tt,{className:"mr-2 h-4 w-4 animate-spin"}),"Resending..."]}):v>0?`Resend code in ${v}s`:"Resend verification code"})})]})]}):m.jsxs("div",{className:"space-y-4 animate-slide-right",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:m.jsx(af,{className:"h-6 w-6 text-primary"})}),m.jsx("h3",{className:"text-lg font-semibold",children:"Sign Up with Phone"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your phone number to receive a verification code"})]}),m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(zt,{htmlFor:"phone",children:"Phone Number"}),m.jsx(Ft,{id:"phone",type:"tel",placeholder:"+1 234 567 8900",value:s,onChange:S=>i(S.target.value),required:!0,disabled:d}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Include country code (e.g., +1 for US, +91 for India, +44 for UK)"})]}),m.jsxs(ja,{children:[m.jsx(Qn,{className:"h-4 w-4"}),m.jsx(Oa,{children:"We'll send you a one-time verification code via SMS to confirm your phone number."})]}),m.jsxs("div",{className:"flex gap-2",children:[e&&m.jsx(ke,{type:"button",variant:"outline",onClick:e,disabled:d,className:"flex-1",children:"Cancel"}),m.jsxs(ke,{type:"submit",disabled:d,className:"flex-1",children:[d&&m.jsx(Tt,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Verification Code"]})]})]})]})}function yO(){const t=sr(),{toast:e}=yn(),{loginWithEmail:r}=Qd(),[n,o]=g.useState(!1),[s,i]=g.useState(""),[a,l]=g.useState(""),[c,u]=g.useState(!1),[d,f]=g.useState(""),[h,b]=g.useState(!1),v=async p=>{p.preventDefault(),o(!0);try{await r(s,a),t("/")}catch{}finally{o(!1)}},_=async p=>{p.preventDefault(),b(!0);try{const{error:y}=await P.auth.resetPasswordForEmail(d,{redirectTo:`${window.location.origin}/reset-password`});if(y)throw y;e({title:"Success",description:"Password reset link sent to your email"}),u(!1),f("")}catch(y){e({title:"Error",description:y.message||"Failed to send reset email",variant:"destructive"})}finally{b(!1)}},w=async(p,y)=>{o(!0);try{const x=await Gt.getProfileByPhone(p);if(!x)throw new Error("No account found with this phone number. Please register first.");const k=`${p.replace(/\+/g,"")}@mojoauth.local`,S=`phone_${x.id}`,{data:E,error:T}=await P.auth.signInWithPassword({email:k,password:S});if(T){const{error:R}=await P.auth.updateUser({password:S});if(R)throw R;const{error:N}=await P.auth.signInWithPassword({email:k,password:S});if(N)throw N}e({title:"Success",description:"Signed in successfully!"}),t("/")}catch(x){console.error("Phone login error:",x),e({title:"Error",description:x.message||"Failed to sign in with phone number",variant:"destructive"})}finally{o(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-muted/30 to-background p-4",children:m.jsxs(sn,{className:"w-full max-w-md shadow-elegant hover-lift",children:[m.jsxs(to,{className:"space-y-1 text-center",children:[m.jsx(ro,{className:"text-4xl font-bold gradient-text",children:"SmartFinHub"}),m.jsx(no,{className:"text-base",children:"Sign in to manage your finances"})]}),m.jsx(an,{children:m.jsxs(M0,{defaultValue:"email",className:"w-full",children:[m.jsxs(U0,{className:"grid w-full grid-cols-2 mb-6",children:[m.jsxs(Ca,{value:"email",className:"flex items-center gap-2",children:[m.jsx(Tw,{className:"h-4 w-4"}),"Email"]}),m.jsxs(Ca,{value:"phone",className:"flex items-center gap-2",children:[m.jsx(af,{className:"h-4 w-4"}),"Phone"]})]}),m.jsx(Pa,{value:"email",className:"space-y-4",children:m.jsxs("form",{onSubmit:v,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(zt,{htmlFor:"email",children:"Email"}),m.jsx(Ft,{id:"email",type:"email",placeholder:"your@email.com",value:s,onChange:p=>i(p.target.value),required:!0,disabled:n})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(zt,{htmlFor:"password",children:"Password"}),m.jsx(Ft,{id:"password",type:"password",placeholder:"",value:a,onChange:p=>l(p.target.value),required:!0,disabled:n})]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs(nO,{open:c,onOpenChange:u,children:[m.jsx(oO,{asChild:!0,children:m.jsx(ke,{variant:"link",className:"px-0 text-sm",children:"Forgot password?"})}),m.jsx(aO,{children:m.jsxs("form",{onSubmit:_,children:[m.jsxs(lO,{children:[m.jsx(uO,{children:"Reset Password"}),m.jsx(dO,{children:"Enter your email address and we'll send you a link to reset your password."})]}),m.jsx("div",{className:"space-y-4 py-4",children:m.jsxs("div",{className:"space-y-2",children:[m.jsx(zt,{htmlFor:"reset-email",children:"Email"}),m.jsx(Ft,{id:"reset-email",type:"email",placeholder:"your@email.com",value:d,onChange:p=>f(p.target.value),required:!0,disabled:h})]})}),m.jsx(cO,{children:m.jsxs(ke,{type:"submit",disabled:h,children:[h&&m.jsx(Tt,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Reset Link"]})})]})})]})}),m.jsxs(ke,{type:"submit",className:"w-full",disabled:n,children:[n&&m.jsx(Tt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]})]})}),m.jsx(Pa,{value:"phone",children:m.jsx(F0,{onSuccess:w})})]})}),m.jsx(Hi,{className:"flex flex-col space-y-4",children:m.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",m.jsx(Pr,{to:"/register",className:"text-primary hover:underline font-medium",children:"Sign up"})]})})]})})}function vO(){const t=sr(),{toast:e}=yn(),r=qv(),[n,o]=g.useState(!1),[s,i]=g.useState(""),[a,l]=g.useState(""),[c,u]=g.useState(""),[d,f]=g.useState(!1),[h,b]=g.useState("email"),[v,_]=g.useState(!1),[w,p]=g.useState(""),y=async k=>{if(k.preventDefault(),a!==c){e({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(a.length<6){e({title:"Error",description:"Password must be at least 6 characters",variant:"destructive"});return}o(!0);try{const S=await r.createNewKey(a),{data:E,error:T}=await P.auth.signUp({email:s,password:a,options:{emailRedirectTo:`${window.location.origin}/confirm-email`,data:{encryption_salt:S}}});if(T)throw T;E.user&&(await Gt.updateProfile(E.user.id,{encryption_salt:S}),f(!0),b("email"),e({title:"Success",description:"Registration successful! Please check your email to verify your account."}))}catch(S){e({title:"Error",description:S.message||"Failed to register",variant:"destructive"})}finally{o(!1)}},x=async(k,S)=>{o(!0);try{const E=`phone_${Date.now()}_${Math.random().toString(36).substring(7)}`,T=await r.createNewKey(E),R=`${k.replace(/\+/g,"")}@mojoauth.local`,{data:N,error:F}=await P.auth.signUp({email:R,password:E,options:{data:{phone:k,auth_method:"phone",mojoauth_token:S,encryption_salt:T}}});if(F)throw F;N.user&&(await Gt.updateProfile(N.user.id,{phone:k,email:R,encryption_salt:T}),p(k),_(!0),b("phone"),e({title:"Success",description:"Phone number verified! Your account has been created."}),setTimeout(()=>{t("/login")},2e3))}catch(E){console.error("Phone registration error:",E),e({title:"Error",description:E.message||"Failed to complete registration",variant:"destructive"})}finally{o(!1)}};return v?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-muted/30 to-background p-4",children:m.jsxs(sn,{className:"w-full max-w-md shadow-elegant animate-scale-in",children:[m.jsxs(to,{className:"space-y-1 text-center",children:[m.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:m.jsx(Qn,{className:"h-6 w-6 text-primary"})}),m.jsx(ro,{className:"text-2xl font-bold",children:"Registration Complete!"}),m.jsxs(no,{className:"text-base",children:["Your phone number ",m.jsx("strong",{children:w})," has been verified"]})]}),m.jsx(an,{className:"space-y-4",children:m.jsxs(ja,{children:[m.jsx(Qn,{className:"h-4 w-4"}),m.jsx(Oa,{children:"Your account has been created successfully. You can now sign in with your phone number."})]})}),m.jsx(Hi,{className:"flex flex-col space-y-2",children:m.jsx(ke,{className:"w-full",onClick:()=>t("/login"),children:"Go to Sign In"})})]})}):d?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-muted/30 to-background p-4",children:m.jsxs(sn,{className:"w-full max-w-md shadow-elegant",children:[m.jsxs(to,{className:"space-y-1 text-center",children:[m.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:m.jsx(Qn,{className:"h-6 w-6 text-primary"})}),m.jsx(ro,{className:"text-2xl font-bold",children:"Check Your Email"}),m.jsxs(no,{className:"text-base",children:["We've sent a verification link to ",m.jsx("strong",{children:s})]})]}),m.jsxs(an,{className:"space-y-4",children:[m.jsxs(ja,{children:[m.jsx(Ew,{className:"h-4 w-4"}),m.jsx(Oa,{children:"Please check your email inbox and click the verification link to activate your account. The link will expire in 24 hours."})]}),m.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[m.jsx("p",{children:"Didn't receive the email?"}),m.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[m.jsx("li",{children:"Check your spam or junk folder"}),m.jsx("li",{children:"Make sure you entered the correct email address"}),m.jsx("li",{children:"Wait a few minutes and check again"})]})]})]}),m.jsxs(Hi,{className:"flex flex-col space-y-2",children:[m.jsx(ke,{variant:"outline",className:"w-full",onClick:()=>{f(!1),i(""),l(""),u("")},children:"Register with a different email"}),m.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Already verified?"," ",m.jsx(Pr,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})]})}):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-muted/30 to-background p-4 animate-fade-in",children:m.jsxs(sn,{className:"w-full max-w-md shadow-elegant hover-lift",children:[m.jsxs(to,{className:"space-y-1 text-center",children:[m.jsx(ro,{className:"text-4xl font-bold gradient-text",children:"SmartFinHub"}),m.jsx(no,{className:"text-base",children:"Create your account to get started"})]}),m.jsx(an,{children:m.jsxs(M0,{defaultValue:"email",className:"w-full",children:[m.jsxs(U0,{className:"grid w-full grid-cols-2 mb-6",children:[m.jsxs(Ca,{value:"email",className:"flex items-center gap-2",children:[m.jsx(Tw,{className:"h-4 w-4"}),"Email"]}),m.jsxs(Ca,{value:"phone",className:"flex items-center gap-2",children:[m.jsx(af,{className:"h-4 w-4"}),"Phone"]})]}),m.jsx(Pa,{value:"email",className:"space-y-4",children:m.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(zt,{htmlFor:"email",children:"Email"}),m.jsx(Ft,{id:"email",type:"email",placeholder:"your@email.com",value:s,onChange:k=>i(k.target.value),required:!0,disabled:n})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(zt,{htmlFor:"password",children:"Password"}),m.jsx(Ft,{id:"password",type:"password",placeholder:"",value:a,onChange:k=>l(k.target.value),required:!0,disabled:n,minLength:6}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(zt,{htmlFor:"confirmPassword",children:"Confirm Password"}),m.jsx(Ft,{id:"confirmPassword",type:"password",placeholder:"",value:c,onChange:k=>u(k.target.value),required:!0,disabled:n,minLength:6})]}),m.jsxs(ke,{type:"submit",className:"w-full",disabled:n,children:[n&&m.jsx(Tt,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]})]})}),m.jsx(Pa,{value:"phone",children:m.jsx(F0,{onSuccess:x})})]})}),m.jsx(Hi,{className:"flex flex-col space-y-4",children:m.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",m.jsx(Pr,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})})]})})}function wO(){const t=sr(),{toast:e}=yn(),[r,n]=g.useState(!1),[o,s]=g.useState(""),[i,a]=g.useState(""),[l,c]=g.useState(!1);g.useEffect(()=>{P.auth.getSession().then(({data:{session:d}})=>{d?c(!0):(e({title:"Error",description:"Invalid or expired reset link",variant:"destructive"}),t("/login"))})},[t,e]);const u=async d=>{if(d.preventDefault(),o!==i){e({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(o.length<6){e({title:"Error",description:"Password must be at least 6 characters",variant:"destructive"});return}n(!0);try{const{error:f}=await P.auth.updateUser({password:o});if(f)throw f;e({title:"Success",description:"Your password has been reset successfully"}),setTimeout(()=>{t("/login")},2e3)}catch(f){e({title:"Error",description:f.message||"Failed to reset password",variant:"destructive"})}finally{n(!1)}};return l?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-muted/30 to-background p-4",children:m.jsxs(sn,{className:"w-full max-w-md shadow-elegant hover-lift",children:[m.jsxs(to,{className:"space-y-1 text-center",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:m.jsx(Qn,{className:"h-6 w-6 text-primary"})})}),m.jsx(ro,{className:"text-3xl font-bold",children:"Reset Password"}),m.jsx(no,{className:"text-base",children:"Enter your new password below"})]}),m.jsx(an,{children:m.jsxs("form",{onSubmit:u,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(zt,{htmlFor:"new-password",children:"New Password"}),m.jsx(Ft,{id:"new-password",type:"password",placeholder:"",value:o,onChange:d=>s(d.target.value),required:!0,minLength:6}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(zt,{htmlFor:"confirm-password",children:"Confirm Password"}),m.jsx(Ft,{id:"confirm-password",type:"password",placeholder:"",value:i,onChange:d=>a(d.target.value),required:!0,minLength:6})]}),m.jsxs(ke,{type:"submit",className:"w-full shadow-elegant hover:shadow-glow transition-smooth",disabled:r,children:[r&&m.jsx(Tt,{className:"mr-2 h-4 w-4 animate-spin"}),"Reset Password"]})]})})]})}):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-muted/30 to-background p-4",children:m.jsx(sn,{className:"w-full max-w-md shadow-elegant",children:m.jsx(an,{className:"pt-6",children:m.jsx("div",{className:"flex items-center justify-center",children:m.jsx(Tt,{className:"h-8 w-8 animate-spin text-primary"})})})})})}function bO(){const t=sr(),{toast:e}=yn();return g.useEffect(()=>{(async()=>{var n,o,s;try{const{data:{session:i},error:a}=await P.auth.getSession();if(a)throw a;if(i!=null&&i.user){try{if(!await Gt.getProfile(i.user.id)){const{error:c}=await P.from("profiles").insert({id:i.user.id,email:i.user.email||null,phone:i.user.phone||null,nickname:((n=i.user.user_metadata)==null?void 0:n.full_name)||((o=i.user.user_metadata)==null?void 0:o.name)||((s=i.user.email)==null?void 0:s.split("@")[0])||"User",role:"user"});c&&console.error("Error creating profile:",c)}}catch(l){console.error("Error checking profile:",l)}e({title:"Success",description:"Logged in successfully!"}),t("/")}else throw new Error("No session found")}catch(i){console.error("Auth callback error:",i),e({title:"Authentication Error",description:i.message||"Failed to complete authentication",variant:"destructive"}),t("/login")}})()},[t,e]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-muted/30 to-background",children:m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx(Tt,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),m.jsx("h2",{className:"text-xl font-semibold",children:"Completing sign in..."}),m.jsx("p",{className:"text-muted-foreground",children:"Please wait while we authenticate you"})]})})}function _O(){const t=sr(),[e]=Mk(),[r,n]=g.useState("loading"),[o,s]=g.useState("Verifying your email...");return g.useEffect(()=>{(async()=>{try{const a=e.get("token"),l=e.get("type");if(!a||l!=="signup"){n("error"),s("Invalid verification link. Please check your email and try again.");return}const{error:c}=await P.auth.verifyOtp({token_hash:a,type:"signup"});if(c){console.error("Email verification error:",c),n("error"),s(c.message||"Failed to verify email. The link may have expired.");return}n("success"),s("Email verified successfully! You can now sign in to your account."),setTimeout(()=>{t("/login")},3e3)}catch(a){console.error("Verification error:",a),n("error"),s("An unexpected error occurred. Please try again.")}})()},[e,t]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-muted/30 to-background p-4",children:m.jsxs(sn,{className:"w-full max-w-md shadow-elegant",children:[m.jsxs(to,{className:"space-y-1 text-center",children:[m.jsx(ro,{className:"text-3xl font-bold gradient-text",children:"Email Verification"}),m.jsxs(no,{children:[r==="loading"&&"Please wait while we verify your email address",r==="success"&&"Your email has been verified",r==="error"&&"Verification failed"]})]}),m.jsxs(an,{className:"flex flex-col items-center space-y-6",children:[r==="loading"&&m.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[m.jsx(Tt,{className:"h-16 w-16 animate-spin text-primary"}),m.jsx("p",{className:"text-center text-muted-foreground",children:o})]}),r==="success"&&m.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[m.jsx(Qn,{className:"h-16 w-16 text-green-500"}),m.jsx("p",{className:"text-center text-foreground font-medium",children:o}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting to login page..."}),m.jsx(ke,{onClick:()=>t("/login"),className:"w-full",children:"Go to Login"})]}),r==="error"&&m.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[m.jsx(jC,{className:"h-16 w-16 text-destructive"}),m.jsx("p",{className:"text-center text-foreground font-medium",children:o}),m.jsxs("div",{className:"flex flex-col w-full space-y-2",children:[m.jsx(ke,{onClick:()=>t("/register"),className:"w-full",children:"Back to Registration"}),m.jsx(ke,{onClick:()=>t("/login"),variant:"outline",className:"w-full",children:"Go to Login"})]})]})]})]})})}const xO=g.lazy(()=>De(()=>import("./Dashboard-CniQlW_6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),kO=g.lazy(()=>De(()=>import("./Accounts-CQnqwxZO.js"),__vite__mapDeps([19,1,2,3,4,8,15,11,9,5,6,7,18,20,21,22,12,23]))),Xp=g.lazy(()=>De(()=>import("./AccountForm-CZ9LOVc_.js"),__vite__mapDeps([24,25,23,4,5,11,10,3,15,22,14,18,26]))),SO=g.lazy(()=>De(()=>import("./Transactions-Cb6YDsmX.js"),__vite__mapDeps([27,1,3,4,18,20,10,15,21,22]))),Zp=g.lazy(()=>De(()=>import("./TransactionForm-BrtgMeND.js"),__vite__mapDeps([28,17,25,23,3,4,6,29,18,26,13,12]))),EO=g.lazy(()=>De(()=>import("./Budgets-0ur8TcCX.js"),__vite__mapDeps([30,25,23,3,4,2,29,15,22,8,13]))),TO=g.lazy(()=>De(()=>import("./Reports-DYEw2tYe.js"),__vite__mapDeps([31,25,23,10,1,3,4,7,29,11,8,13,32,12]))),CO=g.lazy(()=>De(()=>import("./Settings-cXlBaIWv.js"),__vite__mapDeps([33,25,23,4]))),PO=g.lazy(()=>De(()=>import("./BackupRestore-DaA2vqgK.js"),__vite__mapDeps([34,20,32]))),jO=g.lazy(()=>De(()=>import("./AIAnalysisPage-D0wZ3Alk.js"),__vite__mapDeps([35,16,13]))),z0=[{name:"Login",path:"/login",element:m.jsx(yO,{}),visible:!1},{name:"Register",path:"/register",element:m.jsx(vO,{}),visible:!1},{name:"Reset Password",path:"/reset-password",element:m.jsx(wO,{}),visible:!1},{name:"Auth Callback",path:"/auth/callback",element:m.jsx(bO,{}),visible:!1},{name:"Confirm Email",path:"/confirm-email",element:m.jsx(_O,{}),visible:!1},{name:"Dashboard",path:"/",element:m.jsx(nt,{children:m.jsx(xO,{})}),visible:!0,protected:!0},{name:"Accounts",path:"/accounts",element:m.jsx(nt,{children:m.jsx(kO,{})}),visible:!0,protected:!0},{name:"Add Account",path:"/accounts/new",element:m.jsx(nt,{children:m.jsx(Xp,{})}),visible:!1,protected:!0},{name:"Edit Account",path:"/accounts/edit/:id",element:m.jsx(nt,{children:m.jsx(Xp,{})}),visible:!1,protected:!0},{name:"Transactions",path:"/transactions",element:m.jsx(nt,{children:m.jsx(SO,{})}),visible:!0,protected:!0},{name:"Add Transaction",path:"/transactions/new",element:m.jsx(nt,{children:m.jsx(Zp,{})}),visible:!1,protected:!0},{name:"Edit Transaction",path:"/transactions/edit/:id",element:m.jsx(nt,{children:m.jsx(Zp,{})}),visible:!1,protected:!0},{name:"Budgets",path:"/budgets",element:m.jsx(nt,{children:m.jsx(EO,{})}),visible:!0,protected:!0},{name:"Reports",path:"/reports",element:m.jsx(nt,{children:m.jsx(TO,{})}),visible:!0,protected:!0},{name:"AI Analysis",path:"/ai-analysis",element:m.jsx(nt,{children:m.jsx(jO,{})}),visible:!0,protected:!0},{name:"Settings",path:"/settings",element:m.jsx(nt,{children:m.jsx(CO,{})}),visible:!0,protected:!0},{name:"Backup & Restore",path:"/backup-restore",element:m.jsx(nt,{children:m.jsx(PO,{})}),visible:!0,protected:!0}],OO=()=>{const[t,e]=g.useState(!1),r=Wt(),n=sr(),{user:o,profile:s,signOut:i}=Qd(),a=z0.filter(c=>c.visible!==!1),l=async()=>{await i(),n("/login")};return o?m.jsx("header",{className:"bg-card border-b sticky top-0 z-10 shadow-sm",children:m.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between h-16",children:[m.jsx("div",{className:"flex items-center",children:m.jsxs(Pr,{to:"/",className:"flex-shrink-0 flex items-center gap-2",children:[m.jsx(UC,{className:"h-8 w-8 text-primary"}),m.jsx("span",{className:"text-xl font-bold text-primary",children:"SmartFinHub"})]})}),m.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a.map(c=>m.jsx(Pr,{to:c.path,className:`px-3 py-2 text-sm font-medium rounded-md transition-colors ${r.pathname===c.path?"text-primary bg-primary/10":"text-foreground hover:text-primary hover:bg-muted"}`,children:c.name},c.path)),m.jsxs("div",{className:"flex items-center gap-2 ml-4 pl-4 border-l",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.email)||(s==null?void 0:s.phone)}),m.jsxs(ke,{variant:"ghost",size:"sm",onClick:l,children:[m.jsx(Lp,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),m.jsx("div",{className:"md:hidden flex items-center",children:m.jsxs(Oj,{open:t,onOpenChange:e,children:[m.jsx(Rj,{asChild:!0,children:m.jsx(ke,{variant:"ghost",size:"sm",children:m.jsx(NC,{className:"h-6 w-6"})})}),m.jsx(w0,{side:"right",children:m.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[a.map(c=>m.jsx(Pr,{to:c.path,onClick:()=>e(!1),className:`px-3 py-2 text-base font-medium rounded-md ${r.pathname===c.path?"text-primary bg-primary/10":"text-foreground hover:text-primary hover:bg-muted"}`,children:c.name},c.path)),m.jsxs("div",{className:"pt-4 border-t",children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:(s==null?void 0:s.email)||(s==null?void 0:s.phone)}),m.jsxs(ke,{variant:"outline",size:"sm",onClick:l,className:"w-full",children:[m.jsx(Lp,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})]})})]})})}):null},RO=()=>m.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[m.jsx(En,{className:"h-12 w-64 bg-muted"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[m.jsx(En,{className:"h-32 bg-muted"}),m.jsx(En,{className:"h-32 bg-muted"}),m.jsx(En,{className:"h-32 bg-muted"}),m.jsx(En,{className:"h-32 bg-muted"})]}),m.jsx(En,{className:"h-64 bg-muted"})]}),AO=()=>{const t=m.jsx(OT,{children:m.jsxs(jT,{children:[m.jsx(SP,{}),m.jsxs("div",{className:"flex flex-col min-h-screen",children:[m.jsx(OO,{}),m.jsx("main",{className:"flex-grow",children:m.jsx(g.Suspense,{fallback:m.jsx(RO,{}),children:m.jsxs(uk,{children:[z0.map((e,r)=>m.jsx(nu,{path:e.path,element:e.element},r)),m.jsx(nu,{path:"*",element:m.jsx(ru,{to:"/",replace:!0})})]})})})]})]})});return Uv()?m.jsx(Nh,{children:m.jsx(DS,{domain:An.domain,clientId:An.clientId,authorizationParams:An.authorizationParams,cacheLocation:An.cacheLocation,useRefreshTokens:An.useRefreshTokens,children:t})}):m.jsx(Nh,{children:t})};var B0=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(B0||{}),ac={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(B0);var vf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(vf).reduce((t,[e,r])=>(t[r]=e,t),{});var Ps="data-rh",IO=t=>Array.isArray(t)?t.join(""):t,NO=(t,e)=>{const r=Object.keys(t);for(let n=0;n<r.length;n+=1)if(e[r[n]]&&e[r[n]].includes(t[r[n]]))return!0;return!1},lc=(t,e)=>Array.isArray(t)?t.reduce((r,n)=>(NO(n,e)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:t,priority:[]},LO=["noscript","script","style"],Au=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),W0=t=>Object.keys(t).reduce((e,r)=>{const n=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return e?`${e} ${n}`:n},""),DO=(t,e,r,n)=>{const o=W0(r),s=IO(e);return o?`<${t} ${Ps}="true" ${o}>${Au(s,n)}</${t}>`:`<${t} ${Ps}="true">${Au(s,n)}</${t}>`},$O=(t,e,r=!0)=>e.reduce((n,o)=>{const s=o,i=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,u)=>{const d=typeof s[u]>"u"?u:`${u}="${Au(s[u],r)}"`;return c?`${c} ${d}`:d},""),a=s.innerHTML||s.cssText||"",l=LO.indexOf(t)===-1;return`${n}<${t} ${Ps}="true" ${i}${l?"/>":`>${a}</${t}>`}`},""),V0=(t,e={})=>Object.keys(t).reduce((r,n)=>{const o=vf[n];return r[o||n]=t[n],r},e),MO=(t,e,r)=>{const n={key:e,[Ps]:!0},o=V0(r,n);return[Ce.createElement("title",o,e)]},qi=(t,e)=>e.map((r,n)=>{const o={key:n,[Ps]:!0};return Object.keys(r).forEach(s=>{const a=vf[s]||s;if(a==="innerHTML"||a==="cssText"){const l=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:l}}else o[a]=r[s]}),Ce.createElement(t,o)}),st=(t,e,r=!0)=>{switch(t){case"title":return{toComponent:()=>MO(t,e.title,e.titleAttributes),toString:()=>DO(t,e.title,e.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>V0(e),toString:()=>W0(e)};default:return{toComponent:()=>qi(t,e),toString:()=>$O(t,e,r)}}},UO=({metaTags:t,linkTags:e,scriptTags:r,encode:n})=>{const o=lc(t,ac.meta),s=lc(e,ac.link),i=lc(r,ac.script);return{priorityMethods:{toComponent:()=>[...qi("meta",o.priority),...qi("link",s.priority),...qi("script",i.priority)],toString:()=>`${st("meta",o.priority,n)} ${st("link",s.priority,n)} ${st("script",i.priority,n)}`},metaTags:o.default,linkTags:s.default,scriptTags:i.default}},FO=t=>{const{baseTag:e,bodyAttributes:r,encode:n=!0,htmlAttributes:o,noscriptTags:s,styleTags:i,title:a="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:u,metaTags:d,scriptTags:f}=t,h={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:h,linkTags:u,metaTags:d,scriptTags:f}=UO(t)),{priority:h,base:st("base",e,n),bodyAttributes:st("bodyAttributes",r,n),htmlAttributes:st("htmlAttributes",o,n),link:st("link",u,n),meta:st("meta",d,n),noscript:st("noscript",s,n),script:st("script",f,n),style:st("style",i,n),title:st("title",{title:a,titleAttributes:l},n)}},zO=FO,Ti=[],K0=!!(typeof window<"u"&&window.document&&window.document.createElement),BO=class{constructor(t,e){Dr(this,"instances",[]);Dr(this,"canUseDOM",K0);Dr(this,"context");Dr(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Ti:this.instances,add:t=>{(this.canUseDOM?Ti:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Ti:this.instances).indexOf(t);(this.canUseDOM?Ti:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=zO({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},WO={},VO=Ce.createContext(WO),rn,KO=(rn=class extends g.Component{constructor(r){super(r);Dr(this,"helmetData");this.helmetData=new BO(this.props.context||{},rn.canUseDOM)}render(){return Ce.createElement(VO.Provider,{value:this.helmetData.value},this.props.children)}},Dr(rn,"canUseDOM",K0),rn);const HO=({children:t})=>m.jsx(KO,{children:t});py(document.getElementById("root")).render(m.jsx(g.StrictMode,{children:m.jsx(HO,{children:m.jsx(PT,{children:m.jsx(AO,{})})})}));export{ja as $,Tt as A,ke as B,sn as C,nO as D,tR as E,oR as F,sR as G,oO as H,Ft as I,Wt as J,Pr as K,zt as L,Ew as M,JO as N,$s as O,ko as P,pe as Q,Ce as R,En as S,M0 as T,el as U,mt as V,UC as W,lf as X,Z as Y,Y as Z,Ep as _,GO as a,Oa as a0,cO as a1,IT as a2,rl as a3,P as a4,iR as a5,Tw as a6,af as a7,$C as a8,Gt as a9,EP as aA,qa as aa,po as ab,Bt as ac,_0 as ad,os as ae,Zv as af,tC as ag,tf as ah,bj as ai,LP as aj,Yw as ak,Cs as al,Bw as am,ef as an,Qn as ao,cR as ap,p0 as aq,uR as ar,pf as as,aR as at,mf as au,gf as av,y0 as aw,g0 as ax,hf as ay,m0 as az,kw as b,Ot as c,Nt as d,to as e,ro as f,Qp as g,an as h,vT as i,m as j,rR as k,wT as l,aO as m,lO as n,uO as o,U0 as p,Ca as q,g as r,Pa as s,Sp as t,yn as u,dO as v,nR as w,Qd as x,no as y,sr as z};
