import{c as No,u as po,r as d,i as uo,j as o,C as ho,e as wo,f as yo,y as Bo,h as fo,L as m,I as h,B as x,X as Co,N as So,z as Ao,x as Io,d as ao,l as Y,A as no}from"./index-CadMXyJB.js";import{C as Eo,S as H,a as T,b as G,c as R,d as j}from"./select-BtuBbjBO.js";import{c as to}from"./countries-BGn44Cmt.js";import{b as Lo,c as Uo,f as Mo}from"./loanCalculations-CzUqBpRv.js";import{C as so,B as Po}from"./BankLogo-j26DLqyT.js";import{T as co,a as io,b as $,c as b,d as lo,e as k}from"./table-BT0d-UrM.js";import{f as I}from"./format-RllGV7dv.js";import{P as Fo}from"./plus-nRr9gPfm.js";import{T as ro}from"./trash-2-Co2tl0ej.js";import{C as Do,S as Ho}from"./smartphone-Bw5bK6tw.js";import{c as mo}from"./cache-SNmVlzwA.js";import{A as To}from"./arrow-left-DK6e-IDk.js";import"./chevron-up-DrbdFayN.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ro=No("pen",Go),vo=[{name:"JPMorgan Chase",logo:"https://www.google.com/s2/favicons?domain=chase.com&sz=128",country:"US"},{name:"Bank of America",logo:"https://www.google.com/s2/favicons?domain=bankofamerica.com&sz=128",country:"US"},{name:"Wells Fargo",logo:"https://www.google.com/s2/favicons?domain=wellsfargo.com&sz=128",country:"US"},{name:"Citibank",logo:"https://www.google.com/s2/favicons?domain=citibank.com&sz=128",country:"US"},{name:"U.S. Bank",logo:"https://www.google.com/s2/favicons?domain=usbank.com&sz=128",country:"US"},{name:"PNC Bank",logo:"https://www.google.com/s2/favicons?domain=pnc.com&sz=128",country:"US"},{name:"Capital One",logo:"https://www.google.com/s2/favicons?domain=capitalone.com&sz=128",country:"US"},{name:"TD Bank",logo:"https://www.google.com/s2/favicons?domain=td.com&sz=128",country:"US"},{name:"Bank of New York Mellon",logo:"https://www.google.com/s2/favicons?domain=bnymellon.com&sz=128",country:"US"},{name:"State Street Corporation",logo:"https://www.google.com/s2/favicons?domain=statestreet.com&sz=128",country:"US"},{name:"Goldman Sachs",logo:"https://www.google.com/s2/favicons?domain=goldmansachs.com&sz=128",country:"US"},{name:"Morgan Stanley",logo:"https://www.google.com/s2/favicons?domain=morganstanley.com&sz=128",country:"US"},{name:"American Express",logo:"https://www.google.com/s2/favicons?domain=americanexpress.com&sz=128",country:"US"},{name:"Charles Schwab",logo:"https://www.google.com/s2/favicons?domain=schwab.com&sz=128",country:"US"},{name:"Ally Bank",logo:"https://www.google.com/s2/favicons?domain=ally.com&sz=128",country:"US"},{name:"Discover Bank",logo:"https://www.google.com/s2/favicons?domain=discover.com&sz=128",country:"US"},{name:"Citizens Bank",logo:"https://www.google.com/s2/favicons?domain=citizensbank.com&sz=128",country:"US"},{name:"Fifth Third Bank",logo:"https://www.google.com/s2/favicons?domain=53.com&sz=128",country:"US"},{name:"KeyBank",logo:"https://www.google.com/s2/favicons?domain=key.com&sz=128",country:"US"},{name:"Regions Bank",logo:"https://www.google.com/s2/favicons?domain=regions.com&sz=128",country:"US"},{name:"M&T Bank",logo:"https://www.google.com/s2/favicons?domain=mtb.com&sz=128",country:"US"},{name:"Huntington Bank",logo:"https://www.google.com/s2/favicons?domain=huntington.com&sz=128",country:"US"},{name:"BMO Harris Bank",logo:"https://www.google.com/s2/favicons?domain=bmoharris.com&sz=128",country:"US"},{name:"Santander Bank",logo:"https://www.google.com/s2/favicons?domain=santanderbank.com&sz=128",country:"US"},{name:"SunTrust Bank",logo:"https://www.google.com/s2/favicons?domain=suntrust.com&sz=128",country:"US"},{name:"HSBC UK",logo:"https://www.google.com/s2/favicons?domain=hsbc.co.uk&sz=128",country:"GB"},{name:"Barclays",logo:"https://www.google.com/s2/favicons?domain=barclays.com&sz=128",country:"GB"},{name:"Lloyds Bank",logo:"https://www.google.com/s2/favicons?domain=lloydsbank.com&sz=128",country:"GB"},{name:"NatWest",logo:"https://www.google.com/s2/favicons?domain=natwest.com&sz=128",country:"GB"},{name:"Royal Bank of Scotland",logo:"https://www.google.com/s2/favicons?domain=rbs.co.uk&sz=128",country:"GB"},{name:"Santander UK",logo:"https://www.google.com/s2/favicons?domain=santander.co.uk&sz=128",country:"GB"},{name:"Nationwide Building Society",logo:"https://www.google.com/s2/favicons?domain=nationwide.co.uk&sz=128",country:"GB"},{name:"Halifax",logo:"https://www.google.com/s2/favicons?domain=halifax.co.uk&sz=128",country:"GB"},{name:"TSB Bank",logo:"https://www.google.com/s2/favicons?domain=tsb.co.uk&sz=128",country:"GB"},{name:"Metro Bank",logo:"https://www.google.com/s2/favicons?domain=metrobankonline.co.uk&sz=128",country:"GB"},{name:"Monzo",logo:"https://www.google.com/s2/favicons?domain=monzo.com&sz=128",country:"GB"},{name:"Revolut",logo:"https://www.google.com/s2/favicons?domain=revolut.com&sz=128",country:"GB"},{name:"Starling Bank",logo:"https://www.google.com/s2/favicons?domain=starlingbank.com&sz=128",country:"GB"},{name:"Virgin Money",logo:"https://www.google.com/s2/favicons?domain=virginmoney.com&sz=128",country:"GB"},{name:"Co-operative Bank",logo:"https://www.google.com/s2/favicons?domain=co-operativebank.co.uk&sz=128",country:"GB"},{name:"Deutsche Bank",logo:"https://www.google.com/s2/favicons?domain=db.com&sz=128",country:"EU"},{name:"BNP Paribas",logo:"https://www.google.com/s2/favicons?domain=bnpparibas.com&sz=128",country:"EU"},{name:"Santander",logo:"https://www.google.com/s2/favicons?domain=santander.com&sz=128",country:"EU"},{name:"Crédit Agricole",logo:"https://www.google.com/s2/favicons?domain=credit-agricole.com&sz=128",country:"EU"},{name:"Société Générale",logo:"https://www.google.com/s2/favicons?domain=societegenerale.com&sz=128",country:"EU"},{name:"ING Bank",logo:"https://www.google.com/s2/favicons?domain=ing.com&sz=128",country:"EU"},{name:"UniCredit",logo:"https://www.google.com/s2/favicons?domain=unicredit.eu&sz=128",country:"EU"},{name:"Intesa Sanpaolo",logo:"https://www.google.com/s2/favicons?domain=intesasanpaolo.com&sz=128",country:"EU"},{name:"BBVA",logo:"https://www.google.com/s2/favicons?domain=bbva.com&sz=128",country:"EU"},{name:"Commerzbank",logo:"https://www.google.com/s2/favicons?domain=commerzbank.com&sz=128",country:"EU"},{name:"Rabobank",logo:"https://www.google.com/s2/favicons?domain=rabobank.com&sz=128",country:"EU"},{name:"ABN AMRO",logo:"https://www.google.com/s2/favicons?domain=abnamro.com&sz=128",country:"EU"},{name:"KBC Bank",logo:"https://www.google.com/s2/favicons?domain=kbc.com&sz=128",country:"EU"},{name:"Nordea",logo:"https://www.google.com/s2/favicons?domain=nordea.com&sz=128",country:"EU"},{name:"CaixaBank",logo:"https://www.google.com/s2/favicons?domain=caixabank.com&sz=128",country:"EU"},{name:"Banco Sabadell",logo:"https://www.google.com/s2/favicons?domain=bancosabadell.com&sz=128",country:"EU"},{name:"Bankia",logo:"https://www.google.com/s2/favicons?domain=bankia.com&sz=128",country:"EU"},{name:"La Banque Postale",logo:"https://www.google.com/s2/favicons?domain=labanquepostale.fr&sz=128",country:"EU"},{name:"N26",logo:"https://www.google.com/s2/favicons?domain=n26.com&sz=128",country:"EU"},{name:"Bunq",logo:"https://www.google.com/s2/favicons?domain=bunq.com&sz=128",country:"EU"},{name:"State Bank of India",logo:"https://www.google.com/s2/favicons?domain=sbi.co.in&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.sbi.lotusintouch",iosAppLink:"https://apps.apple.com/in/app/yono-sbi/id1206636728"},{name:"HDFC Bank",logo:"https://www.google.com/s2/favicons?domain=hdfcbank.com&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.snapwork.hdfc",iosAppLink:"https://apps.apple.com/in/app/hdfcbank-mobilebankingapp/id430033626"},{name:"ICICI Bank",logo:"https://www.google.com/s2/favicons?domain=icicibank.com&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.csam.icici.bank.imobile",iosAppLink:"https://apps.apple.com/in/app/imobile-pay-by-icici-bank/id1039140197"},{name:"Axis Bank",logo:"https://www.google.com/s2/favicons?domain=axisbank.com&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.axis.mobile",iosAppLink:"https://apps.apple.com/in/app/axis-mobile/id1462266800"},{name:"Kotak Mahindra Bank",logo:"https://www.google.com/s2/favicons?domain=kotak.com&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.msf.kbank.mobile",iosAppLink:"https://apps.apple.com/in/app/kotak-mobile-banking/id584518773"},{name:"Punjab National Bank",logo:"https://www.google.com/s2/favicons?domain=pnbindia.in&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.fss.pnbone",iosAppLink:"https://apps.apple.com/in/app/pnb-one/id1455678874"},{name:"Bank of Baroda",logo:"https://www.google.com/s2/favicons?domain=bankofbaroda.in&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.bobibanking.bobworld",iosAppLink:"https://apps.apple.com/in/app/bob-world/id1455440983"},{name:"Canara Bank",logo:"https://www.google.com/s2/favicons?domain=canarabank.com&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.canara.canaramobile",iosAppLink:"https://apps.apple.com/in/app/canara-ai1-mobile-banking/id1462483812"},{name:"Union Bank of India",logo:"https://www.google.com/s2/favicons?domain=unionbankofindia.co.in&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.unionbank.ecommerce.mobile.android",iosAppLink:"https://apps.apple.com/in/app/union-bank-mobile-banking/id1450073650"},{name:"Bank of India",logo:"https://www.google.com/s2/favicons?domain=bankofindia.co.in&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.boi.mobilebanking",iosAppLink:"https://apps.apple.com/in/app/boi-mobile/id1462268992"},{name:"IndusInd Bank",logo:"https://www.google.com/s2/favicons?domain=indusind.com&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.indusind.mobile",iosAppLink:"https://apps.apple.com/in/app/indusind-bank-mobile-banking/id1232225691"},{name:"Yes Bank",logo:"https://www.google.com/s2/favicons?domain=yesbank.in&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.yesbank.yesbankapp",iosAppLink:"https://apps.apple.com/in/app/yes-mobile/id1462268992"},{name:"IDFC First Bank",logo:"https://www.google.com/s2/favicons?domain=idfcfirstbank.com&sz=128",country:"IN",androidAppLink:"https://play.google.com/store/apps/details?id=com.idfcfirstbank.optimus",iosAppLink:"https://apps.apple.com/in/app/idfc-first-bank/id1448960242"},{name:"Federal Bank",logo:"https://www.google.com/s2/favicons?domain=federalbank.co.in&sz=128",country:"IN"},{name:"South Indian Bank",logo:"https://www.google.com/s2/favicons?domain=southindianbank.com&sz=128",country:"IN"},{name:"Karnataka Bank",logo:"https://www.google.com/s2/favicons?domain=ktkbank.com&sz=128",country:"IN"},{name:"RBL Bank",logo:"https://www.google.com/s2/favicons?domain=rblbank.com&sz=128",country:"IN"},{name:"Bandhan Bank",logo:"https://www.google.com/s2/favicons?domain=bandhanbank.com&sz=128",country:"IN"},{name:"IDBI Bank",logo:"https://www.google.com/s2/favicons?domain=idbibank.in&sz=128",country:"IN"},{name:"Central Bank of India",logo:"https://www.google.com/s2/favicons?domain=centralbankofindia.co.in&sz=128",country:"IN"},{name:"Indian Bank",logo:"https://www.google.com/s2/favicons?domain=indianbank.in&sz=128",country:"IN"},{name:"UCO Bank",logo:"https://www.google.com/s2/favicons?domain=ucobank.com&sz=128",country:"IN"},{name:"Indian Overseas Bank",logo:"https://www.google.com/s2/favicons?domain=iob.in&sz=128",country:"IN"},{name:"Punjab & Sind Bank",logo:"https://www.google.com/s2/favicons?domain=psbindia.com&sz=128",country:"IN"},{name:"Bank of Maharashtra",logo:"https://www.google.com/s2/favicons?domain=bankofmaharashtra.in&sz=128",country:"IN"},{name:"Royal Bank of Canada",logo:"https://www.google.com/s2/favicons?domain=rbc.com&sz=128",country:"CA"},{name:"Toronto-Dominion Bank",logo:"https://www.google.com/s2/favicons?domain=td.com&sz=128",country:"CA"},{name:"Bank of Nova Scotia",logo:"https://www.google.com/s2/favicons?domain=scotiabank.com&sz=128",country:"CA"},{name:"Bank of Montreal",logo:"https://www.google.com/s2/favicons?domain=bmo.com&sz=128",country:"CA"},{name:"Canadian Imperial Bank of Commerce",logo:"https://www.google.com/s2/favicons?domain=cibc.com&sz=128",country:"CA"},{name:"National Bank of Canada",logo:"https://www.google.com/s2/favicons?domain=nbc.ca&sz=128",country:"CA"},{name:"Desjardins Group",logo:"https://www.google.com/s2/favicons?domain=desjardins.com&sz=128",country:"CA"},{name:"Laurentian Bank",logo:"https://www.google.com/s2/favicons?domain=laurentianbank.ca&sz=128",country:"CA"},{name:"Canadian Western Bank",logo:"https://www.google.com/s2/favicons?domain=cwbank.com&sz=128",country:"CA"},{name:"Tangerine Bank",logo:"https://www.google.com/s2/favicons?domain=tangerine.ca&sz=128",country:"CA"},{name:"Commonwealth Bank",logo:"https://www.google.com/s2/favicons?domain=commbank.com.au&sz=128",country:"AU"},{name:"Westpac",logo:"https://www.google.com/s2/favicons?domain=westpac.com.au&sz=128",country:"AU"},{name:"ANZ",logo:"https://www.google.com/s2/favicons?domain=anz.com&sz=128",country:"AU"},{name:"National Australia Bank",logo:"https://www.google.com/s2/favicons?domain=nab.com.au&sz=128",country:"AU"},{name:"Macquarie Bank",logo:"https://www.google.com/s2/favicons?domain=macquarie.com&sz=128",country:"AU"},{name:"Bendigo Bank",logo:"https://www.google.com/s2/favicons?domain=bendigobank.com.au&sz=128",country:"AU"},{name:"Bank of Queensland",logo:"https://www.google.com/s2/favicons?domain=boq.com.au&sz=128",country:"AU"},{name:"Suncorp Bank",logo:"https://www.google.com/s2/favicons?domain=suncorp.com.au&sz=128",country:"AU"},{name:"ING Australia",logo:"https://www.google.com/s2/favicons?domain=ing.com.au&sz=128",country:"AU"},{name:"AMP Bank",logo:"https://www.google.com/s2/favicons?domain=amp.com.au&sz=128",country:"AU"},{name:"DBS Bank",logo:"https://www.google.com/s2/favicons?domain=dbs.com&sz=128",country:"SG"},{name:"OCBC Bank",logo:"https://www.google.com/s2/favicons?domain=ocbc.com&sz=128",country:"SG"},{name:"United Overseas Bank",logo:"https://www.google.com/s2/favicons?domain=uob.com.sg&sz=128",country:"SG"},{name:"Maybank Singapore",logo:"https://www.google.com/s2/favicons?domain=maybank.com&sz=128",country:"SG"},{name:"Standard Chartered Singapore",logo:"https://www.google.com/s2/favicons?domain=sc.com&sz=128",country:"SG"},{name:"Citibank Singapore",logo:"https://www.google.com/s2/favicons?domain=citibank.com.sg&sz=128",country:"SG"},{name:"HSBC Singapore",logo:"https://www.google.com/s2/favicons?domain=hsbc.com.sg&sz=128",country:"SG"},{name:"HSBC Hong Kong",logo:"https://www.google.com/s2/favicons?domain=hsbc.com.hk&sz=128",country:"HK"},{name:"Hang Seng Bank",logo:"https://www.google.com/s2/favicons?domain=hangseng.com&sz=128",country:"HK"},{name:"Bank of China (Hong Kong)",logo:"https://www.google.com/s2/favicons?domain=bochk.com&sz=128",country:"HK"},{name:"Standard Chartered Hong Kong",logo:"https://www.google.com/s2/favicons?domain=sc.com&sz=128",country:"HK"},{name:"DBS Bank (Hong Kong)",logo:"https://www.google.com/s2/favicons?domain=dbs.com.hk&sz=128",country:"HK"},{name:"Bank of East Asia",logo:"https://www.google.com/s2/favicons?domain=hkbea.com&sz=128",country:"HK"},{name:"Citibank Hong Kong",logo:"https://www.google.com/s2/favicons?domain=citibank.com.hk&sz=128",country:"HK"},{name:"UBS",logo:"https://www.google.com/s2/favicons?domain=ubs.com&sz=128",country:"CH"},{name:"Credit Suisse",logo:"https://www.google.com/s2/favicons?domain=credit-suisse.com&sz=128",country:"CH"},{name:"Julius Baer",logo:"https://www.google.com/s2/favicons?domain=juliusbaer.com&sz=128",country:"CH"},{name:"Raiffeisen Switzerland",logo:"https://www.google.com/s2/favicons?domain=raiffeisen.ch&sz=128",country:"CH"},{name:"PostFinance",logo:"https://www.google.com/s2/favicons?domain=postfinance.ch&sz=128",country:"CH"},{name:"Zürcher Kantonalbank",logo:"https://www.google.com/s2/favicons?domain=zkb.ch&sz=128",country:"CH"},{name:"Mitsubishi UFJ Financial Group",logo:"https://www.google.com/s2/favicons?domain=mufg.jp&sz=128",country:"JP"},{name:"Sumitomo Mitsui Financial Group",logo:"https://www.google.com/s2/favicons?domain=smfg.co.jp&sz=128",country:"JP"},{name:"Mizuho Financial Group",logo:"https://www.google.com/s2/favicons?domain=mizuhobank.com&sz=128",country:"JP"},{name:"Resona Holdings",logo:"https://www.google.com/s2/favicons?domain=resona-gr.co.jp&sz=128",country:"JP"},{name:"Norinchukin Bank",logo:"https://www.google.com/s2/favicons?domain=nochubank.or.jp&sz=128",country:"JP"},{name:"Shinsei Bank",logo:"https://www.google.com/s2/favicons?domain=shinseibank.com&sz=128",country:"JP"},{name:"Japan Post Bank",logo:"https://www.google.com/s2/favicons?domain=jp-bank.japanpost.jp&sz=128",country:"JP"},{name:"Industrial and Commercial Bank of China",logo:"https://www.google.com/s2/favicons?domain=icbc.com.cn&sz=128",country:"CN"},{name:"China Construction Bank",logo:"https://www.google.com/s2/favicons?domain=ccb.com&sz=128",country:"CN"},{name:"Agricultural Bank of China",logo:"https://www.google.com/s2/favicons?domain=abchina.com&sz=128",country:"CN"},{name:"Bank of China",logo:"https://www.google.com/s2/favicons?domain=boc.cn&sz=128",country:"CN"},{name:"Bank of Communications",logo:"https://www.google.com/s2/favicons?domain=bankcomm.com&sz=128",country:"CN"},{name:"China Merchants Bank",logo:"https://www.google.com/s2/favicons?domain=cmbchina.com&sz=128",country:"CN"},{name:"Postal Savings Bank of China",logo:"https://www.google.com/s2/favicons?domain=psbc.com&sz=128",country:"CN"},{name:"Industrial Bank",logo:"https://www.google.com/s2/favicons?domain=cib.com.cn&sz=128",country:"CN"},{name:"China Minsheng Bank",logo:"https://www.google.com/s2/favicons?domain=cmbc.com.cn&sz=128",country:"CN"},{name:"Shanghai Pudong Development Bank",logo:"https://www.google.com/s2/favicons?domain=spdb.com.cn&sz=128",country:"CN"},{name:"Nordea Sweden",logo:"https://www.google.com/s2/favicons?domain=nordea.se&sz=128",country:"SE"},{name:"Swedbank",logo:"https://www.google.com/s2/favicons?domain=swedbank.se&sz=128",country:"SE"},{name:"SEB",logo:"https://www.google.com/s2/favicons?domain=seb.se&sz=128",country:"SE"},{name:"Handelsbanken",logo:"https://www.google.com/s2/favicons?domain=handelsbanken.se&sz=128",country:"SE"},{name:"Länsförsäkringar Bank",logo:"https://www.google.com/s2/favicons?domain=lansforsakringar.se&sz=128",country:"SE"},{name:"DNB",logo:"https://www.google.com/s2/favicons?domain=dnb.no&sz=128",country:"NO"},{name:"Nordea Norway",logo:"https://www.google.com/s2/favicons?domain=nordea.no&sz=128",country:"NO"},{name:"SpareBank 1",logo:"https://www.google.com/s2/favicons?domain=sparebank1.no&sz=128",country:"NO"},{name:"Danske Bank Norway",logo:"https://www.google.com/s2/favicons?domain=danskebank.no&sz=128",country:"NO"},{name:"Danske Bank",logo:"https://www.google.com/s2/favicons?domain=danskebank.dk&sz=128",country:"DK"},{name:"Nordea Denmark",logo:"https://www.google.com/s2/favicons?domain=nordea.dk&sz=128",country:"DK"},{name:"Jyske Bank",logo:"https://www.google.com/s2/favicons?domain=jyskebank.dk&sz=128",country:"DK"},{name:"Sydbank",logo:"https://www.google.com/s2/favicons?domain=sydbank.dk&sz=128",country:"DK"},{name:"ANZ New Zealand",logo:"https://www.google.com/s2/favicons?domain=anz.co.nz&sz=128",country:"NZ"},{name:"ASB Bank",logo:"https://www.google.com/s2/favicons?domain=asb.co.nz&sz=128",country:"NZ"},{name:"Bank of New Zealand",logo:"https://www.google.com/s2/favicons?domain=bnz.co.nz&sz=128",country:"NZ"},{name:"Westpac New Zealand",logo:"https://www.google.com/s2/favicons?domain=westpac.co.nz&sz=128",country:"NZ"},{name:"Kiwibank",logo:"https://www.google.com/s2/favicons?domain=kiwibank.co.nz&sz=128",country:"NZ"},{name:"BBVA México",logo:"https://www.google.com/s2/favicons?domain=bbva.mx&sz=128",country:"MX"},{name:"Santander México",logo:"https://www.google.com/s2/favicons?domain=santander.com.mx&sz=128",country:"MX"},{name:"Citibanamex",logo:"https://www.google.com/s2/favicons?domain=banamex.com&sz=128",country:"MX"},{name:"Banorte",logo:"https://www.google.com/s2/favicons?domain=banorte.com&sz=128",country:"MX"},{name:"HSBC México",logo:"https://www.google.com/s2/favicons?domain=hsbc.com.mx&sz=128",country:"MX"},{name:"Scotiabank México",logo:"https://www.google.com/s2/favicons?domain=scotiabank.com.mx&sz=128",country:"MX"},{name:"Inbursa",logo:"https://www.google.com/s2/favicons?domain=inbursa.com&sz=128",country:"MX"},{name:"Banco do Brasil",logo:"https://www.google.com/s2/favicons?domain=bb.com.br&sz=128",country:"BR"},{name:"Itaú Unibanco",logo:"https://www.google.com/s2/favicons?domain=itau.com.br&sz=128",country:"BR"},{name:"Bradesco",logo:"https://www.google.com/s2/favicons?domain=bradesco.com.br&sz=128",country:"BR"},{name:"Caixa Econômica Federal",logo:"https://www.google.com/s2/favicons?domain=caixa.gov.br&sz=128",country:"BR"},{name:"Santander Brasil",logo:"https://www.google.com/s2/favicons?domain=santander.com.br&sz=128",country:"BR"},{name:"Banco Safra",logo:"https://www.google.com/s2/favicons?domain=safra.com.br&sz=128",country:"BR"},{name:"BTG Pactual",logo:"https://www.google.com/s2/favicons?domain=btgpactual.com&sz=128",country:"BR"},{name:"Nubank",logo:"https://www.google.com/s2/favicons?domain=nubank.com.br&sz=128",country:"BR"},{name:"Standard Bank",logo:"https://www.google.com/s2/favicons?domain=standardbank.co.za&sz=128",country:"ZA"},{name:"FirstRand Bank",logo:"https://www.google.com/s2/favicons?domain=firstrand.co.za&sz=128",country:"ZA"},{name:"Absa Group",logo:"https://www.google.com/s2/favicons?domain=absa.co.za&sz=128",country:"ZA"},{name:"Nedbank",logo:"https://www.google.com/s2/favicons?domain=nedbank.co.za&sz=128",country:"ZA"},{name:"Capitec Bank",logo:"https://www.google.com/s2/favicons?domain=capitecbank.co.za&sz=128",country:"ZA"},{name:"Investec",logo:"https://www.google.com/s2/favicons?domain=investec.com&sz=128",country:"ZA"},{name:"Emirates NBD",logo:"https://www.google.com/s2/favicons?domain=emiratesnbd.com&sz=128",country:"AE"},{name:"First Abu Dhabi Bank",logo:"https://www.google.com/s2/favicons?domain=fab.ae&sz=128",country:"AE"},{name:"Abu Dhabi Commercial Bank",logo:"https://www.google.com/s2/favicons?domain=adcb.com&sz=128",country:"AE"},{name:"Dubai Islamic Bank",logo:"https://www.google.com/s2/favicons?domain=dib.ae&sz=128",country:"AE"},{name:"Mashreq Bank",logo:"https://www.google.com/s2/favicons?domain=mashreqbank.com&sz=128",country:"AE"},{name:"RAKBANK",logo:"https://www.google.com/s2/favicons?domain=rakbank.ae&sz=128",country:"AE"},{name:"Commercial Bank of Dubai",logo:"https://www.google.com/s2/favicons?domain=cbd.ae&sz=128",country:"AE"},{name:"Al Rajhi Bank",logo:"https://www.google.com/s2/favicons?domain=alrajhibank.com.sa&sz=128",country:"SA"},{name:"National Commercial Bank",logo:"https://www.google.com/s2/favicons?domain=alahli.com&sz=128",country:"SA"},{name:"Riyad Bank",logo:"https://www.google.com/s2/favicons?domain=riyadbank.com&sz=128",country:"SA"},{name:"Samba Financial Group",logo:"https://www.google.com/s2/favicons?domain=samba.com&sz=128",country:"SA"},{name:"Saudi British Bank",logo:"https://www.google.com/s2/favicons?domain=sabb.com&sz=128",country:"SA"},{name:"Arab National Bank",logo:"https://www.google.com/s2/favicons?domain=anb.com.sa&sz=128",country:"SA"},{name:"Banque Saudi Fransi",logo:"https://www.google.com/s2/favicons?domain=alfransi.com.sa&sz=128",country:"SA"}];function go(t){return vo.filter(g=>g.country===t)}function Oo(t){const g=vo.find(p=>p.name.toLowerCase()===t.toLowerCase());return g?g.logo:`https://www.google.com/s2/favicons?domain=${t.toLowerCase().replace(/\s+/g,"").replace(/bank|financial|group|ltd|limited|inc|corporation|corp/gi,"")}.com&sz=128`}function _o(){if(typeof window>"u"||!window.navigator)return"other";const t=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(t)?"ios":/android/.test(t)?"android":/macintosh|mac os x/.test(t)?"ios":"other"}function Ko(t){switch(t||_o()){case"ios":return"App Store";case"android":return"Play Store";default:return"App Store"}}function qo({loanPrincipal:t,interestRate:g,loanStartDate:f,currency:p,onPaymentsChange:E,initialPayments:U=[],accountId:C,interestRateType:J,dueDayOfMonth:X}){const{toast:z}=po(),[s,a]=d.useState(U),[c,M]=d.useState([]),[u,N]=d.useState({payment_date:"",emi_amount:"",notes:""}),[O,S]=d.useState(null),[A,P]=d.useState({principal_component:"",interest_component:""}),[K,n]=d.useState([]),[r,v]=d.useState(!1);d.useEffect(()=>{E(s)},[s]),d.useEffect(()=>{C?y():n([{id:"temp",account_id:"temp",interest_rate:g,effective_date:f,created_at:new Date().toISOString()}])},[C,g,f]);const y=async()=>{if(C){v(!0);try{const e=await uo.getInterestRateHistory(C);e.length===0?n([{id:"temp",account_id:C,interest_rate:g,effective_date:f,created_at:new Date().toISOString()}]):n(e)}catch(e){console.error("Error loading interest rate history:",e),z({title:"Warning",description:"Could not load interest rate history. Using current rate.",variant:"destructive"}),n([{id:"temp",account_id:C||"temp",interest_rate:g,effective_date:f,created_at:new Date().toISOString()}])}finally{v(!1)}}},L=()=>{if(!u.payment_date||!u.emi_amount)return;const e=parseFloat(u.emi_amount);if(isNaN(e)||e<=0)return;const i={payment_date:u.payment_date,emi_amount:u.emi_amount,notes:u.notes};M([...c,i]),N({payment_date:"",emi_amount:"",notes:""})},q=e=>{M(c.filter((i,_)=>_!==e))},Z=()=>{if(c.length===0){z({title:"No Entries",description:"Please add EMI payment entries first.",variant:"destructive"});return}const e=[...c].sort((w,D)=>new Date(w.payment_date).getTime()-new Date(D.payment_date).getTime()),i=e.map(w=>({payment_date:w.payment_date,emi_amount:parseFloat(w.emi_amount)})),_=K.map(w=>({effective_date:w.effective_date,interest_rate:w.interest_rate})),F=s.length>0?s[s.length-1].outstanding_principal:t,oo=s.length>0?s[s.length-1].payment_date:f,W=Lo(oo,F,i,_,X),B=s.length+1,V=W.map((w,D)=>{var eo;return{...w,payment_number:B+D,interest_rate:g,notes:((eo=e[D])==null?void 0:eo.notes)||""}});a([...s,...V]),M([]),z({title:"Success",description:`Calculated components for ${W.length} payments.`})},l=e=>{const i=s.filter((_,F)=>F!==e).map((_,F)=>({..._,payment_number:F+1}));a(i)},Q=e=>{S(e),P({principal_component:s[e].principal_component.toString(),interest_component:s[e].interest_component.toString()})},xo=e=>{const i=parseFloat(A.principal_component),_=parseFloat(A.interest_component);if(isNaN(i)||isNaN(_)){z({title:"Invalid Input",description:"Please enter valid numbers for principal and interest.",variant:"destructive"});return}const oo=s[e].emi_amount,W=i+_;if(Math.abs(W-oo)>.01){z({title:"Validation Error",description:"Principal + Interest must equal EMI Amount.",variant:"destructive"});return}const B=[...s];let V=e===0?t:s[e-1].outstanding_principal;B[e]={...B[e],principal_component:i,interest_component:_,outstanding_principal:Math.max(0,Math.round((V-i)*100)/100)};for(let w=e+1;w<B.length;w++){V=B[w-1].outstanding_principal;const D=Math.max(0,Math.round((V-B[w].principal_component)*100)/100);B[w]={...B[w],outstanding_principal:D}}a(B),S(null),z({title:"Success",description:"Payment updated successfully."})},bo=()=>{S(null),P({principal_component:"",interest_component:""})},ko=s.reduce((e,i)=>e+i.principal_component,0),jo=s.reduce((e,i)=>e+i.interest_component,0),zo=s.length>0?s[s.length-1].outstanding_principal:t;return o.jsxs(ho,{children:[o.jsxs(wo,{children:[o.jsxs(yo,{className:"flex items-center gap-2",children:[o.jsx(so,{className:"h-5 w-5"}),"EMI Payment History"]}),o.jsx(Bo,{children:"Record each EMI payment to track principal and interest breakdown accurately"})]}),o.jsxs(fo,{className:"space-y-6",children:[t>0&&g>0&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-muted rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Principal Paid"}),o.jsx("p",{className:"text-lg font-semibold",children:I(ko,p)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Interest Paid"}),o.jsx("p",{className:"text-lg font-semibold",children:I(jo,p)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Outstanding Principal"}),o.jsx("p",{className:"text-lg font-semibold",children:I(zo,p)})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-medium",children:"Step 1: Add EMI Payment Entries"}),J==="floating"&&K.length>1&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[K.length," rate changes detected"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"payment_date",children:"Payment Date *"}),o.jsx(h,{id:"payment_date",type:"date",value:u.payment_date,onChange:e=>N({...u,payment_date:e.target.value}),min:f,max:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"emi_amount",children:"EMI Amount *"}),o.jsx(h,{id:"emi_amount",type:"number",step:"0.01",placeholder:"0.00",value:u.emi_amount,onChange:e=>N({...u,emi_amount:e.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"notes",children:"Notes (Optional)"}),o.jsx(h,{id:"notes",type:"text",placeholder:"Payment notes",value:u.notes,onChange:e=>N({...u,notes:e.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{className:"invisible",children:"Action"}),o.jsxs(x,{type:"button",onClick:L,disabled:!u.payment_date||!u.emi_amount||!t||!g,className:"w-full",children:[o.jsx(Fo,{className:"mr-2 h-4 w-4"}),"Add Entry"]})]})]})]}),c.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h4",{className:"font-medium",children:["EMI Entries (",c.length,")"]}),o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsxs(co,{children:[o.jsx(io,{children:o.jsxs($,{children:[o.jsx(b,{children:"Date"}),o.jsx(b,{className:"text-right",children:"EMI Amount"}),o.jsx(b,{children:"Notes"}),o.jsx(b,{className:"w-12"})]})}),o.jsx(lo,{children:c.map((e,i)=>o.jsxs($,{children:[o.jsx(k,{children:new Date(e.payment_date).toLocaleDateString()}),o.jsx(k,{className:"text-right font-medium",children:I(parseFloat(e.emi_amount),p)}),o.jsx(k,{className:"text-sm text-muted-foreground",children:e.notes||"-"}),o.jsx(k,{children:o.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>q(i),children:o.jsx(ro,{className:"h-4 w-4 text-destructive"})})})]},i))})]})}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(x,{type:"button",onClick:Z,disabled:r,className:"flex-1",children:[o.jsx(Do,{className:"mr-2 h-4 w-4"}),"Step 2: Calculate Principal & Interest Components"]})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Interest will be calculated from day 1 of loan",J==="floating"?", considering all rate changes":"","."]})]}),s.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h4",{className:"font-medium",children:["Payment History (",s.length," payments)"]}),o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(co,{children:[o.jsx(io,{children:o.jsxs($,{children:[o.jsx(b,{className:"w-12",children:"#"}),o.jsx(b,{children:"Date"}),o.jsx(b,{className:"text-right",children:"EMI Amount"}),o.jsx(b,{className:"text-right",children:"Principal"}),o.jsx(b,{className:"text-right",children:"Interest"}),o.jsx(b,{className:"text-right",children:"Outstanding"}),o.jsx(b,{children:"Notes"}),o.jsx(b,{className:"w-24",children:"Actions"})]})}),o.jsx(lo,{children:s.map((e,i)=>o.jsxs($,{children:[o.jsx(k,{className:"font-medium",children:e.payment_number}),o.jsx(k,{children:new Date(e.payment_date).toLocaleDateString()}),o.jsx(k,{className:"text-right font-medium",children:I(e.emi_amount,p)}),o.jsx(k,{className:"text-right text-green-600 dark:text-green-400",children:O===i?o.jsx(h,{type:"number",step:"0.01",value:A.principal_component,onChange:_=>P({...A,principal_component:_.target.value}),className:"w-24 h-8 text-right"}):I(e.principal_component,p)}),o.jsx(k,{className:"text-right text-orange-600 dark:text-orange-400",children:O===i?o.jsx(h,{type:"number",step:"0.01",value:A.interest_component,onChange:_=>P({...A,interest_component:_.target.value}),className:"w-24 h-8 text-right"}):I(e.interest_component,p)}),o.jsx(k,{className:"text-right",children:I(e.outstanding_principal,p)}),o.jsx(k,{className:"text-sm text-muted-foreground",children:e.notes||"-"}),o.jsx(k,{children:o.jsx("div",{className:"flex gap-1",children:O===i?o.jsxs(o.Fragment,{children:[o.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>xo(i),title:"Save changes",children:o.jsx(Eo,{className:"h-4 w-4 text-green-600"})}),o.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:bo,title:"Cancel editing",children:o.jsx(Co,{className:"h-4 w-4 text-muted-foreground"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>Q(i),title:"Edit principal/interest",children:o.jsx(Ro,{className:"h-4 w-4 text-primary"})}),o.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(i),title:"Delete payment",children:o.jsx(ro,{className:"h-4 w-4 text-destructive"})})]})})})]},i))})]})})})]}),s.length===0&&o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(so,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No EMI payments recorded yet"}),o.jsx("p",{className:"text-sm",children:"Add payment details above to track your loan repayment history"})]})]})]})}function sa(){const{id:t}=So(),g=Ao(),{user:f,profile:p}=Io(),{toast:E}=po(),[U,C]=d.useState(!1),[J,X]=d.useState(!!t),[z,s]=d.useState(!1),[a,c]=d.useState({account_type:"bank",account_name:"",country:(p==null?void 0:p.default_country)||"IN",institution_name:"",institution_logo:"",last_4_digits:"",balance:"0",currency:(p==null?void 0:p.default_currency)||"INR",loan_principal:"",loan_tenure_months:"",loan_start_date:"",interest_rate_type:"fixed",current_interest_rate:"",due_date:"",statement_day:"",due_day:"",credit_limit:""}),[M,u]=d.useState(0),[N,O]=d.useState(go(a.country)),[S,A]=d.useState([]);d.useEffect(()=>{if(a.account_type==="loan"&&a.loan_principal&&a.current_interest_rate&&a.loan_tenure_months){const n=Uo(parseFloat(a.loan_principal),parseFloat(a.current_interest_rate),parseInt(a.loan_tenure_months));u(n)}else u(0)},[a.loan_principal,a.current_interest_rate,a.loan_tenure_months,a.account_type]),d.useEffect(()=>{t&&f&&P()},[t,f]),d.useEffect(()=>{const n=go(a.country);O(n),n.length>0&&!z&&s(!1)},[a.country]);const P=async()=>{var n,r,v,y,L,q,Z;if(t){X(!0);try{const l=await ao.getAccountById(t);if(l&&(c({account_type:l.account_type,account_name:l.account_name,country:l.country,institution_name:l.institution_name,institution_logo:l.institution_logo||"",last_4_digits:l.last_4_digits||"",balance:l.balance.toString(),currency:l.currency,loan_principal:((n=l.loan_principal)==null?void 0:n.toString())||"",loan_tenure_months:((r=l.loan_tenure_months)==null?void 0:r.toString())||"",loan_start_date:l.loan_start_date||"",interest_rate_type:l.interest_rate_type||"fixed",current_interest_rate:((v=l.current_interest_rate)==null?void 0:v.toString())||"",due_date:((y=l.due_date)==null?void 0:y.toString())||"",statement_day:((L=l.statement_day)==null?void 0:L.toString())||"",due_day:((q=l.due_day)==null?void 0:q.toString())||"",credit_limit:((Z=l.credit_limit)==null?void 0:Z.toString())||""}),l.account_type==="loan")){const Q=await Y.getPaymentsByAccount(t);A(Q)}}catch(l){console.error("Error loading account:",l),E({title:"Error",description:"Failed to load account",variant:"destructive"})}finally{X(!1)}}},K=async n=>{if(n.preventDefault(),!!f){if(a.account_type==="loan"&&(!a.loan_principal||!a.loan_tenure_months||!a.current_interest_rate||!a.loan_start_date||!a.due_date)){E({title:"Error",description:"Please fill in all loan details including start date and due date",variant:"destructive"});return}C(!0);try{const r={user_id:f.id,account_type:a.account_type,account_name:a.account_name,country:a.country,institution_name:a.account_type==="cash"?"Cash":a.institution_name,institution_logo:a.account_type==="cash"?null:a.institution_logo||Oo(a.institution_name),last_4_digits:a.last_4_digits||null,balance:parseFloat(a.balance)||0,currency:a.currency,loan_principal:a.account_type==="loan"?parseFloat(a.loan_principal):null,loan_tenure_months:a.account_type==="loan"?parseInt(a.loan_tenure_months):null,loan_start_date:a.account_type==="loan"?a.loan_start_date:null,interest_rate_type:a.account_type==="loan"?a.interest_rate_type:null,current_interest_rate:a.account_type==="loan"?parseFloat(a.current_interest_rate):null,due_date:a.account_type==="loan"?parseInt(a.due_date):null,statement_day:a.account_type==="credit_card"&&a.statement_day?parseInt(a.statement_day):null,due_day:a.account_type==="credit_card"&&a.due_day?parseInt(a.due_day):null,credit_limit:a.account_type==="credit_card"&&a.credit_limit?parseFloat(a.credit_limit):null};if(t){if(await ao.updateAccount(t,r),a.account_type==="loan"&&S.length>0){await Y.deletePaymentsByAccount(t);const v=S.map(y=>{const{id:L,created_at:q,updated_at:Z,...l}=y;return{...l,user_id:f.id,account_id:t}});await Y.createBulkPayments(v)}mo.clearPattern("dashboard-"),E({title:"Success",description:"Account updated successfully"})}else{const v=await ao.createAccount(r);if(a.account_type==="loan"&&a.current_interest_rate&&a.loan_start_date&&(await uo.addInterestRate({account_id:v.id,interest_rate:parseFloat(a.current_interest_rate),effective_date:a.loan_start_date}),S.length>0)){const y=S.map(L=>({...L,user_id:f.id,account_id:v.id}));await Y.createBulkPayments(y)}mo.clearPattern("dashboard-"),E({title:"Success",description:"Account created successfully"})}g("/accounts")}catch(r){console.error("Error saving account:",r),E({title:"Error",description:r.message||"Failed to save account",variant:"destructive"})}finally{C(!1)}}};return J?o.jsx("div",{className:"container mx-auto p-6 flex items-center justify-center min-h-[400px]",children:o.jsx(no,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs("div",{className:"container mx-auto p-6 max-w-2xl",children:[o.jsxs(x,{variant:"ghost",onClick:()=>g("/accounts"),className:"mb-4",children:[o.jsx(To,{className:"mr-2 h-4 w-4"}),"Back to Accounts"]}),o.jsxs(ho,{children:[o.jsx(wo,{children:o.jsx(yo,{children:t?"Edit Account":"Add New Account"})}),o.jsx(fo,{children:o.jsxs("form",{onSubmit:K,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"account_type",children:"Account Type *"}),o.jsxs(H,{value:a.account_type,onValueChange:n=>c({...a,account_type:n}),disabled:!!t,children:[o.jsx(T,{children:o.jsx(G,{})}),o.jsxs(R,{children:[o.jsx(j,{value:"cash",children:"Cash"}),o.jsx(j,{value:"bank",children:"Bank Account"}),o.jsx(j,{value:"credit_card",children:"Credit Card"}),o.jsx(j,{value:"loan",children:"Loan Account"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"account_name",children:"Account Name *"}),o.jsx(h,{id:"account_name",value:a.account_name,onChange:n=>c({...a,account_name:n.target.value}),placeholder:"e.g., My Savings Account",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"country",children:"Country *"}),o.jsxs(H,{value:a.country,onValueChange:n=>c({...a,country:n}),children:[o.jsx(T,{children:o.jsx(G,{})}),o.jsx(R,{children:to.map(n=>o.jsx(j,{value:n.code,children:n.name},n.code))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"currency",children:"Currency *"}),o.jsxs(H,{value:a.currency,onValueChange:n=>c({...a,currency:n}),children:[o.jsx(T,{children:o.jsx(G,{})}),o.jsx(R,{children:to.map(n=>o.jsx(j,{value:n.currency,children:n.currency},n.currency))})]})]})]}),a.account_type!=="cash"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"institution_name",children:"Bank/Institution Name *"}),N.length>0&&!z?o.jsxs(H,{value:a.institution_name,onValueChange:n=>{if(n==="other")s(!0),c({...a,institution_name:"",institution_logo:""});else{const r=N.find(v=>v.name===n);c({...a,institution_name:n,institution_logo:(r==null?void 0:r.logo)||""})}},children:[o.jsx(T,{children:o.jsx(G,{placeholder:"Select a bank"})}),o.jsxs(R,{children:[N.map(n=>o.jsx(j,{value:n.name,children:n.name},n.name)),o.jsx(j,{value:"other",children:"Other (Enter manually)"})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx(h,{id:"institution_name",value:a.institution_name,onChange:n=>c({...a,institution_name:n.target.value}),placeholder:"Enter bank name",required:!0}),N.length>0&&z&&o.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>{s(!1),c({...a,institution_name:""})},children:"← Back to bank selection"})]}),a.institution_name&&o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg border",children:[o.jsx(Po,{src:a.institution_logo||null,alt:a.institution_name,bankName:a.institution_name,className:"h-12 w-12"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:"Logo Preview"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This logo will be displayed on your dashboard and accounts page"})]})]}),a.institution_name&&(()=>{const n=N.find(r=>r.name===a.institution_name);if(n){const r=_o(),v=Ko(r);let y="";if(r==="ios"&&n.iosAppLink?y=n.iosAppLink:r==="android"&&n.androidAppLink||n.androidAppLink?y=n.androidAppLink:n.appLink&&(y=n.appLink),y)return o.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-950/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ho,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-emerald-900 dark:text-emerald-100",children:"Mobile Banking App Available"}),o.jsxs("p",{className:"text-xs text-emerald-700 dark:text-emerald-300",children:["Download from ",v," for easy access"]})]})]}),o.jsx(x,{type:"button",size:"sm",variant:"outline",className:"border-emerald-300 dark:border-emerald-700 hover:bg-emerald-100 dark:hover:bg-emerald-900/30",onClick:()=>window.open(y,"_blank"),children:"Open App"})]})})}return null})(),a.institution_name&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"institution_logo",children:"Custom Logo URL (Optional)"}),o.jsx(h,{id:"institution_logo",type:"url",value:a.institution_logo,onChange:n=>c({...a,institution_logo:n.target.value}),placeholder:"https://example.com/logo.png"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"If the automatic logo is incorrect or unavailable, paste a logo URL from the internet here"})]})]}),a.account_type!=="cash"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"last_4_digits",children:"Last 4 Digits (Optional)"}),o.jsx(h,{id:"last_4_digits",value:a.last_4_digits,onChange:n=>c({...a,last_4_digits:n.target.value.slice(0,4)}),placeholder:"1234",maxLength:4}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Only the last 4 digits will be displayed for security"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"balance",children:a.account_type==="loan"||a.account_type==="credit_card"?"Outstanding Balance *":"Current Balance *"}),o.jsx(h,{id:"balance",type:"number",step:"0.01",value:a.balance,onChange:n=>c({...a,balance:n.target.value}),placeholder:"0.00",required:!0})]}),a.account_type==="credit_card"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"statement_day",children:"Statement Day of Month"}),o.jsx(h,{id:"statement_day",type:"number",min:"1",max:"31",value:a.statement_day,onChange:n=>c({...a,statement_day:n.target.value}),placeholder:"e.g., 15"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Day of the month when your credit card statement is generated (1-31)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"due_day",children:"Payment Due Day of Month"}),o.jsx(h,{id:"due_day",type:"number",min:"1",max:"31",value:a.due_day,onChange:n=>c({...a,due_day:n.target.value}),placeholder:"e.g., 25"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Day of the month when your credit card payment is due (1-31)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"credit_limit",children:"Credit Limit (Optional)"}),o.jsx(h,{id:"credit_limit",type:"number",min:"0",step:"0.01",value:a.credit_limit,onChange:n=>c({...a,credit_limit:n.target.value}),placeholder:"e.g., 50000"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum credit limit for this card. You'll be warned when approaching this limit."})]})]}),a.account_type==="loan"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"loan_principal",children:"Loan Principal Amount *"}),o.jsx(h,{id:"loan_principal",type:"number",step:"0.01",value:a.loan_principal,onChange:n=>c({...a,loan_principal:n.target.value}),placeholder:"0.00",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"loan_tenure_months",children:"Loan Tenure (Months) *"}),o.jsx(h,{id:"loan_tenure_months",type:"number",value:a.loan_tenure_months,onChange:n=>c({...a,loan_tenure_months:n.target.value}),placeholder:"12",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"loan_start_date",children:"Loan Start Date *"}),o.jsx(h,{id:"loan_start_date",type:"date",value:a.loan_start_date,onChange:n=>c({...a,loan_start_date:n.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"due_date",children:"Payment Due Date (Day of Month) *"}),o.jsxs(H,{value:a.due_date,onValueChange:n=>c({...a,due_date:n}),children:[o.jsx(T,{children:o.jsx(G,{placeholder:"Select day of month"})}),o.jsx(R,{children:Array.from({length:31},(n,r)=>r+1).map(n=>o.jsx(j,{value:n.toString(),children:n},n))})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Day of month when loan payment is due (e.g., 15 for 15th of every month)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"interest_rate_type",children:"Interest Rate Type *"}),o.jsxs(H,{value:a.interest_rate_type,onValueChange:n=>c({...a,interest_rate_type:n}),children:[o.jsx(T,{children:o.jsx(G,{})}),o.jsxs(R,{children:[o.jsx(j,{value:"fixed",children:"Fixed"}),o.jsx(j,{value:"floating",children:"Floating"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(m,{htmlFor:"current_interest_rate",children:"Current Interest Rate (%) *"}),o.jsx(h,{id:"current_interest_rate",type:"number",step:"0.01",value:a.current_interest_rate,onChange:n=>c({...a,current_interest_rate:n.target.value}),placeholder:"5.00",required:!0})]}),M>0&&o.jsxs("div",{className:"space-y-2 bg-muted p-4 rounded-lg",children:[o.jsx(m,{className:"text-sm font-medium",children:"Calculated EMI"}),o.jsx("div",{className:"text-2xl font-bold text-primary",children:Mo(M,a.currency)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly payment based on principal, interest rate, and tenure"})]})]}),a.account_type==="loan"&&a.loan_principal&&a.current_interest_rate&&a.loan_start_date&&o.jsx("div",{className:"col-span-2",children:o.jsx(qo,{loanPrincipal:parseFloat(a.loan_principal)||0,interestRate:parseFloat(a.current_interest_rate)||0,loanStartDate:a.loan_start_date,currency:a.currency,onPaymentsChange:A,initialPayments:S,accountId:t,interestRateType:a.interest_rate_type,dueDayOfMonth:a.due_date?parseInt(a.due_date):void 0})}),a.account_type!=="loan"&&o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(x,{type:"submit",disabled:U,className:"flex-1",children:[U&&o.jsx(no,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Update Account":"Create Account"]}),o.jsx(x,{type:"button",variant:"outline",onClick:()=>g("/accounts"),children:"Cancel"})]}),a.account_type==="loan"&&o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(x,{type:"submit",disabled:U,className:"flex-1",children:[U&&o.jsx(no,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Update Account":"Create Account"]}),o.jsx(x,{type:"button",variant:"outline",onClick:()=>g("/accounts"),children:"Cancel"})]})]})})]})]})}export{sa as default};
